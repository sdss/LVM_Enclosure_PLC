// Options: Export entire program; Code Block delimiter instructions;
// Formatted Rung Comments; Element Documentation Database; System Configuration;
// Memory Configuration/Devices with Built-In Types and User Add-Ons;
// use Element names (no NickNames); rung/address annotations;
// <TAB> parameter delimiter; 
// Write/overwrite file C:\LVM_Enclosure_PLC\PLC code\LVM Simple_EXPORT_DMD.txt

PLC H2-DM1E

// Do not modify SYS_CONFIG block!
#BEGIN SYS_CONFIG
55730a18ce826c67e271d34eeb4036bc27b07c361c42fc58b367f3edd79e714752e8ea51da5606d3
4904068336ab91fb650483d428ff082a00fd80cedb51739b1b744df50536305cfa7a5de6458ab56f
e5878483cb1f2f898455e4e537132ca0198e22d031720c11363ca2da3640895b90c9b89969380984
6ebabaf702083737c3bde037a9dd241fb70f6d7644792dbe3c977c291ac9e6472a3045015735a1a5
bcead62c0af35d4267a9f5d91022c2895a6ebdd995cbc7b77d55bef0890de35aa4908dd578834df8
c1aed9096bce2339555fcd85c5e43e577b91b62271a5f5116ab9db9a766eb512bf0ccca875cde315
761ce52e61ab157702f01f53a092d919dfb3b75cae41e42ce29d35a4e11402e86b91737922ef98a7
1238c4f7d4af4bfe72ccdf2f96345899766f193c3c7f8bb70a3f9faa56ba16a4dce9ca20d7ff8fa6
d59f2637dd8787d85e5a2779b057ffb6b45b0ccde63742e9d2f3065758f65013fd52b417248dc8a3
791e2d50ca98a05576cabfefc90a070b30066077f901da82f8aad5fd87fe4390cd1ed68e8cbf9401
48cacfb0781699796e1f71109d3dab1dd768f4c08815ed0de4e3e3351dcae986e68b4cd0b2e11ffc
476d25d2a4378261721ffbfe2c782f59ce76a7b24f438921f0813d50e9a9ce83cab7bd778163e8e2
2bd2733bcd47862435e0c43ad6eadd65cfd6c5cea18fee906952030134e83126069038defec8d0cc
b43f32cf1b906dfc378c42bfa7cc71d26f8318256501fc90ecfb948b6cb8620956574d1bbfc39593
a3e04d593b41295c40a3c63fb5b925e4187914bab9f845ba305fb31ff4b78dffa5388fd59457e933
fb63ca740e62d472b8877ee66f8f782b1695d808043211b986099034c8569a3116d327559ef9523f
fada799aa82dc6d1a28311248c84e918253650a10d24eb88a7c5ee95b7f910bafb54dba5f5e9b521
414e24766f74119d9db2e597707d2253f4e5d3ebf7dc19eb7ee25aa870d5b90fc5a1ef2a28319ace
6272cfc3cc88865f3a53b3168381228e2b02c73b70e81475be15d8cdf509774a095365a9922f5c91
e32a1710b36c245884fbe91d3b16725e586fd29cc7eb773c30ef5df1f568bee8ec70572b02889b47
e9a817bf2f27d76392a6b3bf42ebe60dc9187817cfde3cbdd821c06aec634f088b130e94ff0a75b7
1977262c62bf514d563530bed4581483e9c1d4ce4a64237086da31fbd0ab8cddc7c4e2bb5ab861c3
80b0f338b0f2ceaa85c14d9e3992b16d2c68b4a6896a2981fd3c78b6ab8af4d96e712ef4583174fc
2a4bb3c4fcff9a479ed7d24f20306de1c8bf77dcdd9606def4bdb442f5066e4762eb2b4d1e22b899
572e0b643e060b0badafac0dfb91be6b0e45b2a84520a933ffb41fc1189fbbd8e58a376bf2512a00
55518aa375255aa043f038ce8cd77dc53c5162cfea7457f32294ffa3a3182c9ad6d671fd4143e826
986ea7a330aab39c2bd0662639a4c0a6035c05029b9272bd87c3699feafb080c3e2f683a7de602df
5199a282d10fe4e173aee23f71e8b2ad2976261d1a86c777100210c0f759e4eaa85297d6f1ca91ac
1f28865e509a9380e5a8774e38860419a901efb25f47887f61de401a944eeb0d695311b4fb4d2b9b
8c4cf2f017e16f1ece6e1ec15a8e58b594c73b9bd8f94896a27162b08453feb9a4113fdbede49a56
5f0fed25a979fea676ef9941d86441a3c695631520b7bb22ed81dc5d41c1a5b1126277cb2afac936
28d91d1fc29450e7585ec720de05a1fc3aa4d0c4b1a6101a56e102146f2a37c59cb56b4ca7922d27
36a0aa2569a87fa3d73b10df569957087f8764f8f7b5f88800b9b03cfe1de35cd0f3dc5f2677f45b
f66b097c99e68c663bd6f8110977a1940752951cee231283cfa2069e60ed83d46076c90b4dbc2e23
19f5dd0e533cb5fab135e00432cea46a69d71a4b788972c21c33c72227732bfe7c6c17f9945a56bd
81c4544d08030bae4d7a6607f69d3f8284751140a6ceb849c0348ea81d6f5ad26690de5bb391c2d9
6d2aca28f7bb3464ba9ed135f40b353faf0d4211f702a3f03e9e28cfb0da403e85fa123202d0fba3
26e1689ad7a615d20fc6d9f1fa8603592f318477e7bd84184c60ef24023434bd22a80b3617fee217
8103e662ae1452e78d2542464e83f80f1ec389677b8016e43118c9396a9d5c9f42866a1194a8c345
3ac82b7745e98caf0c911159515dcf7ebd68922fdd8e7ded2d4971dc0c8be6e04f03b06c55912f85
a2fcd588753912a8af370c417c7624ec9167e37158b9d356d0f0847776698ad9f46061a3ff674108
c1ec88901399d65c7f09346b180f6af95a3731bf72bdf3c8dd9615a641338ede2fcbf490a9778655
ed92cc925221e6fbc9c8514bfbfe759489ceeaa5f0a4d876de9791d38a9635dd950bf96dbd78e4ce
89d7ef672854fbc876e0c7b5058568ea8f961496fdf8f6999b2f197f2e86296a5b6887f530d1ea6f
ede5e1647b1b455f2c20405cd5769ad356a41fabcef8412ab8252a19d119fc2c0bc80eb03cec3bb5
415de2484ef3fc81e585b3e98925912b0c4e372b18f03034ba44cac06a6e5469625650d6bff16b65
187e10263e719d32a9951cd4a39ea876191f6ee4fadf9e7fd84a97fb56c114dcf508a664df6dbaa2
bc94799c3d37a5c27d64585d800ee6e95cec947e4213c68f9f374752c76ade046608c52f0353e9c8
e72ebb0e686bfe7ebf32f1d05203aa5ceaae691350fa7ec508394678733d51c5252ff1ae2890830c
3b4abb33cff3b7d14b5418b16015b71829bae6fe34c0032bb361552a63e88fa80a154100e95795f3
371d03020c1da6d4c452793c29ab1f7b5053f5fa45fe6076737c12f5a298d1c1f10701089bb7c3cb
bf86d45a1f0c8e0b2fe0e3384e2e83fd7ec34cf4f2684b95309ffc8dca09c167d29a3cf62cb84c57
32634907bac262ad62d50aa327c10203e6c7f744a1a92c2c4c5a70e6ab3f6242448617d2d7d6f7d7
fd3906ca54819851ba9d51e0857169b028031d9db90a67fb17e84dd4f878afd4ea2c081e3eec6b3e
cd667d8bb15483a96c1af946fbc63458b4646a090722c4b774c57480b12b264f0b60a1259df2e4a8
1475a97eb137fa66a4f45883fabbcdc528ffb74b2c4dd82273734ec32539092efbf32626c4438289
70fbbdf476b7f425b4f673544eaa6bd5bc7058f045433931b7ec92668d5d4c46869288cb3a7bad8f
097e4e5c9fffbdc5647960b75a22ab88829fb895b25d7c301c8ffdff8a2fba92c1a4d652b24a5361
f4eee51e42e72d31a2ee514814f2bb68d22ede6b999909191481b32afe3c3221d5211dc2b27933de
4c93728891c39105ad7763a2c2210085ad8ba607f03032385692412b3ecb673ce926a1e8f85c1c16
60eb38c4c700897bb6d782775ecb9fa8a89b9babfa4fa98e9beb62414bc2a991a165b7adf15908ed
3d58247c2a3d5d8a99fc93e2cb560e9a6a2e605595dc9bf78260558381e80bb6aca6a69da2bca643
5c25025ffc6645eb07adf878da8c7b8856171d9a491c8dae69380ea7a197a2047b7c8364bf4a451b
9f0de09fa589e245e164fba531c135b85862d4322a9abd2f536f412c1a570875c0f871e3ac49eced
8476b96f78a4669313b1e7b043656723e689965a89440d4ac6bdb2825456bf5631202a2a1126b82e
618421345dfe6447e919db354af76bcc872a69036622442b6f49fbf091ee244af11b393d14504d95
bee0f880d7860f620dfcd69b6c529c8fc2d7d066a698fc1dfc2ab0a113a80a0030fa6754706dedd7
f97f1a8a9c03df9cfaa587c018f198a6ad6c031cd1720bb5490ae8d6bfc777d16d66c86af0f5e595
12a68c8851df3ac94cc2363f6c415649ff3f81f8b7c3403ff8136e7d77778cb8bcdf6f8545401d5d
380460c0babf2f0694ab80490aff4106022e27b4a8814cfca3c84b270f20cdd0dac94df47be0af4a
efea030e3ee79579cfd5556fc1446108b4590e1c7cf8da0525a1e4280beae9732b42ac2cd9d688a3
bd85607f8686ef6ef4d7f910e6bb3b99cf567503114e56de0abd4179af2b950929bd01f9dc8256b5
4003e1d990465cc40f0f7cc3e5f87b0540563012a3aa660fd1d8c1e9410cb9d083752052dde35548
fc17d03673bf33084cf4e405edf5cd9d46a3c3a64d9004bfd20a5fd9c9a5317666058bdf0c7cefc2
e3f8628962143138e7cf6a4766f9bedcea7b9cb52c6e5afeb32972dab7f27b58c13a003638ce42f3
4667c955473fccd85caefd2b897d15b54031ce24c1e9679450158a4d23dc12899620c787f27064b1
4a72ba4b483e649ebef6a4c26501132ce72e694485eb8c0151f0eddffd8e418818d7216ba05b9f07
341aff092870add21e0edae7534651daa42a7eacf38adfeda9125cb114104de954175a61fa917d0b
a16fe2a74cff14b476faaa04192bc9a87d787792aaada3ed37bfbd362067728a1bce1052ad87e265
01f51909b5e6f3e916511c1470d4da857c925157b3ea1bb40e19f570291dc8d48906e862080a268f
499f499299943e4f73dd7b79de5bcf7cb8d8ca68980361dc16ad017e4419c8d52faaadfec51a541b
498c1f5c153e605172b424cd219d1baf95264b787dfe3a34d68f78fd13d12914cfbdf877632437a8
280f582dde0da5684a62b4f28b1ad1079181f52f2cff014c9eeb180b23a7436e4a85368b8d65d949
413c55f1f59702ff38ae727784dbe039cad02a106135720e4f559845c1f6d4bf7c91112afe3da46b
de89144bbb14579c2564d81bec10ab8a534044c759f975c9b9f0a744e10e2e589a83df1bcc244130
82dda6bb892cbad061fe59c98e2896f98d55ad9eef3790bd8914b56a7224443628b8778bdd544999
7d47d3c59e16723012af15a10f1954fbd3aa5ab0b9856852c650e9de37fa043e2b9d3fabe4970233
9387a64247712ec6766d8eb54c766395c68d04d0915f97e83701bb629cac30ea58b460d666b0bc79
5d636099fb2861d7b32c5649daab64cbe833e6fbc218a09697b3a4624daed7a1cbc7385890cb6e69
86224649a6f14f1aeba8b782068259830824d032fd165e75ad50275115f654fee9a88000b798054d
13b0ac2bc26007f718044f5bfb8c499913d6fbbdc19681488e2ebffed92901b32a436556f4e43ebb
ccfb1254bf70210ea9556c4832beed6cd1e91514e149931832b445166c3f7ee07d7fa6d55c6f63f5
6940a8ddd2ec52ab509d1fac2695fcccebfc650fcf2e0b7dfc88a268c7b22edfa3a52535c15e5f97
19af4518bbdd60840ab11b3166bb38fd0fe7cf3cd01e0788bb60c97332c878d6b0faf9c09f1bc171
0b7edf4b9770b516f9f9f79381bb57039e43393545cf2867f4b8c42f404a0f9e9b7adb52faa7239f
679283937b8249afbdd3e213a7cfe3aa8d73734bec72c9411259e26ed97b14ef8a04602ec2845758
a7b825c978dcb857b6857ded87799e2d04a7def82b3c5d405fffc2005959f092f737faf11aea43fe
764c528b407e337ba893da9489ea891387e4a09270b1e759a6ff09fab862e65ae204f926df16f889
ccf618b0ba92da46727294a6d7ef00a460792b6c6e6a57571ce2fbb888db3eac39dac7794cbebda3
69cdc439920a706492dc83a2c843d7b89a99f142742be04b621844fdb7681e9fa9b623cb7d333d6c
6d35106aa99438b50e005107d77023459fbadb0f9ebe63591a420860e32c42a1af5c67bed75f9fb2
c67364b036c000441bf457a4c6399afbe102c1f012c8c5f9d924c675391590889f6e39ab228a2365
95f90b4047213543e2d47f60a399b14701281c187617ae90e378a143ae8d3b3f9a19eb19f34f3a5c
0572081005b046ed9fae2f94041234c3be4161cafce0b4da26f9ec4cd9ffbe7d5f20f33452bcc987
5282eef1d18f9c91cb613e95da17fb7dd4fd9935204c123d0465f2acf39ebc37df4a354cde06f1dc
97f7ec40d84f834c72f6c80b3c119c9137b55723a989ae245e16843e565fceb8428136931c8622b0
c1c824d1fe9d5f57c228353a0b23d81155afbce262fba315a5534d8ed5b5c83bd1d916202d0cab11
9bda687564948552a4001889930faace08685411d02fd2567d4a15ccab1546e11e62cb445e76c650
1a891b597ee1bc58a7bb1a72e1eb768715d9c64666d610abe9090c2b8fb3cacf9a44f8849d8a5321
f555671c871c7f75edcde3c36805b08bc3d6f7c8c91e923b4fa301fcd01ac5aa2bfc3bd076695d11
18bf8bfd4fdd58648e51695eb318342b8a78c0942329a6c13cfe70ae197240d00f47b72983622cf4
5131c527bc483a6dd36609bf2f0c86aceb790cdd7d3ba63c77e59496c23d6cf9f141c56d6affc1c5
7452c00d6736fc637a9e65a618d6e18ae0f6336f972171fd5e37d02534d4142292bef67697703635
d1854fbe5fa119685915ce2bc6ea885c4d60341b0dfecc1ddb9df34ca9b14f13ff0c464fa40ea9c8
7b3619f723a5036773692b1d07af619e44008f632af01037a7844e64e70bb898211662bd140dc9e3
ebde8c5c9cb0a87716200ab42c9f9048d51c1826186e5440b12e41af68cdfac6a8ca9e765ea36190
634fbf0bbd921ff9b48556f411f6abc1b33ccd2232fc5dff2335337632a729dffb978a064512bd46
fe8f1288c32ab2b46b4e2889c632036c0503beb27b5ff88558135086aceb79d82c9ff46f19893bc7
02671dfd69d7380295ff6f8da5a28deec1faedce91a562db27f60cd52cf657c10145fe1b50b1f0cf
1ef381d57384103f5cd6c53c5cac3c9d90c878b5567a02861d76a331f9504dddd5c29e358247a25d
8cb62ff60cce1909c711f6379e770ae0a177561138074e0767953f66c05c1b244193e6378c4a4315
6738496e18ad6c079aedb59c450fea3e547b6e3956e87e4044eede2df3c7723b45d21ad2d3d5b5f9
21f6068811c470c5a8bf6f31aa076b30bb93299ceff61ed4d26e12954a3ed0937b8db0b917faad25
605f6b70de401ac6d58a86156f83525f391b57d2dd49209d76b325fa519f4c8a16fe70e268975e0c
8887b096e5fe86825caf9f0f65f1c66212edb2d971b4ede7f598f081aa6a9c8c6a761002884e857b
362c6ab9d7dec4f86c7fe18e38a4503e2dfdff3ab78a82e6a645d61698790fedeb928b72df594b11
b292f4cf32d520274025d28f873d4de9e516a2ca9c07810364dbccfb1177fa25fc2d7777b822400e
cc82016e7b5042033aff2ea2e30cfaabc2694ecb5530c70cac923217ffec1c289b59ae29ac3b9495
c9d359c33d25db3356d9b321053f20475266401a9ea1e4e5cfdc1036ac52e3cf0fb01d582858d09b
be078a0fbe28eba858189a09e4f1fef63462b9df95d4206c641473459298887c640b22669046424a
a256f06a8a66b5441f6afc0ce221b52665029425a49e34dd5c84da4f7f84b501c76564b2ab091cc2
9db40a64bf99fd7ed0e3655a3011e7b877b94a3cfea3cc455e86582118f732c95d210ae18d27c6b2
e9c7c9d61726461f7e16b7afee41a47e479d09c6fb87ffb975aa825149ec10520a117c63d5b9fa76
dac90d47b8e573a96d4ace74163260ec2668c6e6db9b23d06677783f1351e3437a1de79b34ca69c6
85b23b5932b991ed84cf473b60fb2a8eaa04e67857577ec3e00a2d11d9b80792dddeb81090ba0020
7f59a0c0613282a0712fbd5fc1eeeec77ad9331428e0813eabb42d51e6f04738b2cfeeba4e7f1b21
bfea528fbb3488811a635e7c5b112cd5c49e85990a984935ed8dee4bdde96c8185c87318e6d06d61
39ea4fca92e99b4b79f4bfa37be13adcd98b1c2d1bfdd5302f7b0bf3ecaac5c787dcd4974d40bfef
ec00a71237e86c87147c1346bd5526798243dd344f2fbfe470bce407014c9cd40dc8c342141d65d6
3fe21b53867baa07ea8bc0ec3f85635c1a7e929a856c8fc0661223e464e74df06fec1ed8f32cd805
e84b7227d8c87433d4874d05698eb07399505e67bb282d08256ca5429c204257d58fde922f5f1e4b
c91bb307f255804bcb91aa85af3095c4028fc0267b900c688c4785042e0cb648dd3f8bac091b6f54
841fc678999b6ae37be4ef97b4875a0c7efc52647b77b6922c5ee463b49c0c500cc1d975d6b44402
aa75f45b4f6ce91a064ec9d21f39f59fbc2571033728de002b7a61c75323145477a2387ce0cc6771
ba15e69b3d54599f24678bdf018da304b1159cb3827c6e8a7625bedad979625076af227503ec5efd
816af42724ce417ca90970790c2396488e589207c7b173f354201d37cff8e6891308f070c6608efb
2b06ac07b1b6724b0363335e446b4eb9d46875501c4425081b4b2b6261fdf34c06405d91df43cfc4
76320b1b90dea965fc2bffc1d26a345942cbacdc476c76913256203be9f608056258e8761d8d6b1c
a3c6ec2910ccf7f1fae2c62245f1b96056fbee82140b8dbc8162ca1b1e4b2d7f3ec7250c518ee76f
77d327dcc87489691570e9a21da44ba31899ddd372834d1ffb124f8e3fa0b507ccab904d0f3f182f
b8341fcd7040e74bcd0ae2e4ea8feac3f11ac981326fd94216d3598e786a6f26ca713aa981696982
5617dd033a982f4e43a225e5a192d527693d80abec9c30e3048000d8a064489191f57d5656514b20
f5ce2422518c55f47189553531d9ccb11c592fe0e6d4eee86ca3ce95c01a50082a3e9ee9d5f9d33b
26fa12dcf80a7cdaf67d9a505bdd1db77cecb80ff854ebf680541b1ea80201d5d13895a0a17ddaad
77bb5a9fdfcc28d2ef048f4fe3a3ee4716aecd831f96d850f3f3934b08265801522c1e7b60092ce1
87a1c6bd0f4692380360c1a54199b35ef014ca7e628ac62de5980b1e5ca372c73f03909681e8e57c
6549ae6ea1533c67c59dcb5c4fec2e6397b2a6e276815489078b5bbf6678f0ab95f9684d5900f23a
a99d5444bc653e73a0fc3605a3382d8ce48506a7dd3e66913f6fada2bbcffaa0eeb1af246b85b0b7
88f67480e7e10bf5593b968e66a88c4680fa3b5b8dc69e21a54311b367f24a0494473fcce1f3aefa
08cf67cd557b4c02989bc43d7c70a0f7a19d7d51f75e38ad8c12ca17deb4b40c43729f527313c4f8
497625c748eedda475114e2f60d45f5dc16a7933fd86ece87277aa309eb07bc27ad9cfea4e5b0802
84e37d74985eb8f976156ef442141c7a5a911a02c66e10837760608380820c7447abe599b0ea876a
5a16c667fbcf4ba9c58964767ccdd9e365c751b509a0085587bf760d2ac228211492b19110d58430
3d42032b9ada3bdb4c7b1cceaf5c67e48b7c7140c14f5c631a0d54761c6ff044d7c8508fdeb2fe6a
d368a1c6d455c845f94ee1656256f80129bfaaa8cd3afa7d00ba12cc009754d0b5d5db7e066a217d
9f5138d4ef5dcf019585d86ae2f9e5f55a45e34ea81e77918dd2ba295bc0af5e10c226add2d37c49
3f255b0032c562e2d9e6f9cf36c0fe7da9a5c5169924b5b139bd09b0e20ab988dd69b5874baa10a0
64819225158d71094f41480e93e3f55d376b51fc1a5a6ecf40a09c651c59756816be53e9e5f10b11
54da8ddadfca2ca37038c305dea40d7bf49ac3611678e0b2ba6d98ccdd681839ff8f26a18e2b4cdd
0e61d3da0f802d6dbc91ab7a122cc4b4aaf721cd4d3203a6c38b9f236c69e2e9e1cd0a3880d3d55b
70842cd267042d7176ee328b6acaf1c722b7fd195fbca37ff3d79374436edad7dcdc25be2a954349
e7c813c6667518db5569db75afe6f10ef898f5859d6ee2b1b77fc6f61b60ef1317eb559ab621ac33
a7f4104e908f28256ce8fedca7502e3dab82f5fd50b99ef9a57e33abceaab7ecfecf54aa456da109
cdcb3e17ba432c7e52b134e536c44537ec986b0e55ed1c16e9ac5147b79975aea1d6524bf14ad41d
f657983f7d61aa432d786eb79a74817c2e818e7c703e9413ef663935d6adda502c760fe8a9b45980
a31be881715f911e5a485e4f085b3c3df5f35c9140a33f8223e298f65405c02462c9fda34db79a95
540c13a304eee7343c7e4af6a291c1e3fd81553c891f92d7df3c9526b16c23608a99429295851568
84bfb728d78698ae0b2eaaf08caf33ce1673acb1c1ce51e9530f020a33f6f3e3d37a8843f55dfdf3
923c677640e3aee02a39c0c3e93811e595ddbe283ec7afee9e819a79931d998621cfbc3195913379
b40cb3a5263dbcef0647b8f8c40f739387a015774b6979701478fab26437e03fc7699e5ddd521b28
bd12d4b432b69616f6dc5c91e9bf7ff1eb99e6bbfa0c5ca6da9afcf325f419db53de570cebda48bc
047469dc8729b46e411f2b74a94e9ca6cf0a6e7ce2b0852e9357e103ea82ea898c555c313655194a
c327389924642f90a4203836847adcdbea463e3a0dac494edaf358c5576ab13d274c1e0433d04128
cf188711fd2b62dc568b82010ac5355c4ea8820f9d9427c877e16d1ea6c2302afaad
#END

#BEGIN DEVICE
	@LocalIOMaster, 12, 27
	@RamFS, 1, 1
	@UserLog, 7, 11
	@IntEthernet, 4, 2
	@DMLogger, 5, 10
	@IntModTCPClient, 9, 14, 1000, 2, 60
	@IntEIPClient, 22, 31, 1000, 2, 60
	@IntEthDMPPClient, 23, 32, 50, 250, 2
	@IntSerModbusClient, 8, 13
	@SERIO_004_A, 16385, 23
	@SERIO_004_B, 17409, 23
	@ODH, 18433, 25
	@LCO_smtp, 32769, 7, 2347065611, 25, 30000, LVM-PLC@lco.cl, 0, 110, , , 1, 
	@EthIOMaster, 13, 27
#END

#BEGIN MEM_CONFIG
	X	BIT	decimal	2048	-1
	Y	BIT	decimal	2048	-1
	WX	SWORD	decimal	256	-1
	WY	SWORD	decimal	256	-1
	C	BIT	decimal	2048
	V	UWORD	decimal	4096
	N	SWORD	decimal	4096
	D	SDWORD	decimal	4096
	R	REAL	decimal	4096
	T	TIMER	decimal	256
	CT	COUNTER	decimal	256
	SS	STRING	decimal	128
	SL	STRING	decimal	64
	UDT	DATETIME	decimal	32
	PL	UWORD	decimal	256
	DLX	BIT	octal	01000	-1
	DLY	BIT	octal	01000	-1
	DLC	BIT	octal	01000
	DLV	UWORD	octal	04000
	MI	BIT	decimal	1024
	MC	BIT	decimal	1024
	MIR	SWORD	decimal	2048
	MHR	SWORD	decimal	2048
	RX	REAL	decimal	256	-1
	RY	REAL	decimal	256	-1
	dmlogger	UBYTE	decimal	256
	MSG	STRING		0
	ERR	STRING		0
	SysName	STRING		0
	SysDesc	STRING		0
	SerialNum	STRING		0
	PartNum	STRING		0
	Drive	PROGRAM		0	-1
	Lights	<Virtual>		0
	Heartbeat	PROGRAM		0
#END

// Beginning of Code Block Lights
$LGCMOD	Lights

// Rung Lights#1
// Offset 0
STR	C2000
NOT
OUT	C2000

// Rung Lights#2
// Offset 3
RET

// End of Code Block Lights
$LGCEND	Lights

// Beginning of Code Block $Main
$PRGRM	$Main

// Rung $Main#1
// Offset 0
#BEGIN FMT_COMMENT 
" "
#END

STR	ST0
DUPBOOL
AND	ST1
INIT	"3 D0 ST1023 75 D1 ST1023 165000 D2 ST1023 2000 MC100 ST1023 0 MC102 ST1023 1 MHR510 ST1023 70 D10 ST1023 0 MC201 ST1023 0 MC202 ST1023 0 UDT0.Date ST1023 SDT0.Date UDT0.Time ST1023 SDT0.Time D4 ST1023 DST21 C0 ST1023 0"
POPBOOL
DUPBOOL
AND	X24
CALL	Lights	0x1	DST511	"3 Y0 C2000 1"	"3 C2000 Y0 1"
POPBOOL
DUPBOOL
AND	X25
CALL	Lights	0x1	DST511	"3 Y1 C2000 1"	"3 C2000 Y1 1"
POPBOOL
DUPBOOL
AND	X26
CALL	Lights	0x1	DST511	"3 Y2 C2000 1"	"3 C2000 Y2 1"
POPBOOL
DUPBOOL
AND	X27
CALL	Lights	0x1	DST511	"3 Y3 C2000 1"	"3 C2000 Y3 1"
POPBOOL
DUPBOOL
AND	X28
CALL	Lights	0x1	DST511	"3 Y4 C2000 1"	"3 C2000 Y4 1"
POPBOOL
AND	X29
CALL	Lights	0x1	DST511	"3 Y5 C2000 1"	"3 C2000 Y5 1"

// Rung $Main#2
// Offset 116
#BEGIN FMT_COMMENT 
"Read GS3 drive Elements using the cpu rs-232 port"
#END

STR	T10.Done
MRX	@IntSerModbusClient	0	0	1	3	8449	8	MHR411	0x0	0	0x0	C100	C200	DST511
COPY	0x1	"4 0x0 MHR415 MHR130 1"

// Rung $Main#3
// Offset 134
STR	T10.Done
MRX	@IntSerModbusClient	0	0	1	3	8450	1	MHR1024	0x0	0	0x0	C101	C201	DST511

// Rung $Main#4
// Offset 146
#BEGIN FMT_COMMENT 
"Read ODH variables for sensor 2 through Serio-4 every 2 seconds."
#END

STR	ST4
AND	C600
MRX	@ODH	0	0	1	3	202	5	V605	0x0	0	0x0	C102	C202	DST511
RST	C600
MOVE	V600	MHR600
MOVE	V603	MHR602
MOVE	V604	MHR604

// Rung $Main#5
// Offset 166
#BEGIN FMT_COMMENT 
"Read ODH variables for sensor 1 through Serio-4 every 2 seconds."
#END

STR	ST4
ANDN	C600
MRX	@ODH	0	0	1	3	102	5	V600	0x0	0	0x0	C103	C203	DST511
SET	C600
MOVE	V605	MHR601
MOVE	V608	MHR603
MOVE	V609	MHR605

// Rung $Main#6
// Offset 186
STR	ST1
RUN	Drive
RUN	Heartbeat

// Rung $Main#7
// Offset 191
STRN	X16
ORN	X18
ANDN	MC900
OUT	MC3

// Rung $Main#8
// Offset 195
STR	X16
OUT	MC1

// Rung $Main#9
// Offset 197
STR	X18
OUT	MC2

// Rung $Main#10
// Offset 199
STR	MC235
CALL	Lights	0x1	DST511	"3 Y0 C2000 1"	"3 C2000 Y0 1"
RST	MC235

// Rung $Main#11
// Offset 212
STR	X24
OUT	MC335

// Rung $Main#12
// Offset 214
STR	MC236
CALL	Lights	0x1	DST511	"3 Y1 C2000 1"	"3 C2000 Y1 1"
RST	MC236

// Rung $Main#13
// Offset 227
STR	X25
OUT	MC336

// Rung $Main#14
// Offset 229
STR	MC237
CALL	Lights	0x1	DST511	"3 Y2 C2000 1"	"3 C2000 Y2 1"
COPY	0x1	"4 0x0 DST21 D4 1"
RST	C0
RST	MC237

// Rung $Main#15
// Offset 249
STR	X26
OUT	MC337

// Rung $Main#16
// Offset 251
STR	MC238
CALL	Lights	0x1	DST511	"3 Y3 C2000 1"	"3 C2000 Y3 1"
RST	MC238

// Rung $Main#17
// Offset 264
STR	X27
OUT	MC338

// Rung $Main#18
// Offset 266
STR	MC239
CALL	Lights	0x1	DST511	"3 Y4 C2000 1"	"3 C2000 Y4 1"
RST	MC239

// Rung $Main#19
// Offset 279
STR	X28
OUT	MC339

// Rung $Main#20
// Offset 281
STR	MC240
CALL	Lights	0x1	DST511	"3 Y5 C2000 1"	"3 C2000 Y5 1"
RST	MC240

// Rung $Main#21
// Offset 294
STR	X29
OUT	MC340

// Rung $Main#22
// Offset 296
STRND	MC3
ANDN	MC900
DUPBOOL
AND	X28
CALL	Lights	0x1	DST511	"3 Y4 C2000 1"	"3 C2000 Y4 1"
POPBOOL
AND	X29
CALL	Lights	0x1	DST511	"3 Y5 C2000 1"	"3 C2000 Y5 1"

// Rung $Main#23
// Offset 325
STR	X36
OUT	MC105

// Rung $Main#24
// Offset 327
STR	X38
OUT	MC106

// Rung $Main#25
// Offset 329
STR	X32
OUT	MC107

// Rung $Main#26
// Offset 331
STR	X34
OUT	MC108

// Rung $Main#27
// Offset 333
#BEGIN FMT_COMMENT 
"Disabled NW LS as it is not connected yet"
#END

STRN	X36
ORN	X32
ANDN	MC110
ANDN	MHR412:0
ANDN	MHR412:1
OUT	MC109

// Rung $Main#28
// Offset 339
#BEGIN FMT_COMMENT 
" "
#END

STR	X38
OR	X34
ANDN	MC109
ANDN	MHR412:0
ANDN	MHR412:1
OUT	MC110

// Rung $Main#29
// Offset 345
#BEGIN FMT_COMMENT 
"HVAC Flag to activate telescope platforms inyectors.<br>"
" <br>Fans will be turned on, if signal is off.<br> <br>"
"Fans should be turned off, if dome is open (not closed) or "
"local enebeled."
#END

STRN	MC109
OR	MC3
OUT	Y8

// Rung $Main#30
// Offset 348
STR	X40
OUT	MC200

// Rung $Main#31
// Offset 350
STR	MC201
OUT	Y14

// Rung $Main#32
// Offset 352
STR	MC202
OUT	Y13

// Rung $Main#33
// Offset 354
STRN	C5
STRPRINT	SL1	0x4	"""#file:"" SL2 ""#"" DST21 "" "" SL0 ""$0D$0A"""
STRCOPY	SL0	SL3	1
SET	C9

// Rung $Main#34
// Offset 376
STR	C9
STREAMOUT	@DMLogger	0x0	SL1	DST511	DST511	0x0	0x0	C3	C4
RST	C9

// Rung $Main#35
// Offset 386
STR	ST1
STRPRINT	SL0	0x5	"MC1 MC2 MC3 MC100 MC102 MC105 MC106 MC107 MC108 MC109 MC110 MC200 MC201 MC202 MC235 MC236 MC237 MC238 MC239 MC240 MC335 MC336 MC337 MC338 MC339 MC340 MC600 MC601 MC602 MC900 MHR1024"
STRCMP	SL3	0x2	C5	ST1023	ST1023	SL0

// Rung $Main#36
// Offset 460
STR	ST3
DTCMP	UDT0	UDT1	0x1	C10	ST1023	ST1023
EPOCH2DT	DST21	UDT1

// Rung $Main#37
// Offset 469
STRN	C10
EPOCH2DT	DST21	UDT0
SET	C11

// Rung $Main#38
// Offset 473
STR	C11
STRPRINT	SL2	0x4	"""C:\logs\"" UDT0.Year ""_"" UDT0.Month ""_"" UDT0.Day "".txt"""
RST	C11

// Rung $Main#39
// Offset 494
STR	C1
OR	C2
STRPRINT	SL4	0x4	"""#file:C:\logs\smtp.log#"" DST21 "" "" MSG "" "" ERR ""$0D$0A"""
SET	C7
RST	C1
RST	C2

// Rung $Main#40
// Offset 520
STR	C7
STREAMOUT	@DMLogger	0x0	SL4	DST511	DST511	0x0	0x0	C8	C12
RST	C7

// Rung $Main#41
// Offset 530
STRN	C0
MATH	C0	"DST21 >= (D4 + 3)"

// Rung $Main#42
// Offset 541
#BEGIN FMT_COMMENT 
"Send an email when the lights of the spectrograph room are "
"turned on manualy<br> "
#END

STRN	MC237
ANDPD	X26
AND	C0
ANDPDPF
ANDN	MC901
EMAIL	@LCO_smtp	"""lvm-critical@sdss.org"""	""""""	""""""	"""Someone entered the Spectrograph room"""	0x0	"""Someone turned on the lights on the spectrograph room at "" SDT0.Day ""/"" SDT0.Month ""/"" SDT0.Year "" "" SDT0.Hour "":"" SDT0.Minute "" Local time."""	0x0	C1	C2

// Rung $Main#43
// Offset 613
#BEGIN FMT_COMMENT 
"Send an email when the lights of the spectrograph room are "
"turned off manually "
#END

STRN	MC237
ANDND	X26
AND	C0
ANDPDPF
ANDN	MC901
EMAIL	@LCO_smtp	"""lvm-critical@sdss.org"""	""""""	""""""	"""Someone left the Spectrograph room"""	0x0	"""Someone turned off the lights on the spectrograph room at "" SDT0.Day ""/"" SDT0.Month ""/"" SDT0.Year "" "" SDT0.Hour "":"" SDT0.Minute "" Local time."""	0x0	C1	C2

// Rung $Main#44
// Offset 684
STRN	T10.Done
TMR	T10	500

// End of Code Block $Main
$PGMEND	$Main

// Beginning of Code Block Drive
$PRGRM	Drive

// Rung Drive#1
// Offset 0
SG	Drive.S0

// Rung Drive#2
// Offset 2
STRNE	MHR510	MHR410
MWX	@IntSerModbusClient	0	0	1	6	2331	1	MHR510	0x0	0	0x0	C108	C208	DST511

// Rung Drive#3
// Offset 17
#BEGIN FMT_COMMENT 
"Change the direction of the motor to reverse =%3E roll-off open."
#END

STRPD	MC102
MWX	@IntSerModbusClient	0	0	1	6	2333	1	1	0x0	0	0x0	C109	C209	DST511

// Rung Drive#4
// Offset 30
#BEGIN FMT_COMMENT 
"Change the direction of the motor to forward =%3E roll-off close."
#END

STRND	MC102
MWX	@IntSerModbusClient	0	0	1	6	2333	1	0	0x0	0	0x0	C110	C210	DST511

// Rung Drive#5
// Offset 43
#BEGIN FMT_COMMENT 
"Local enable should be normally closed, but as local mode "
"was disable. It was changed to normally open"
#END

STR	MC100
ANDN	MC3
ANDN	X40
JMP	Drive.S1

// Rung Drive#6
// Offset 47
#BEGIN FMT_COMMENT 
"Local enable is normally open, as system will jump to "
"Local enabled stage if Local_enable is on (Local mode)"
#END

STR	MC3
JMP	Drive.S3

// Rung Drive#7
// Offset 49
SG	Drive.S1

// Rung Drive#8
// Offset 51
STR	MC100
MWX	@IntSerModbusClient	0	0	1	6	2332	1	V2332	0x0	0	0x1	Drive.S2	C211	V1006
TMR	T2	2000

// Rung Drive#9
// Offset 65
STR	T2.Done
AND	X40
JMP	Drive.S0
RST	MC100

// Rung Drive#10
// Offset 69
SG	Drive.S2

// Rung Drive#11
// Offset 71
STR	ST1
TMR	T1	D2

// Rung Drive#12
// Offset 74
STR	ST1
TMR	T0	D1
COPY	0x1	"4 0x0 T0.Acc R0 1"

// Rung Drive#13
// Offset 83
#BEGIN FMT_COMMENT 
"Set the parameters to stop the drive:<br>"
"- In case of current above 10 A (100)<br>"
"- In case of user command (MC 100)<br>"
"- Dome timeout (set to 2 min 25 sec)<br>"
"Disabled a lower value for overcurrent & timeout of 5 "
"sec.<br> <br>If heartbeat is lost, wait to close, and jump "
"to error state<br> <br>"
"If local mode activated, stop dome and jump to error state."
#END

STRGE	MHR415	120
AND	MC102
STR	X36
OR	X32
ANDSTR
STR	X38
OR	X34
ANDSTR
STRN	MC102
STRN	X36
STRN	X32
ANDGE	MHR415	120
ORSTR
ANDSTR
STRN	X38
ORN	X34
ANDSTR
ORSTR
STR	ST2
ANDGE	MHR415	140
AND	T1.Done
ORSTR
ORNE	MHR411	0
ORN	MC100
OR	T0.Done
ANDN	MC3
DUPBOOL
ANDN	MC602
ANDN	T0.Done
MWX	@IntSerModbusClient	0	0	1	6	2332	1	0	0x0	0	0x1	Drive.S0	C212	V1006
RST	MC100
POPBOOL
STR	MC602
OR	T0.Done
ANDSTR
MWX	@IntSerModbusClient	0	0	1	6	2332	1	0	0x0	0	0x1	Drive.S3	C213	V1006
RST	MC100
SET	MC103

// Rung Drive#14
// Offset 153
STR	MC3
MWX	@IntSerModbusClient	0	0	1	6	2332	1	0	0x0	0	0x1	Drive.S3	C214	V1006

// Rung Drive#15
// Offset 165
SG	Drive.S3

// Rung Drive#16
// Offset 167
STRN	MC3
ANDN	MC602
ANDN	MC104
JMP	Drive.S0
RST	MC100
RST	MC103
RST	MC104

// End of Code Block Drive
$PGMEND	Drive

// Beginning of Code Block Heartbeat
$PRGRM	Heartbeat

// Rung Heartbeat#1
// Offset 0
SG	Heartbeat.S0

// Rung Heartbeat#2
// Offset 2
STR	ST1
TMR	T3	60000

// Rung Heartbeat#3
// Offset 5
STR	MC600
RST	MC600
SET	MC601
RST	MC602
SETNUMR	D10	D10	0
JMP	Heartbeat.S1

// Rung Heartbeat#4
// Offset 13
STR	T3.Done
ANDN	MC600
RSTT	T3
INC	D10

// Rung Heartbeat#5
// Offset 17
STRGE	D10	3
ANDN	MC900
JMP	Heartbeat.S3
SETNUMR	D10	D10	0

// Rung Heartbeat#6
// Offset 26
SG	Heartbeat.S1

// Rung Heartbeat#7
// Offset 28
STR	ST1
TMR	T4	3000

// Rung Heartbeat#8
// Offset 31
STR	T4.DN
RST	MC601
JMP	Heartbeat.S0

// Rung Heartbeat#9
// Offset 34
SG	Heartbeat.S3

// Rung Heartbeat#10
// Offset 36
STRN	Drive.S0
RST	MC100

// Rung Heartbeat#11
// Offset 38
STRN	MHR1024:0
ANDN	MHR1024:1
AND	MC102
AND	Drive.S0
RST	MC102

// Rung Heartbeat#12
// Offset 43
STRN	MHR1024:0
ANDN	MHR1024:1
ANDN	MHR1024:3
ANDN	MHR1024:4
AND	Drive.S0
SET	MC100
RST	MC602
JMP	Heartbeat.S4

// Rung Heartbeat#13
// Offset 51
SG	Heartbeat.S4

// Rung Heartbeat#14
// Offset 53
STRN	MC602
SET	MC602
RSTT	T5

// Rung Heartbeat#15
// Offset 56
STR	MC602
DUPBOOL
AND	T6.Zero
ANDN	MC901
EMAIL	@LCO_smtp	"""lvm-critical@sdss.org"""	""""""	""""""	"""Critical:PLC connection lost"""	0x1	"""PLC has lost communication with the server for "" D3 "" seconds"""	0x0	C1	C2
POPBOOL
DUPBOOL
ANDN	T6.Done
TMR	T6	300000
POPBOOL
AND	ST1
TMRAG	T5	0
MATH	D3	"(T5.Acc / 1000) + 180"

// Rung Heartbeat#16
// Offset 123
STR	T6.Done
RSTT	T6

// Rung Heartbeat#17
// Offset 125
STR	MC600
SET	MC601
RST	MC600
RST	MC602
RSTT	T5
JMP	Heartbeat.S1
ANDN	MC901
EMAIL	@LCO_smtp	"""lvm-critical@sdss.org"""	""""""	""""""	"""Critical: PLC conection restored"""	0x1	"""PLC to server communication restored after "" D3 "" seconds"""	0x1	Heartbeat.S1	C2

// End of Code Block Heartbeat
$PGMEND	Heartbeat

#BEGIN ELEMENT_DOC
"X16","Door_locked_in","",""
"X18","Door_closed_in","",""
"X24","Ctl_lights_in","","Control room lights current sensor input"
"X25","Utl_room_in","","Utilities room lights current sensor input"
"X26","Spec_lights_in","","Spectrograph room lights current sensor input"
"X27","Mze_lights_in","","Mezzanine lights current sensor input"
"X28","Plat_Wlights_in","","Platform white light current sensor input"
"X29","Plat_Rlights_in","","Platform red light current sensor input"
"X32","LS_NW_in","",""
"X34","LS_SW_in","",""
"X36","LS_NE_in","",""
"X38","LS_SE_in","",""
"X40","Estop_status","","Shows if E-stop is active"
"Y0","Ctl_lights_out","","Control room lights relay out"
"Y1","Utl_lights_out","","Utilities room lights relay out"
"Y2","Spec_lights_out","","Spectrograph room lights relay out"
"Y3","Mze_lights_out","","Mezzanine room lights relay out"
"Y4","Plat_Wlight_out","","Roll-off White light relay out"
"Y5","Plat_Rlight_out","","Roll-off Red light relay out"
"Y8","HVAC_flag","","Flag to stop telescope platform fans"
"Y13","PLC_Estop_releas","","PLC reset e-stop output"
"Y14","PLC_Estop","","PLC e-stop output"
"C7","SMTP_log","","Sends information to dmlogger when smpt message is sent"
"C100","","","Success read"
"C101","","","Success read"
"C102","","","Success read"
"C103","","","Success read"
"C104","","","Success read"
"C105","","","Success read"
"C106","","","Success read"
"C107","","","Success read"
"C108","","","Success read"
"C109","","","Success read"
"C110","","","Success read"
"C200","","","Error read"
"C201","","","Error read"
"C202","","","Error read"
"C203","","","Error read"
"C204","","","Error read"
"C205","","","Error read"
"C206","","","Error read"
"C207","","","Error read"
"C208","","","Error read"
"C209","","","Error read"
"C210","","","Error read"
"C211","","","Error read"
"C212","","","Error read"
"C213","","","Error read"
"C214","","","Error read"
"D0","Overcurrent_lim","",""
"D1","Dome_move_tout","",""
"D2","curr_delay_val","",""
"T0","Dome_tout","",""
"T1","Curr_delay","",""
"SS2","filename","",""
"SL0","DMLOG_new_read","","Modbus variables new reading for dmlogger output"
"SL1","DMLOG_MOD_OUT","","Modbus variables sent to DMLOGGER"
"SL2","Log_Filename","","DMlogger log filename"
"SL3","DMLOG_saved_read","","Modbus variables to be checked against at next cycle"
"SL4","SMTP_Error","",""
"UDT0","date","",""
"MC1","Door_locked","",""
"MC2","Door_closed","",""
"MC3","Local_enable","",""
"MC100","Dome_enable","",""
"MC102","Motor_dir","",""
"MC103","Dome_Tout_stat","","Roll-off timout status"
"MC104","Dome_Tout_rst","","Reset Roll-off timeout bit"
"MC105","NE_lim_mod","","North-east LS modbus output"
"MC106","SE_lim_mod","","South-east LS modbus output"
"MC107","NW_lim_mod","","North-west LS modbus output"
"MC108","SW_lim_mod","","South-west LS modbus output"
"MC109","Dome_closed","","Dome status closed"
"MC110","Dome_open","","Dome status open"
"MC200","Estop_stat_mbus","","E-stop status, read on the secondary electrical panel"
"MC201","Remote_estop","","Remote E-stop"
"MC202","Remote_estop_rel","","Remote E-stop release"
"MC235","CTL_room_tog","","Modbus control room lights toggle"
"MC236","UTL_room_tog","","Modbus utilities room lights toggle"
"MC237","Spec_room_tog","","Modbus Spectrograph room lights toggle"
"MC238","Mze_room_tog","","Modbus mezzanine room lights toggle"
"MC239","Plat_wlight_tog","","Modbus roll-off white light toggle"
"MC240","Plat_rlight_tog","","Modbus roll-off red light toggle"
"MC335","CTL_room_stat","","Modbus utilities room lights status"
"MC336","UTL_room_stat","","Modbus utilities room lights status"
"MC337","Spec_room_stat","","Modbus spectrograph room lights status"
"MC338","Mze_room_stat","","Modbus mezzanine room lights status"
"MC339","Plat_wlight_stat","","Modbus roll-off white light status"
"MC340","Plat_rlight_stat","","Modbus roll-off red light status"
"MC600","HB_input","",""
"MC601","HB_ACK","",""
"MC602","HB_err_out","",""
"MC900","Eng_hw_mode","","Disables hardware safety features"
"MC901","Eng_sw_mode","","Disables software safety features"
"MHR600","O2_pct_utl_room","",""
"MHR601","O2_pct_spec_room","",""
"MHR602","ODH_EC_utl_room","",""
"MHR603","ODH_EC_spec_room","",""
"MHR604","ODH_SB_utl_room","",""
"MHR605","ODH_SB_spec_room","",""
"MHR1024","Status_2","","GS3 drive status 2"
"Drive.S0","Idle","",""
"Drive.S1","Motor_start","",""
"Drive.S2","Motor_moving","",""
"Drive.S3","Drive_disable","","Drive is disabled due to local mode or heartbeat"
"Heartbeat.S0","HB_idle","",""
"Heartbeat.S1","HB_ok_wait","",""
"Heartbeat.S3","HB_error","",""
"Heartbeat.S4","HB_wait_error","",""
#END

