// Options: Export entire program; Code Block delimiter instructions;
// Formatted Rung Comments; Element Documentation Database; System Configuration;
// Memory Configuration/Devices with Built-In Types and User Add-Ons;
// use Element names (no NickNames); rung/address annotations;
// <TAB> parameter delimiter; 
// Write/overwrite file C:\LVM_Enclosure_PLC\PLC code\LVM Simple_EXPORT_DMD.txt

PLC H2-DM1E

// Do not modify SYS_CONFIG block!
#BEGIN SYS_CONFIG
d0f68f9d4b07e9e267f456cb6ec5b339a235f9b399c779dd36e27668521bf4c2d76d6fd45fd38356
cc818306b32e147ee0810651ad7a8daf8578054b5ed4f61e9ef1c87080b3b5d97fffd863c00f30ea
600201064e9aaa0c01d06160b296a9259c0ba755b4f78994b3b9275fb3c50cde154c3d1cecbd8c01
eb3f3f72878db2b2463865b22c58a19a328ae8f3c1fca83bb912f9ac9f4c63c2afb5c084d2b02420
396f53a98f76d8c7e22c705c95a7470cdfeb385c104e4232f8d03b750c8866df21150850fd06c87d
442b5c8cee4ba6bcd0da48004061bbd2fe1433a7f4207094ef3c5e1ff3eb30973a89492df0486690
f39960abe42e90f287759ad625175c9c5a3632d92bc461a96718b0216491876dee14f6fca76a1d22
97bd4172512ace7bf7495aaa13b1dd1cf3ea9cb9b9fa0e328fba1a2fd33f9321596c4fa5527a0a23
501aa3b25802025ddbdfa2fc35d27a3331de894863b2c76c577683d2dd73d59678d73192a1084d26
fc9ba8d54f1d25d0f34f3a6a4c8f828eb583e5f27c845f077d2f5078027bc615489b530b093a1184
cd4f4a35fd931cfceb9af49518b82e9852ed71450d906888616666b0984f6c03630ec95537649a79
c2e8a05721b207e4f79a7e7ba9fdaadc4bf32237cac60ca47504b8d56c2c4b064f3238f204e66d67
ae57f6be48c203a1b06541bf536f58e04a53404b240a6b15ecd78684b16db4a38315bd5b7b4d5549
31bab74a9e15e879b209c73a2249f457ea069da0e0847915697e110ee93de78cd3d2c89e3a461016
2665c8dcbec4acd9c52643ba303ca0619dfc913f3c7dc03fb5da369a7132087a20bd0a5011d26cb6
7ee64ff18be751f73d02fb63ea0afdae93105d8d81b7943c038c15b14dd31fb49356a2d01b7cd7ba
7f5ffc1f2da84354270694a109016c9da0b3d52488a16e0d22406b10327c953f7ed15e20706c30a4
c4cba1f3eaf1941818376012f5f8a7d67160566e72599c6efb67df2df5503c8a40246aafadb41f4b
e7f74a46490d03dabfd636930604a70bae8742bef56d91f03b905d48708cf2cf8cd6e02c17aad914
66af929536e9a1dd017e6c98be93f7dbddea5719426ef2b9b56ad87470ed3b6d69f5d2ae870d1ec2
6c2d923aaaa252e61723363ac76e63884c9dfd924a5bb9385da445ef69e6ca8d0e968b117a8ff032
9cf2a3a9e73ad4c8d3b0b53b51dd91066c44514bcfe1a6f5035fb47e552e09584241673edf3de446
053576bd35774b2f0044c81bbc1734e8a9ed31230cefac0478b9fd332e0f715cebf4ab71ddb4f179
afce3641797a1fc21b5257caa5b5e8644d3af2595813835b713831c77083ebc2e76eaec89ba73d1c
d2ab8ee1bb838e8e282a29887e143bee8bc0372dc0a52cb67a319a449d1a3e5d600fb2ee77d4af85
d0d40f26f0a0df25c675bd4b0952f840b9d4e74a6ff1d276a7117a26269da91f5353f478c4c66da3
1deb2226b52f3619ae55e3a3bc21452386d980871e17f7380246ec1a6f7e8d89bbaaedbff863875a
d41c2707548a6164f62b67baf46d3728acf3a3989f0342f29587954572dc616f2dd71253744f1429
9aad03dbd51f1605602df2cbbd03819c2c846a37dac20dfae45bc59f11cb6e88ecd694317ec8ae1e
09c977759264ea9b4beb9b44df0bdd301142be1e5d7ccd1327f4e73501d67b3c2194ba5e68611fd3
da8a68a02cfc7b23f36a1cc45de1c4264310e690a5323ea7680459d8c444203497e7f24eaf7f4cb3
ad5c989a4711d562dddb42a55b802479bf2155413423959fd3648791eaafb2401930eec92217a8a2
b3252fa0ec2dfa2652be955ad31cd28dfa02e17d72307d0d853c35b97b9866d9557659daa3f271de
73ee8cf91c6309e3be537d948cf2241182d710996ba697064a27831be5680651e5f34c8ec839aba6
9c70588bd6b9307f34b06581b74b21efec529fcefd0cf74799b642a7a2f6ae7bf9e9927c11dfd338
0441d1c88d868e2bc8ffe3827318ba0701f094c5234b3dcc45b10b2d98eadf57e3155bde3614475c
e8af4fad723eb1e13f1b54b0718eb0ba2a88c79472872675bb1bad4a355fc5bb007f97b787557e26
a364ed1f522390578a435c747f0386dcaab401f26238019dc9e56aa187b1b138a72d8eb3927b6792
048663e72b91d76208a0c7c3cb067d8a9b460ce2fe059361b49d4cbcef18d91ac703ef94112d46c0
bf4daef2c06c092a891494dcd4d84afb38ed17aa580bf868a8ccf459890e6365ca8635e9d014aa00
2779500df0bc972d2ab289c4f9f3a16914e266f4dd3c56d3557501f2f3ec0f5c71e5e4267ae2c48d
44690d15961c53d9fa8cb1ee9d8aef7cdfb2b43af738764d58139023c4b60b5baa4e71152cf203d0
68174917d7a4637e4c4dd4ce7e7bf0110c4b6f2075215df35b1214560f13b058108e7ce838fd614b
0c526ae2add17e4df36542308000ed6f0a139113787d731c1eaa9cfaab03acefdeed0270b5546fea
686064e1fe9ec0daa9a5c5d950f31f56d3219a2e4b7dc4af3da0af9c549c79a98e4d8b35b969be30
c4d867cdcb7679046000366c0ca014ae89cbb2ae9d75b5b13fc14f45efebd1ece7d3d5533a74eee0
9dfb95a3bbf418b72c109951261b2df39c9aeb617f5a1bfa5dcf127ed3449159708d23e15ae83f27
3911fc19b8b22047f8e1ddd8058b636cd96911fbc796430a1ab2c2d742ef5b81e38d40aa86d66c4d
62ab3e8bedee7bfb3ab77455d7862fd96f2bec96d57ffb408dbcc3fdf6b8d440a0aa742bad150689
becf3eb64a763254ced19d34e590329dac3f637bb14586ae36e4d0afe66d0a2d8f90c4856cd21076
b29886878998235141d7fcb9ac2e9afed5d6707fc07be5f3f6f99770271d54447482848d1e32464e
3a0351df9a890b8eaa6566bdcbab0678fb46c97177edce10b51a79084f8c44e2571fb973a93dc9d2
b7e6cc823f47e728e7508f26a2448786634272c1242ca9a9c9dff5632ebae7c7c103925752537252
78bc834fd1041dd43f18d46500f4ec35ad8698183c8fe27e926dc8517dfd2a516fa98d9bbb69eebb
48e3f80e34d1062ce99f7cc37e43b1dd31e1ef8c82a74132f140f10534aea3ca8ee524a01877612d
91f02cfb34b27fe32171dd067f3e4840ad7a32cea9c85da7f6f6cb46a0bc8cab7e76a3a341c6070c
f57e3871f33271a03173f6d1cb2fee5039f5dd75c0c6bcb4326917e308d8c9c303170d4ebffe280a
8cfbcbd91a7a3840e1fce532dfa72e0d071a3d1037d8f9b5990a787a0faa3f17442153d737cfd6e4
716b609bc762a8b4276bd4cd91773eed57ab5bee1c1c8c9c910436af7bb9b7a450a4984737fcb65b
c916f70d1446148028f2e62747a48500280e238275b5b7bdd317c4aebb4ee2b96ca3246d7dd99993
e56ebd4142850cfe335207f2db4e1a2d2d1e1e2e7fca2c0b1e6ee7c4ce472c1424e0322874dc8d68
b8dda1f9afb8d80f1c7916674ed38b1fefabe5d010591e7207e5d006046d8e3329232318273923c6
d9a087da79e3c06e82287dfd5f09fe0dd392981fcc99082becbd8b2224122781fef906e13acfc09e
1a88651a200c67c064e17e20b444b03ddde751b7af1f38aad6eac4a99fd28df0457df46629cc6968
01f33ceafd21e31696346235c6e0e2a6630c13df0cc188cf43383707d1d33ad3b4a5afaf94a33dab
e401a4b1d87be1c26c9c5eb0cf72ee4902afec86e3a7c1aeeacc7e75146ba1cf749ebcb891d5c810
3b657d0552038ae78879531ee9d7190a475255e3231d799879af3524962d8f85b57fe2d1f5e86852
7cfa9f0f19865a197f2002459d741d2328e9869954f78e30cc8f6d533a42f254e8e34def75706010
9723090dd45abf4cc947b3bae9c4d3cc7aba047d3246c5ba7d96ebf8f2f2093d395aea00c0c598d8
bd81e5453f3aaa83112e05cc8f7ac48387aba2312d04c979264dcea28aa548555f4cc871fe652acf
6a6f868bbb6210fc4a50d0ea44c1e48d31dc8b99f97d5f80a02461ad8e6f6cf6aec729a95c530d26
3800e5fa03036aeb71527c95633ebe1c4ad3f08694cbd35b8f38c4fc2aae108cac38847c5907d330
c586645c15c3d9418a8af946607dfe80c5d3b597262fe38a545d446cc4893c5506f0a5d75866d0cd
799255b3f63ab68dc971618068704818c3264623c815813a578fda5c4c20b4f3e3800e5a89f96a47
667de70ce791b4bd624aefc2e37c3b596ffe1930a9ebdf7b36acf75f3277fedd44bf85b3bd4bc776
c3e24cd0c2ba495dd92b78ae0cf89030c5b44ba1446ce211d5900fc8a659970c13a5420277f5e134
cff73fcecdbbe11b3b732147e08496a962abecc1006e0984d475685a780bc40d9d52a4ee25de1a82
b19f7a8cadf528579b8b5f62d6c3d45f21affb29760f5a682c97d9349195c86cd192dfe47f14f88e
24ea6722c97a9131f37f2f819cae4c2df8fdf2172f282668b23a38b3a5e2f70f9e4b95d7280267e0
84709c8c3063766c93d49991f5515f00f917d4d2366f9e318b9c70f5ac984d510c836de78d8fa30a
cc1acc171c11bbcaf658fefc5bde4af93d5d4fed1d86e459932884fbc19c4d50aa2f287b409fd19e
cc099ad990bbe5d4f731a148a4189e2a10a3cefdf87bbfb1530afd789654ac914a387df2e6a1b22d
ad8adda85b8820edcfe731770e9f5482140470aaa97a84c91b6e9d8ea622c6ebcf00b30e08e05ccc
c4b9d0747012877abd2bf7f2015e65bc4f55af95e4b0f78bcad01dc04473513af91494af7bb821ee
5b0c91ce3e91d219a0e15d9e69952e0fd6c5c142dc7cf04c3c7522c1648babdd1f065a9e49a1c4b5
0758233e0ca93f55e47bdc4c0bad137c08d0281b6ab215380c9130eff7a1c1b3ad3df20e58d1cc1c
f8c256401b93f7b5972a90248a9cd17e562fdf353c00edd743d56c5bb27f81bbae18ba2e611287b6
160223c7c2f4ab43f3e80b30c9f3e6104308815514da126db2843ee71929b56fdd31e553e33539fc
d8e6e51c7eade45236a9d3cc5f2ee14e6db6637e479d2513123621e7c82b52244e42bddd154eebec
03a7c3cc2374ca9f6e2d32078307dc068da155b77893dbf028d5a2d49073d17b6c2d0585321d80c8
963529ae47e582729d81cade7e09cc1c96537e38441304cd0bab3a7b5cac8436afc6e0d37161bb3e
497e97d13af5a48b2cd0e9cdb73b68e9546c909164cc169db731c093e9bafb65f8fa2350d9eae670
ecc52d585769d72ed5189a29a31079496e79e08a4aab8ef8790d27ed4237ab5a2620a0b044dbda12
9c2ac09d3e58e5018f349eb4e33ebd788a624ab9559b820d3ee54cf6b74dfd53357f7c451a9e44f4
8efb5ace12f530937c7c7216043ed2861bc6bcb0c04aade2713d41aac5cf8a1b1eff5ed77f22a61a
e2170616fe07cc2a38566796224a662f08f6f6ce69f74cc497dc67eb5cfe916a0f81e5ab4701d2dd
223da04cfd593dd23300f86802fc1ba881225b7daeb9d8c5da7a4785dcdc751772b27f749f6fc67b
f3c9d70ec5fbb6fe2d165f110c6f0c9602612517f53462dc237a8c7f3de763df67817ca35a937d0c
49739d353f175fc3f7f71123526a8521e5fcaee9ebefd2d299677e3d0d5ebb29bc5f42fcc93b3826
ec4841bc178ff5e1175906274dc6523d1f1c74c7f1ae65cee79dc17832ed9b1a2c33a64ef8b6b8e9
e8b095ef2c11bd308b85d48252f5a6c01a3f5e8a1b3be6dc9fc78de566a9c7242ad9e23b52da1a37
43f6e135b34585c19e71d22143bc1f7e64874475974d407c5ca143f0bc90150d1aebbc2ea70fa6e0
107c8ec5c2a4b0c66751fae5261c34c284ad999df3922b1566fd24c62b08beba1f9c6e9c76cabfd9
80f78d958035c3681a2baa118197b1463bc4e44f7965315fa37c69c95c7a3bf8daa576b1d7394c02
d7076b74540a19144ee4bb105f927ef851781cb0a5c997b881e07729761b39b25acfb0c95b837459
127269c55dca06c9f7734d8eb9941914b230d2a62c0c2ba1db9301bbd3da4b3dc704b3169903a735
444da1547b18dad247adb0bf8ea65d94d02a3967e77e269020d6c80b50304dbe545c93a5a8892e94
1e5fedf0e11100d721859d0c168a2f4b8dedd19455aa57d3f8cf90492e90c3649be74ec1dbf343d5
9f0c9edcfb6439dd223e9ff7646ef302905c43c3e353952e6c8c89ae0a364f4a1fc17d01180fd6a4
70d0e2990299faf068486646ed80350e4653724d4c9b17beca268479559f402fae79be55f3ecd894
9d3a0e78ca58dde10bd4ecdb369db1ae0ffd4511a6ac2344b97bf52b9cf7c5558ac232ac06e7a971
d4b440a239cdbfe856e38c3aaa8903296efc8958f8be23b9f260111347b8e97c74c440e8ef7a4440
f1d74588e2b379e6ff1be0239d53640f6573b6ea12a4f478dbb255a0b15191a7173b73f312f5b3b0
5400ca3bda249ceddc904bae436f0dd9c8e5b19e887b49985e1876c92c34ca967a89c3ca218b2c4d
feb39c72a62086e2f6ecae98822ae41bc1850ae6af7595b22201cbe1628e3d1da493e73891884c66
6e5b09d919352df293a58f31a91a15cd50999da39debd1c534abc42aed487f432d4f1bf3db26e415
e6ca3a8e38179a7c3100d37194732e4436b948a7b779d87aa6b0b6f3b722ac5a7e120f83c09738c3
7b0a970d46af3731eecbad0c43b786e980863b37feda7d00dd96d503296efc5da91a71ea9c0cbe42
87e29878ec52bd87107aea082027086b447f684b1420e75ea2738950a973d24484c07b9ed534754a
9b760450f60195bad95340b9d929b918154dfd30d3ff870398f326b47cd5c85850471bb007c227d8
0933aa73894b9c8c429473b21bf28f6524f2d394bd82cb82e210bae345d99ea1c41663b209cfc690
e2bdcceb9d28e9821f683019c08a6fbbd1feebbcd36dfbc5c16b5ba87642f7bec0579f575650307c
a473830d9441f5402d3aeab42f82eeb53e16ac196a739b5157eb9710cfbb5516fe08353c927f28a0
e5daeef55bc59f43500f0390ea06d7dabc9ed25758cca518f336a07fd41ac90f937bf567ed12db89
0d023513607b0307d92a1a8ae07443e79768375cf4316862701d75042fef1909eff395870dcb00fe
b3a9ef3c525b417de9fa640bbd21d5bba8787abf320f076323c053931dfc8a686e170ef75adcce94
3717714ab750a5a2c5a0570a02b8c86c6093274f19820486e15e497e94f27fa079a8f2f23da7c58b
490784ebfed5c786bf7aab2766897f2e47eccb4ed0b542892917b7927a6999ad1edc2bac29be1110
4c56dc46b8a05eb6d35c36a480baa5c2d7e3c59f1b2461604a5995b329d7664a8a3598ddaddd551e
3b820f8a3bad6e2ddd9d1f8c61747b73b1e73c5a1051a5e9e191f6c0171d0df9e18ea7e315c3c7cf
27d375ef0fe330c19aef798967a430a3e08711a0211bb158d9015fcafa01308442e0e1372e8c9947
18318fe13a1c78fb5566e0dfb594623df23ccfb97b2649c0db03dda49d72b74cd8a48f6408a24337
6c424c5392a3c39afb93322a6bc421fbc2188c437e027a3cf02f07d4cc6995d78f94f9e6503c7ff3
5f4c88c23d60f62ce8cf4bf193b7e569a3ed43635e1ea655e3f2fdba96d466c6ff98621eb14fec43
0037bedcb73c1468014ac2bee57eaf0b2f8163fdd2d2fb46658fa8945c3d8217585b3d95153f85a5
fadc2545e4b70725f4aa38da446b6b42ff5cb691ad6504bb2e31a8d46375c2bd374a6b3fcbfa9ea4
3a6fd70a3eb10d049fe6dbf9de94a950411b001c8f1dccb068086bce586ce904004df69d6355e8e4
bc6fca4f176c1ecefc713a26fe64bf595c0e99a89e7850b5aafe8e76692f404202595112c8c53a6a
69852297b26de90291f996c338d0a3fc07c658b1caaa3a61f539618284c91951884d46c79198e053
ba679ed603fe2f826f0e4569ba00e6d99ffb171f00e90a45e397a661e162c875ea699b5d76a95d80
6dcef7a25d4df1b65102c880ec0b35f61cd5dbe23eada88da0e920c719a5c7d2500a5b17aada9bce
4c9e368277d005ce4e142f002ab51041870a45a3fe1589ed09c20081ab8933cd58ba0e298c9eead1
019a43fd1c1eef66fe616a123102df89fb79d7e1fef23317a9db61e6311989d589445cf05331c187
2ff071decae96c9f83cb4c579abc701a39a0f486b2ad5b85aeffe442d6a691d1f227bdf96549e2f4
3f90631eb8d1dc1aa1e20e5a840826813490193607f9eb0ff3a03b5f5cfce7d5f32aa7f08669db78
04ef71a2a14bc4f92c8cf5fc89a613cd0bdd17824234f676d1a598b24a7d630c968d75f543e50b7e
ae8329823433f7ce86e6b6dbc1eecb3c51edf0d599c1a08d9eceaee7e47876c983c5d8145ac64a41
f3b78e9e155b2ce079ae7a4457efb1dcc74e2959c2e9f314b7d3a5be6c738d80e7dd6df39808ee99
264369ac954972747f6743a7c0743ce5d37e6b07918e083904e74f9e9bcea8fabb42a089d40b62ea
f256a2594df10cec90f56c279821ce269d1c5856f706c89a7e97ca0bba253082492e15c88aba9daa
3db19a48f5c562ce488f67616f0a6f46749f4c04b7ea5cc79356dc0bfdefeaa34ff4bf2c04ecec07
d3925886bf1daacbc627a060241750a2ecb8052e6919b5668105855d25e1cd141470f8d3d3d4cea5
704ba1a7d409d071f40cd0b0b45c493499dcaa6563516b6de9264b10459fd58dafbb1b6c507c56be
a37f97597d8ff95f73f81fd5de589832f9693d8a7dd16e7305d19e9b2d87845054bd102524f85f28
f23edf1a5a49ad576a810aca66266bc2932b48069a135dd5767616ce8da3dd84d7a99bfee58ca964
022443388ac317bd86e54420c41c36db75914ffbe70f43a8601d8e9bd926f742ba861513046d60f9
e0cc2beb24d6b9e240184ed9ca69abe612372367f304d10c820ede3ae3fd752e107cedc8dc8577bf
2c18d1c139e0bbf62579b38026bda8096100832258bbe314baea28273e4a7f256b342aa1ee003532
0d73f10562648e70dcbe130be32d09c3057fbede08431ba420c69436e277cf8111c2ba4964762b7f
8d4ae248d0fec9871d1e41b8f9f525722418f8d472dbbd2809974f925b313189c6f71ad7f696417d
ccf3a042cd6b5821f094cbaae551dad844effcb67803696df7f22fb51b35fe47ff5c4a6fcbde8d87
0166f8f11ddb3d7cf390eb71c79199ffdf149f8743eb9506f2e5e506050789f1c22e601c356f02ef
df9343e27e4ace2c400ce1f3f9485c66e042d4308c258dd0023af388af47ada491173414955001b5
b8c786ae1f5fbe5ec9fe994b2ad9e2610ef9f4c544cad9e69f88d1f399ea75c1524dd50a5b377bef
56ed244351d04dc07ccb64e0e7d37d84ac3a2f2d48bf7ff8853f97498512d15530505efb83efa4f8
1ad4bd516ad84a8410005def677c6070dfc066cb2d9bf21408573facde452adb9547a3285756f9cc
baa0de85b740e7675c637c4ab3457bf82c2040931ca13034bc388c35678f3c0d58ec3002ce2f9525
e10417a09008f48ccac4cd8b166670d8b2eed4799fdfeb4ac52519e099dcf0ed933bd66c60748e94
d15f085f5a4fa926f5bd46805b2188fe711f46e493fd65373fe81d4958ed9dbc7a0aa3240baec958
8be4565f8a05a8e839142eff97a941312f72a448c8b78623460e1aa6e9ec676c64488fbd055650de
f501a957e281a8f4f36bb70eef4f7442a732789cda3926fa765216f1c6eb5f525959a03baf10c6cc
624d9643e3f09d5ed0ec5ef02a63748b7d1d700018eb673432fa43739ee56a96926ed01f33a429b6
227195cb150aada0e96d7b5922d5abb82e077078d53c1b7c20fbb62e4b2f32697b4ad12fc0e8248c
484ebb923fc6a9fbd734b160b341c0b2691dee8bd06899936c29d4c2321cf02b2453d7ce74cf5198
73d21dbaf8e42fc6a8fdeb321ff104f9ab040bf9f5bb11966ae3bcb053285fd5a9f38a6d2c31dc05
269e6d04f4da149bdfcddbca8ddeb9b87076d914c526ba07a6671d73d18045a1e74c7826c8321f10
d1899626816b62b1b9fbcf73271444667804d0b90c9a17525ab910a334e9a6e50f1cc717100090ed
013a32ad52031d2b8eab2f75092ab64b93f62934444bd46cd68a878fb673766656ff0dc670d87876
17b9e2f3c5662b65afbc45466cbd946010583badbb422a6b1b041ffc16981c03a44a39b41014b6fc
31893620a3b8396a83c23d7d418af616022590f2ceecfcf591fd7f37e1b265ba42ec1bd858d79ead
38975131b73313937359d9146c3afa746e1c633e7f89d9235f1f7976a0719c5ed65bd2896e5fcd39
81f1ec5902ac31ebc49aaef12ccb19234a8febf9673500ab16d264866f076f0c09d0d9b4b3d09ccf
46a2bd1ca1e1aa1521a5bdb301ff595e6fc3bbbf8829cccb5f76dd40d2ef34b8a2c99b81b655c4ad
4a9d029478aee759d30e07848f40b0d9cb2d078a1811a24df264e89b2347b5af7f28
#END

#BEGIN DEVICE
	@LocalIOMaster, 12, 27
	@RamFS, 1, 1
	@UserLog, 7, 11
	@IntEthernet, 4, 2
	@DMLogger, 5, 10
	@IntModTCPClient, 9, 14, 1000, 2, 60
	@IntEIPClient, 22, 31, 1000, 2, 60
	@IntEthDMPPClient, 23, 32, 50, 250, 2
	@IntSerModbusClient, 8, 13
	@SERIO_004_A, 16385, 23
	@SERIO_004_B, 17409, 23
	@ODH, 18433, 25
	@LCO_smtp, 32769, 7, 2347065611, 25, 30000, LVM-PLC@lco.cl, 0, 110, , , 1, 
	@EthIOMaster, 13, 27
#END

#BEGIN MEM_CONFIG
	X	BIT	decimal	2048	-1
	Y	BIT	decimal	2048	-1
	WX	SWORD	decimal	256	-1
	WY	SWORD	decimal	256	-1
	C	BIT	decimal	2048
	V	UWORD	decimal	4096
	N	SWORD	decimal	4096
	D	SDWORD	decimal	4096
	R	REAL	decimal	4096
	T	TIMER	decimal	256
	CT	COUNTER	decimal	256
	SS	STRING	decimal	128
	SL	STRING	decimal	64
	UDT	DATETIME	decimal	32
	PL	UWORD	decimal	256
	DLX	BIT	octal	01000	-1
	DLY	BIT	octal	01000	-1
	DLC	BIT	octal	01000
	DLV	UWORD	octal	04000
	MI	BIT	decimal	1024
	MC	BIT	decimal	1024
	MIR	SWORD	decimal	2048
	MHR	SWORD	decimal	2048
	RX	REAL	decimal	256	-1
	RY	REAL	decimal	256	-1
	dmlogger	UBYTE	decimal	256
	MSG	STRING		0
	ERR	STRING		0
	SysName	STRING		0
	SysDesc	STRING		0
	SerialNum	STRING		0
	PartNum	STRING		0
	Drive	PROGRAM		0	-1
	Lights	<Virtual>		0
	Heartbeat	PROGRAM		0
#END

// Beginning of Code Block Lights
$LGCMOD	Lights

// Rung Lights#1
// Offset 0
STR	C2000
NOT
OUT	C2000

// Rung Lights#2
// Offset 3
RET

// End of Code Block Lights
$LGCEND	Lights

// Beginning of Code Block $Main
$PRGRM	$Main

// Rung $Main#1
// Offset 0
#BEGIN FMT_COMMENT 
" "
#END

STR	ST0
DUPBOOL
AND	ST1
INIT	"3 D0 ST1023 75 D1 ST1023 145000 D2 ST1023 2000 MC100 ST1023 0 MC102 ST1023 1 MHR510 ST1023 70 D10 ST1023 0 MC201 ST1023 0 MC202 ST1023 0 UDT0.Date ST1023 SDT0.Date UDT0.Time ST1023 SDT0.Time D4 ST1023 DST21 C0 ST1023 0"
POPBOOL
DUPBOOL
AND	X24
CALL	Lights	0x1	DST511	"3 Y0 C2000 1"	"3 C2000 Y0 1"
POPBOOL
DUPBOOL
AND	X25
CALL	Lights	0x1	DST511	"3 Y1 C2000 1"	"3 C2000 Y1 1"
POPBOOL
DUPBOOL
AND	X26
CALL	Lights	0x1	DST511	"3 Y2 C2000 1"	"3 C2000 Y2 1"
POPBOOL
DUPBOOL
AND	X27
CALL	Lights	0x1	DST511	"3 Y3 C2000 1"	"3 C2000 Y3 1"
POPBOOL
DUPBOOL
AND	X28
CALL	Lights	0x1	DST511	"3 Y4 C2000 1"	"3 C2000 Y4 1"
POPBOOL
AND	X29
CALL	Lights	0x1	DST511	"3 Y5 C2000 1"	"3 C2000 Y5 1"

// Rung $Main#2
// Offset 116
#BEGIN FMT_COMMENT 
"Read GS3 drive Elements using the cpu rs-232 port"
#END

STR	T10.Done
MRX	@IntSerModbusClient	0	0	1	3	8449	8	MHR411	0x0	0	0x0	C100	C200	DST511

// Rung $Main#3
// Offset 128
STR	T10.Done
MRX	@IntSerModbusClient	0	0	1	3	8450	1	MHR1024	0x0	0	0x0	C101	C201	DST511

// Rung $Main#4
// Offset 140
#BEGIN FMT_COMMENT 
"Read ODH variables for sensor 2 through Serio-4 every 2 seconds."
#END

STR	ST4
AND	C600
MRX	@ODH	0	0	1	3	202	5	V605	0x0	0	0x0	C102	C202	DST511
RST	C600
MOVE	V600	MHR600
MOVE	V603	MHR602
MOVE	V604	MHR604

// Rung $Main#5
// Offset 160
#BEGIN FMT_COMMENT 
"Read ODH variables for sensor 1 through Serio-4 every 2 seconds."
#END

STR	ST4
ANDN	C600
MRX	@ODH	0	0	1	3	102	5	V600	0x0	0	0x0	C103	C203	DST511
SET	C600
MOVE	V605	MHR601
MOVE	V608	MHR603
MOVE	V609	MHR605

// Rung $Main#6
// Offset 180
STR	ST1
RUN	Drive
RUN	Heartbeat

// Rung $Main#7
// Offset 185
STRN	X16
ORN	X18
ANDN	MC900
OUT	MC3

// Rung $Main#8
// Offset 189
STR	X16
OUT	MC1

// Rung $Main#9
// Offset 191
STR	X18
OUT	MC2

// Rung $Main#10
// Offset 193
STR	MC235
CALL	Lights	0x1	DST511	"3 Y0 C2000 1"	"3 C2000 Y0 1"
RST	MC235

// Rung $Main#11
// Offset 206
STR	X24
OUT	MC335

// Rung $Main#12
// Offset 208
STR	MC236
CALL	Lights	0x1	DST511	"3 Y1 C2000 1"	"3 C2000 Y1 1"
RST	MC236

// Rung $Main#13
// Offset 221
STR	X25
OUT	MC336

// Rung $Main#14
// Offset 223
STR	MC237
CALL	Lights	0x1	DST511	"3 Y2 C2000 1"	"3 C2000 Y2 1"
COPY	0x1	"4 0x0 DST21 D4 1"
RST	C0
RST	MC237

// Rung $Main#15
// Offset 243
STR	X26
OUT	MC337

// Rung $Main#16
// Offset 245
STR	MC238
CALL	Lights	0x1	DST511	"3 Y3 C2000 1"	"3 C2000 Y3 1"
RST	MC238

// Rung $Main#17
// Offset 258
STR	X27
OUT	MC338

// Rung $Main#18
// Offset 260
STR	MC239
CALL	Lights	0x1	DST511	"3 Y4 C2000 1"	"3 C2000 Y4 1"
RST	MC239

// Rung $Main#19
// Offset 273
STR	X28
OUT	MC339

// Rung $Main#20
// Offset 275
STR	MC240
CALL	Lights	0x1	DST511	"3 Y5 C2000 1"	"3 C2000 Y5 1"
RST	MC240

// Rung $Main#21
// Offset 288
STR	X29
OUT	MC340

// Rung $Main#22
// Offset 290
STRND	MC3
ANDN	MC900
DUPBOOL
AND	X28
CALL	Lights	0x1	DST511	"3 Y4 C2000 1"	"3 C2000 Y4 1"
POPBOOL
AND	X29
CALL	Lights	0x1	DST511	"3 Y5 C2000 1"	"3 C2000 Y5 1"

// Rung $Main#23
// Offset 319
STR	X36
OUT	MC105

// Rung $Main#24
// Offset 321
STR	X32
OUT	MC106

// Rung $Main#25
// Offset 323
STR	X38
OUT	MC107

// Rung $Main#26
// Offset 325
STR	X34
OUT	MC108

// Rung $Main#27
// Offset 327
#BEGIN FMT_COMMENT 
"Disabled NW LS as it is not connected yet"
#END

STRN	X36
ORN	X32
ANDN	MHR412:0
ANDN	MHR412:1
OUT	MC109

// Rung $Main#28
// Offset 332
#BEGIN FMT_COMMENT 
" "
#END

STR	X38
OR	X34
ANDN	MHR412:0
ANDN	MHR412:1
OUT	MC110

// Rung $Main#29
// Offset 337
#BEGIN FMT_COMMENT 
"HVAC Flag to activate telescope platforms inyectors.<br>"
" <br>Fans will be turned on, if signal is off.<br> <br>"
"Fans should be turned off, if dome is open (not closed) or "
"local enebeled."
#END

STRN	MC109
OR	MC3
OUT	Y8

// Rung $Main#30
// Offset 340
STR	X40
OUT	MC200

// Rung $Main#31
// Offset 342
STR	MC201
OUT	Y14

// Rung $Main#32
// Offset 344
STR	MC202
OUT	Y13

// Rung $Main#33
// Offset 346
STRN	C5
STRPRINT	SL1	0x4	"""#file:"" SL2 ""#"" DST21 "" "" SL0 ""$0D$0A"""
STRCOPY	SL0	SL3	1
SET	C9

// Rung $Main#34
// Offset 368
STR	C9
STREAMOUT	@DMLogger	0x0	SL1	DST511	DST511	0x0	0x0	C3	C4
RST	C9

// Rung $Main#35
// Offset 378
STR	ST1
STRPRINT	SL0	0x5	"MC1 MC2 MC3 MC100 MC102 MC105 MC106 MC107 MC108 MC109 MC110 MC200 MC201 MC202 MC235 MC236 MC237 MC238 MC239 MC240 MC335 MC336 MC337 MC338 MC339 MC340 MC600 MC601 MC602 MC900 MHR1024"
STRCMP	SL3	0x2	C5	ST1023	ST1023	SL0

// Rung $Main#36
// Offset 452
STR	ST3
DTCMP	UDT0	UDT1	0x1	C10	ST1023	ST1023
EPOCH2DT	DST21	UDT1

// Rung $Main#37
// Offset 461
STRN	C10
EPOCH2DT	DST21	UDT0
SET	C11

// Rung $Main#38
// Offset 465
STR	C11
STRPRINT	SL2	0x4	"""C:\logs\"" UDT0.Year ""_"" UDT0.Month ""_"" UDT0.Day "".txt"""
RST	C11

// Rung $Main#39
// Offset 486
STR	C1
OR	C2
STRPRINT	SL4	0x4	"""#file:C:\logs\smtp.log#"" DST21 "" "" MSG "" "" ERR ""$0D$0A"""
SET	C7
RST	C1
RST	C2

// Rung $Main#40
// Offset 512
STR	C7
STREAMOUT	@DMLogger	0x0	SL4	DST511	DST511	0x0	0x0	C8	C12
RST	C7

// Rung $Main#41
// Offset 522
STRN	C0
MATH	C0	"DST21 >= (D4 + 3)"

// Rung $Main#42
// Offset 533
#BEGIN FMT_COMMENT 
"Send an email when the lights of the spectrograph room are "
"turned on manualy<br> "
#END

STRN	MC237
ANDPD	X26
AND	C0
ANDPDPF
ANDN	MC900
EMAIL	@LCO_smtp	"""lvm-critical@sdss.org"""	""""""	""""""	"""Someone entered the Spectrograph room"""	0x0	"""Someone turned on the lights on the spectrograph room at "" SDT0.Day ""/"" SDT0.Month ""/"" SDT0.Year "" "" SDT0.Hour "":"" SDT0.Minute "" Local time."""	0x0	C1	C2

// Rung $Main#43
// Offset 605
#BEGIN FMT_COMMENT 
"Send an email when the lights of the spectrograph room are "
"turned off manually "
#END

STRN	MC237
ANDND	X26
AND	C0
ANDPDPF
ANDN	MC900
EMAIL	@LCO_smtp	"""lvm-critical@sdss.org"""	""""""	""""""	"""Someone left the Spectrograph room"""	0x0	"""Someone turned off the lights on the spectrograph room at "" SDT0.Day ""/"" SDT0.Month ""/"" SDT0.Year "" "" SDT0.Hour "":"" SDT0.Minute "" Local time."""	0x0	C1	C2

// Rung $Main#44
// Offset 676
STRN	T10.Done
TMR	T10	500

// End of Code Block $Main
$PGMEND	$Main

// Beginning of Code Block Drive
$PRGRM	Drive

// Rung Drive#1
// Offset 0
SG	Drive.S0

// Rung Drive#2
// Offset 2
STRNE	MHR510	MHR410
MWX	@IntSerModbusClient	0	0	1	6	2331	1	MHR510	0x0	0	0x0	C108	C208	DST511

// Rung Drive#3
// Offset 17
#BEGIN FMT_COMMENT 
"Change the direction of the motor to reverse =%3E roll-off open."
#END

STRPD	MC102
MWX	@IntSerModbusClient	0	0	1	6	2333	1	1	0x0	0	0x0	C109	C209	DST511

// Rung Drive#4
// Offset 30
#BEGIN FMT_COMMENT 
"Change the direction of the motor to forward =%3E roll-off close."
#END

STRND	MC102
MWX	@IntSerModbusClient	0	0	1	6	2333	1	0	0x0	0	0x0	C110	C210	DST511

// Rung Drive#5
// Offset 43
#BEGIN FMT_COMMENT 
"Local enable should be normally closed, but as local mode "
"was disable. It was changed to normally open"
#END

STR	MC100
ANDN	MC3
JMP	Drive.S1

// Rung Drive#6
// Offset 46
#BEGIN FMT_COMMENT 
"Local enable is normally open, as system will jump to "
"Local enabled stage if Local_enable is on (Local mode)"
#END

STR	MC3
JMP	Drive.S3

// Rung Drive#7
// Offset 48
SG	Drive.S1

// Rung Drive#8
// Offset 50
STR	MC100
MWX	@IntSerModbusClient	0	0	1	6	2332	1	V2332	0x0	0	0x1	Drive.S2	C211	V1006
TMR	T2	2000

// Rung Drive#9
// Offset 64
STR	T2.Done
AND	C6
JMP	Drive.S0
RST	MC100

// Rung Drive#10
// Offset 68
SG	Drive.S2

// Rung Drive#11
// Offset 70
STR	ST1
TMR	T1	D2

// Rung Drive#12
// Offset 73
STR	ST1
TMR	T0	D1

// Rung Drive#13
// Offset 76
#BEGIN FMT_COMMENT 
"Set the parameters to stop the drive:<br>"
"- In case of current above 10 A (100)<br>"
"- In case of user command (MC 100)<br>"
"- Dome timeout (set to 2 min 25 sec)<br>"
"Disabled a lower value for overcurrent & timeout of 5 "
"sec.<br> <br>If heartbeat is lost, wait to close, and jump "
"to error state<br> <br>"
"If local mode activated, stop dome and jump to error state."
#END

STRGE	MHR415	100
STR	ST2
ANDGE	MHR415	D0
AND	T1.Done
ORSTR
ORNE	MHR411	0
ORN	MC100
OR	T0.Done
ANDN	MC3
DUPBOOL
ANDN	MC602
RSTT	T0
MWX	@IntSerModbusClient	0	0	1	6	2332	1	0	0x0	0	0x1	Drive.S0	C212	V1006
RST	MC100
POPBOOL
AND	MC602
MWX	@IntSerModbusClient	0	0	1	6	2332	1	0	0x0	0	0x1	Drive.S3	C213	V1006
RST	MC100

// Rung Drive#14
// Offset 123
STR	MC3
MWX	@IntSerModbusClient	0	0	1	6	2332	1	0	0x0	0	0x1	Drive.S3	C214	V1006

// Rung Drive#15
// Offset 135
SG	Drive.S3

// Rung Drive#16
// Offset 137
STRN	MC3
ANDN	MC602
JMP	Drive.S0
RST	MC100

// End of Code Block Drive
$PGMEND	Drive

// Beginning of Code Block Heartbeat
$PRGRM	Heartbeat

// Rung Heartbeat#1
// Offset 0
SG	Heartbeat.S0

// Rung Heartbeat#2
// Offset 2
STR	ST1
TMR	T3	60000

// Rung Heartbeat#3
// Offset 5
STR	MC600
RST	MC600
SET	MC601
RST	MC602
SETNUMR	D10	D10	0
JMP	Heartbeat.S1

// Rung Heartbeat#4
// Offset 13
STR	T3.Done
ANDN	MC600
RSTT	T3
INC	D10

// Rung Heartbeat#5
// Offset 17
STRGE	D10	3
ANDN	MC900
JMP	Heartbeat.S3
SETNUMR	D10	D10	0

// Rung Heartbeat#6
// Offset 26
SG	Heartbeat.S1

// Rung Heartbeat#7
// Offset 28
STR	ST1
TMR	T4	3000

// Rung Heartbeat#8
// Offset 31
STR	T4.DN
RST	MC601
JMP	Heartbeat.S0

// Rung Heartbeat#9
// Offset 34
SG	Heartbeat.S3

// Rung Heartbeat#10
// Offset 36
STRN	Drive.S0
RST	MC100

// Rung Heartbeat#11
// Offset 38
STRN	MHR1024:0
ANDN	MHR1024:1
AND	MC102
AND	Drive.S0
RST	MC102

// Rung Heartbeat#12
// Offset 43
STRN	MHR1024:0
ANDN	MHR1024:1
ANDN	MHR1024:3
ANDN	MHR1024:4
AND	Drive.S0
SET	MC100
RST	MC602
JMP	Heartbeat.S4

// Rung Heartbeat#13
// Offset 51
SG	Heartbeat.S4

// Rung Heartbeat#14
// Offset 53
STRN	MC602
SET	MC602
RSTT	T5

// Rung Heartbeat#15
// Offset 56
STR	MC602
DUPBOOL
AND	T6.Zero
ANDN	MC901
EMAIL	@LCO_smtp	"""lvm-critical@sdss.org"""	""""""	""""""	"""Critical:PLC connection lost"""	0x1	"""PLC has lost communication with the server for "" D3 "" seconds"""	0x0	C1	C2
POPBOOL
DUPBOOL
ANDN	T6.Done
TMR	T6	300000
POPBOOL
AND	ST1
TMRAG	T5	0
MATH	D3	"(T5.Acc / 1000) + 180"

// Rung Heartbeat#16
// Offset 123
STR	T6.Done
RSTT	T6

// Rung Heartbeat#17
// Offset 125
STR	MC600
SET	MC601
RST	MC600
RST	MC602
RSTT	T5
JMP	Heartbeat.S1
ANDN	MC901
EMAIL	@LCO_smtp	"""lvm-critical@sdss.org"""	""""""	""""""	"""Critical: PLC conection restored"""	0x1	"""PLC to server communication restored after "" D3 "" seconds"""	0x1	Heartbeat.S1	C2

// End of Code Block Heartbeat
$PGMEND	Heartbeat

#BEGIN ELEMENT_DOC
"X16","Door_locked_in","",""
"X18","Door_closed_in","",""
"X24","Ctl_lights_in","","Control room lights current sensor input"
"X25","Utl_room_in","","Utilities room lights current sensor input"
"X26","Spec_lights_in","","Spectrograph room lights current sensor input"
"X27","Mze_lights_in","","Mezzanine lights current sensor input"
"X28","Plat_Wlights_in","","Platform white light current sensor input"
"X29","Plat_Rlights_in","","Platform red light current sensor input"
"X32","LS_NW_in","",""
"X34","LS_SW_in","",""
"X36","LS_NE_in","",""
"X38","LS_SE_in","",""
"X40","Estop_status","","Shows if E-stop is active"
"Y0","Ctl_lights_out","","Control room lights relay out"
"Y1","Utl_lights_out","","Utilities room lights relay out"
"Y2","Spec_lights_out","","Spectrograph room lights relay out"
"Y3","Mze_lights_out","","Mezzanine room lights relay out"
"Y4","Plat_Wlight_out","","Roll-off White light relay out"
"Y5","Plat_Rlight_out","","Roll-off Red light relay out"
"Y8","HVAC_flag","","Flag to stop telescope platform fans"
"Y13","PLC_Estop_releas","","PLC reset e-stop output"
"Y14","PLC_Estop","","PLC e-stop output"
"C7","SMTP_log","","Sends information to dmlogger when smpt message is sent"
"C100","","","Success read"
"C101","","","Success read"
"C102","","","Success read"
"C103","","","Success read"
"C104","","","Success read"
"C105","","","Success read"
"C106","","","Success read"
"C107","","","Success read"
"C108","","","Success read"
"C109","","","Success read"
"C110","","","Success read"
"C200","","","Error read"
"C201","","","Error read"
"C202","","","Error read"
"C203","","","Error read"
"C204","","","Error read"
"C205","","","Error read"
"C206","","","Error read"
"C207","","","Error read"
"C208","","","Error read"
"C209","","","Error read"
"C210","","","Error read"
"C211","","","Error read"
"C212","","","Error read"
"C213","","","Error read"
"C214","","","Error read"
"D0","Overcurrent_lim","",""
"D1","Dome_move_tout","",""
"D2","curr_delay_val","",""
"T0","Dome_tout","",""
"T1","Curr_delay","",""
"SS2","filename","",""
"SL0","DMLOG_new_read","","Modbus variables new reading for dmlogger output"
"SL1","DMLOG_MOD_OUT","","Modbus variables sent to DMLOGGER"
"SL2","Log_Filename","","DMlogger log filename"
"SL3","DMLOG_saved_read","","Modbus variables to be checked against at next cycle"
"SL4","SMTP_Error","",""
"UDT0","date","",""
"MC1","Door_locked","",""
"MC2","Door_closed","",""
"MC3","Local_enable","",""
"MC100","Dome_enable","",""
"MC102","Motor_dir","",""
"MC105","NE_lim_mod","","North-east LS modbus output"
"MC106","SE_lim_mod","","South-east LS modbus output"
"MC107","NW_lim_mod","","North-west LS modbus output"
"MC108","SW_lim_mod","","South-west LS modbus output"
"MC109","Dome_closed","","Dome status closed"
"MC110","Dome_open","","Dome status open"
"MC200","Estop_stat_mbus","","E-stop status, read on the secondary electrical panel"
"MC201","Remote_estop","","Remote E-stop"
"MC202","Remote_estop_rel","","Remote E-stop release"
"MC235","CTL_room_tog","","Modbus control room lights toggle"
"MC236","UTL_room_tog","","Modbus utilities room lights toggle"
"MC237","Spec_room_tog","","Modbus Spectrograph room lights toggle"
"MC238","Mze_room_tog","","Modbus mezzanine room lights toggle"
"MC239","Plat_wlight_tog","","Modbus roll-off white light toggle"
"MC240","Plat_rlight_tog","","Modbus roll-off red light toggle"
"MC335","CTL_room_stat","","Modbus utilities room lights status"
"MC336","UTL_room_stat","","Modbus utilities room lights status"
"MC337","Spec_room_stat","","Modbus spectrograph room lights status"
"MC338","Mze_room_stat","","Modbus mezzanine room lights status"
"MC339","Plat_wlight_stat","","Modbus roll-off white light status"
"MC340","Plat_rlight_stat","","Modbus roll-off red light status"
"MC600","HB_input","",""
"MC601","HB_ACK","",""
"MC602","HB_err_out","",""
"MC900","Eng_hw_mode","","Disables hardware safety features"
"MC901","Eng_sw_mode","","Disables software safety features"
"MHR600","O2_pct_utl_room","",""
"MHR601","O2_pct_spec_room","",""
"MHR602","ODH_EC_utl_room","",""
"MHR603","ODH_EC_spec_room","",""
"MHR604","ODH_SB_utl_room","",""
"MHR605","ODH_SB_spec_room","",""
"MHR1024","Status_2","","GS3 drive status 2"
"Drive.S0","Idle","",""
"Drive.S1","Motor_start","",""
"Drive.S2","Motor_moving","",""
"Drive.S3","Drive_disable","","Drive is disabled due to local mode or heartbeat"
"Heartbeat.S0","HB_idle","",""
"Heartbeat.S1","HB_ok_wait","",""
"Heartbeat.S3","HB_error","",""
"Heartbeat.S4","HB_wait_error","",""
#END

