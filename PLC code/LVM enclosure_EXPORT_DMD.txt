// Options: Export entire program; Code Block delimiter instructions;
// Formatted Rung Comments; Element Documentation Database; System Configuration;
// Memory Configuration/Devices with Built-In Types and User Add-Ons;
// use Element names (no NickNames); rung/address annotations;
// <TAB> parameter delimiter; 
// Write/overwrite file \\nas02.lco.cl\USERS_HOMES\Felipe Besser\3 SDSS-V\LVM\9 LVM_Enclosure_PLC\PLC code\LVM enclosure_EXPORT_DMD.txt

PLC H2-DM1E

// Do not modify SYS_CONFIG block!
#BEGIN SYS_CONFIG
89130baadae3110bdd9174928b61a48876f9249507926211dce73502a29f3ca8d0b6ea9f18210579
ff79d1b52cbb7ab77fe29eb04fbe72664a546ba055b91153290ec30f4de4bdd401732ec0060781ff
69586aac5bd2b38dc5687126851ee5fd3f5b252ea63786475d66ee444d3531422674c94bdf232401
7e739fdfdaea8188acc5f02dd5adf367e483edc666c23e560c6516094e8b589022105a196b5de42d
1cdf78f2f14d3019e9f9ef86c3fcd5f77c52f2b77a4ddc194439210513b6fc039b7490cad367402f
7f2f94dd94861a97890c8f8781c4d60f2091b43add227a02b0471e53587402435553d8eba83b6ae6
f20dcacd01fe9e4843239693f2ae926bf2cc34e617ed476ccc91faa2b8e01f0fbf30f121af679ae9
6bf86970754c0ae9be264e89f158d73c8ed0f06f043a574eb1d74981b92fa88d298ed7618d4c237a
5416e105e08373609c01c0584661a484892df959739abdea635e2e1a77780be7ba93d7623726109c
abd0bfc98e7409cc71312f468f90ce1da5b9dc7c974df5bacfb1aeb3485adb20d655d35e2c0c8661
36ec23c9c4325fa372d27aebc022d62ed2afc333369b9dabaaa0b7a987ac989bd253105995c9d515
506f71f3f249d594b211f94808e417ba21678c2eb91f0f5e60913269bfe833f7cc273296cf395e94
42f9e129c526507914461f9283667ac4083cb30676716f4a0e802ede14dbbb1f8850a97657c06cb9
84b24d49c2bab6fd5da52be9022c39ef00751f3c5e026f2ed9f9af7dd2f33ce8ac56c3b00f76e6d5
074694659a95300871fedc6ceff39dc5e272eddc3d44bc5c56a6769acd884448294290da8d8dc1ce
26c95964c6ab5fd2dc5eef149319389fb8fc8c8a9b5c64d5687198784f1b124c5332dee3b4a39777
bc7a6a8e14d9938d488b0623291fec2eea782b138fdeff8e9f0ff19449ce50e030243dac2f17ac08
b44549008a8c53c44f994f75c4c547ed31d8e8f681857aa2dee2a3267bd45b3690c7f1f9b0bcc6dc
4a3d35e15461aef9cc9866c4f88b843fcdde2460ae3f1aaa8add2cc5226573d139cc4e04bcf065b1
e137571c1233351968e47f0484f8d8d2d50af88482b518572c1090d3d30dbf2d2cb1b4e35a11500f
276673d7d98f2b3b25bc8da851f595207bd256264f595c1caa9fd67de4bfe691bb5e92b9b003844b
1d14dda7b2ac3e888b01a70fbe585d3b331d18d6b41c271806945605db7a230cadf3b24a5b253b6e
209a5a6f842f1985a55bba4ea987001ad6e8ba0f92bccd3577f7b02daf6121094adabbd320e8487b
d3f8911fd27a531d18f8b39d35b145f939b5b80e3067ede003671c4a125c31ef575d65e22aee71ba
bc836d445370a24a71581ce60360a92ff2da28fb43fa8873bf971f05510f1c71f4bebd6175fa84ce
51d11d73a9306a4a85179c9864959d9ac794038114076bdad2c25dbd20a889779c62c0ad59963db1
d911cec1b07bba16ac8df32c3e9fa8c570de4b6ee43a823b34721b52d081e78a3c8f31063aa519e3
b6643e1696f810b62e83d02fb3895d49c9fc1b324a3f2f6b7a92d9179f82342851aedfb1baffd80a
99e041d11d8c5356194a6d60f18535be7e87c00970197064e695ac7664346f94f1e36b78cbeec097
01a6e6310c7b19440fb8aa2d03881a2687a74b67e36f46f26a79a7bfb70da05babe85eae27062b5a
18667c16789732a0bd4dc6fe7615e6e81ca70a805de0689efa6c661ad3adb733629eb6df07d1be30
7b2c2d7e2042c422aeed36f3d5bcfadc04819ac04bccfba74383dc17ffe857fe3222e872ff9f1c7e
d43577a3d590dc65d67378bb1ab37f6f2d282f61d3ec29a170500dfa71177e45224017bcbd50bae7
4896d3bc3e9d5f950e70606dd907b6ec0e939b9e56594b36dcfe1609f722c65b42c7a701c9116648
750540ed93f40ab95ad50d40d52c954a465905f5b0a944477523463bd1ff61f13022bc8d8cdf1bef
dd4d935cb4cf4dc3fa36d89e36bf83f9fdf06387dac1a66039923b3dc612c2cd3b9f361e710613ed
85624f12418114c7e69669f9de30b5e5c37ff1d090e965f441ae00e6ea7afa1c2ce578c8390a4a0f
ea6685abdfe41db986c398f0da70334b753bb54fb9808884b4f54d5c1a84e33c289b7e82b9683360
1b2c66dca4751094704147ed47f8e009c10ececdbf2d0cc42951a0711cc1a241c8a148e69cd01fd0
289fe87e14ebfcb42681b3a4d7f9fc028d22f12f3c86415ff9769c3f97f8ebaaf118771187aad6fe
c16beec82901b8fd94b8a7abcfd6b6a7b1ec0ac4adab9233282b3c7a7cc2d034193f66aa6b88529a
9343a30975f974c5a67c9194786a33345b606b64f42834a66393560a23e672c23bc512c767a7b980
e9e2c8c42d81d19c874b31e064657f0b994bb3769a91d85133bff38f37b68e075977660a158fac86
34e20a9373fd6b3449874d11ee904d1f8c575ac2c39b539ad3d71ee24f86ec05d060c715f0bb5e35
f9cadd19a701573dd11e3af3e9580e976290bc2290ad3fb30cea648ee5fa808c9c4498077616d66b
16f0646aa2c36f5bee5629a38ab2cac132396cbb31e74db836a786e75d94a31f123c7c36aee99448
82ebb20f1e3712d0d0b969020d2e170ce183913d09b47dc2a3697d1000574897fbf6fcae7bcc1502
3dd5038c9a972a3e7c4f4873080610c405716e69348bbc452ae3f9d7380c79a670fd3b28dfa7b591
08153d0c2731439e0db62e6976a369b7a5ba4a765cab0361f991a95bcca94db21ef7c6cea0c7942a
f089231353eb6e4f34666b61ce13b765ec08051e26c0171386dedb01fa353d6eba5a7f8b271438f3
d93bd7786699d28952dcd96dd67ee6fea9993bc6e326ffbbe3dc91ec3a598292afb1a0015173aca7
44fb35484fef07e6d8a46c2b6fc8f4158ee00d33b113bd7fb274e2998921a3d239deec4eb2b538ec
89a89e8d9c4e0dacfd67d922a486379adb9552fcc0b333151f2425fac849b8347d1b1d8fe1431310
4330f928435e8addfe82cb4720e1d04ac29894b1040134a0399c17f351603b8f5707b5cb6518c7cd
03e832873bcddec48c509ea05051b1f92afcc8806e078b8683527dd84939c2cb99ec4d20dc66b66b
ecde56f225cabacaaf0117f53cb72896b60e974a7fee246b2bae47cf4d991f99683da0f97b271bca
8cf21b50fabdecb5d4683f16d64c429beeac803349b160d2b2c0f8e974d28da863dfb999b178c414
54cc15258e49808bb2217cccf608f4c1f34cdb49b94fca262c4aa28d03af1aef38f35e7e877aa049
e64bb01bf9876e00bbf96295999a7a55770f9a86e08883d537829bff238cf1314d3f0716c31e7842
261d96ae262e68c228b1003cc4d2eca6347ffe975d2ced6a9954cf97cc6aa2aa9933a6a0bf3250b5
bd9c857e7c6a0c1e9203b619bba7ad6e39f725c875757ef18d5bab074490585fbd872fc5cfa9410d
71030b65d5daa359a6dcf77fa5cff268ade6268944571941c9d4e90b77962a523e5c843fe7b06d40
9ba9c5009f0446c38b615db36477cd0177d21c85f4da81c9fd426e7bf894bd708054813d00de3548
4d1401dfad5193068e14427d6efaa645be294ef6186c6d66611a24a02a6486e3e98042894354802a
3bfff84994c77027b8a1a97c4620b3988024b88818b8407df3b7608ef0f58577164a9ede9e0942cb
8aee8b85e3934c1a08afb6c4cc63ee34c8076e51ec1c0cf6c0ae251b3578750f1c1820e9dfd3ed8e
347dee8ae390a101f9a99fc52a528fa29705d8862377e4a1ac23f527b7ac81dd025446cdd447ba3c
7bc1edccd781674734f6341f944fa51e1497ede89868699a7075ec6b8ea54dda63636d39629aa518
a8b862543ab14f61e0a146b2b049f5fdf8c1c6cf7cce9db60241b76112b9feacba105b2f915c4f03
9b160b36146db8e9379584462db7070893b84965facbb91c128c49b3124e1fd541f69fa01dbdad47
711f944a6409047e6db9008f0947a500114cf36b46e816bc7805b62a83a03022a17d5ee8577d02da
f3da371d8cb4ef12202b914da80fb342e375754c8207e2da32a5dccff5aa80ff2798519ee55b9665
2f2db5f413e7fba2cff78720dcd0a39bf6f29676ac6ca8af1ebfad39025831a384c39da4908bd3a8
219846b238f932a1bb57abcdbf884f887eca4faf8ebb0ea339c2059a3a79b2ccbcda0905e2d03f42
5e95f8704ce679f77f69673a0e62aadd3aa62ba7e7e4c75e3427de861e61ef71613c05cc161fd1c5
bfd5a3820bd77ea597c3d3c61937ea6bab8716069411d6d62da082900c7812659e517dde14c537e6
80e158ce7108bbc287cee5fc7ff9e28f29092ffeabb8cf0e8f17a85ec0abf96e1410186a2dececd1
1f9efb0bbab7182e986ba33013cb6ec650a9152a04e91900f3c09ed644c100af387e6cfbe2bd8cd8
2b6f271f05cc8c0075a0d941fe0842c870ccfd2b59ad6f2e665b2468f9ab6930586c83affed4c9fc
1e79f0364bb1305590404b14aba89141dd1ad91cd63d408dde58ee65d1c8d6cc5af423d8c1888daa
0a4c4464165b65c7b74e2cf8bed259e3dfae99fa1f268785d96c32fe9edd96f95f8504e418506ffa
4b49e923833a3216a5408325423d2c574badc8b1fb59ec4b362c05d4b2c4ee7c59a4b0438aab3418
ecd01c1681aca7debc47388ea231c4f49208d190d2cf9e36fd89101ba607bf5c31b29eddd65024bc
6c6362c7d17b8d5fe81150ef2679b1f3ba643dac9c8916e61a9b13ed045c26c93d11ba24382ddc83
a0edabad035e596d399ca012cfb3ed9c147fa04f5001cea43f803d16102470d5dcfa94355d37c46e
06a0cda3a9e991e217c1d7c67f0815a46b174e87bf04f8e46cd29c4fce716a1f5a6fed09987f9caa
d35900c653bbde668b81ad604e2ffd1b6938fedf4fda15c0342023eb55891024899cc05592df98c9
437635e8d22fb1c6beabdac9b6e23e6fc260aaa9eebf3918881dd207f327ec3c79387aa4a2abc964
8337877dee1496d5abf3441e9caab6fd358e92316dfdbb8664573a689a7fcb9ad81fa01850e68be5
bc545c49460881eb68c6b3411b721a3a17653405c7a3a2da365eb634cef80823e8ac240358481302
8a2f336df4051389b8ce0111bb74093c8899b584298e5625a6f8390f17fe561d441b6b99eac629c4
27313e3bdfed0e3087d72e19e91f5f30d5696d66a48537ba78dbd927762741fa861be5d6e1488d87
0227b14a8a5172aa6b58a43c9a908664d9ead53cd7777467cea3f199f1918cad5b155dd1207d1e8a
e0b907398e32e328e18adf51b20d8006ef7511c2c8c02623aee56dd3d8a0b106115946bd41ca67ef
ba3a4bcaca2d967f73abd0ec9dc64e33138433aff2d0d38985cc5320bfac0808d0401e0b50b8d192
b43183d95a60f060faa1af1ee38427c1f150fef9bf4fac23b6a273ee4f3f698ad1d0c416b7b9ef33
4aad0253c38d0ed1a76245981be438f623d51d014804697793ad97afe17fc1bf4b8d8adce86c8d33
12421526f736064ebc5bb93056853af8dd7d4f19f90a4524f5c9e166e2a1d06dffc36619ef82b43a
e075e56308241bdbd5cbd41afacd2b8e6e8d5ade41d6d02e06f5e6537c0c2544ccebb2799b083f7d
2545308c5a5128ebe3b1f46bbe17c9292171a58e11c1a0e9578dac6e349f459ccb681bb9096aa807
ef0fdb55f7ea01f664fef9f6ad0488537968af448c273fcee0954ea662ceb32414f6d51950809cd5
bb1067aefc84d0c9a70f4bb5d7e28f6a316752bb5758aab8febda1e2e037e746238334ea8c1bbfd5
f5c8ec110b6aff164e46fbe1d4429515ab709a56dd1e75f4d87351422188d29ffeac235daf1768b0
8618f8f03b5dc6a7badbc78d9386bef839f1b5e3bfe5c7ae6ee87f075326ab56f4d89a766eb837dc
06b5d620e737547e0958f9d861ec84a064b89dae6f8dd4f6d174109414896162cdfba7b6a0ff6784
afdc92b0a1d3dc8449e9933b01504fc36f246c2b6d123cb15a24c674a0fe17e30a691130cf9d268c
9463081e12a02e553c84dbdf8ff87f4fa8564f422829da63a3e964c7c3180c57f4a1c6992da4361f
d198ac711f771ff47e637824cf79ad215cd9965c081f6b281129bb0e69fa8db5ff556b677df93e3c
30b953c79a770574217b71cbd22ec65ab82f5cbdae55e394e87b6fed295e5779edcfe59659100f7b
04544bb6475029bf7c22e23babc3791b552ee5b6abf72f81a54c7fb5edd9b3d589a862d622394207
e9c7da68a07069e98eac3b1ccd365a1602b35ab896fb4388b06865408fb7af51ceafcdd69a8f303d
c967874971f7bc48b783b86ebc86a7cf895085d3dd71989652aeba8fcb5f59384356580fffcfe8bf
118df9848300aec31172ba0d46d9eff2c843d30680721f3639a5634257e78e2d0e101d7210124f72
7ff5bfaa279129669ffad70035d0acffe39ee2f7f9ce9e6a2bf11e0ad18f95f4667fb7fbe44e65ab
a4194b8c11ab815d0a29d221d81047ff3696bdcc6b75784b7cb0c7d26c537e450e4df861d36ea723
3beb77e6063221a8f8cdb16dcdbaaf33d0f8478806c828aa3bb1ff21cf3379bd32d3c2be3090b479
a78a804e26e3cbfc9966e66ce5cd3a915871c73824c71075dd62b7d0afb170f24c19aabf114a2f5f
b0af4ed7fd358e15598fb5f05f99973f2a6e62fe0fd006cbf41c30453349f3abda3828c95095d444
da12c649595a414c1600c4c641f737b082e7235c33cd4f22187045099ea5687956d565c5d6a8ba9f
70028cbc3a5636b78fa699b417b5d3ef5219b24f5462c440d1e4e2b02ec3ff03e0f9d23a81054f99
d7ddae591aab529dcf97d78bc2f89d0a3a14e9a7ca68fac0441e3e2dd3c7f2e62ba4989becdce41c
2f4e62eba5fc81b39b9432c84ce4e56d9b0a36505ba054a8379891dc381a20533248adb133bd7766
7fdfdbc450ca46df739dc823cf9a94b394da67746af681d0c25b6bd117a4ec9c45edf11d90acdcac
a298a32b66c39297ad870bb536afd4486db8e0b86649ce1133d2bb220a9d6bdf7ccfe4831ac17b59
c26b320f5c5f505e336ee4f8c98f7bd8c644c57fdfe0a4f1dff8bb4603414d6086a2a3f831b467ab
0f2f1cdeffa8972f6d7f6b0fc4aa3db4f87fea402dff53d11a5b30384b82b3deec9b02ab4821b38d
0be170c986bddaea14317209dcf20bf3a8466aeba940fb5a4d475e834710f039bd9513d27aa8aeb4
2027504b6bb0422d2f94c222b55f382da11fc19e485c00396dd353875715d9ccd56c2f8a99b78d74
13fe6c47f371136e15f4ed199a1604167ba7250816a7a4107d39a6321202c0b033161e4463630296
945782db334eafd58995dd02652f6143bb24b97eee39db8b8383a380153818d2cd66d68504ad39bc
9b149fd9b6e2ca2771d797cfa4d033b56ba9de3372753f3dfdc09f6724807195ec4182d68a6ea3fe
3658653170a7a31c03de53dc2d0bde81ee4b00103afa60be63c42bb477e698bebf0142afda82bcc9
280a2a5b6d6b2029e3fedf6635e8c9ccd2bfd617073d0fc0dd86177f72d6eebbbfd46fd9df7a73f6
d241f382fdd67f1796c49e5ec11cfd923034cb79cf59673134b1d0f4809e55b1b01678c25de0d831
51eaec23564c121aba99b16f1cabc3870fe5cec923beac0d2dadcb7bba82b69c4d9fc91ffb33d6f1
e8df7c00bf1d178e3b9494a482a3572806c8a204898dac0b3341d9d05e3cb837003d5522df571a90
d4c547d67d91c11df79af662c832a7a234e67a801b5d4e2a1cfb412c3f0a3475fdaec46f0f0297a9
9407d221b46d74250f251174806793b584a055df471b33db30d45aa68c943e3c4f0ba65e61c4133a
14e376820b37bdd64de62cc4bc7d11cff98c42bc71624c19679ff0a37157ef596e4548385d00d25a
ea737c57ba57a4d515e607b8e589d846224e2fa7fb2b50ab8e2e3b0b7a9d55a708f8836cb187377f
a3d3ff354d542c175d8df5446afff171df468a2f5ca298e6c8eb057a53616af3dcb9f508d4f663d1
b94c6e6ac79abaad10fd0c0f293a087cd5742851671136a689d64095092ed0c9263668d7ad3e9159
96c97d588946c7c3e70d1216832f05cbe55b2dbb63dc7e8d70045945d6568955fbd43cb0c240b5db
d6c6a349f8cef7783b177afb4f2df8642081e49c461177ff518be068dc49f2739ea65917a10a2941
3cc5bf7b1b3311ce8da05c9d51f18048ce7650412352b510887877ae0b7cfb2dc670801f0a21b6e9
1c1bf5bc64c7100299d85a7bb0b653ebf9e7d5008ec3b209bb1a17873952d4bb8980519c1248471d
18892a14d6e8e5dd7fa902ab8cdf79e327b00b3d3f1b7191b5d6de1ab90e61cc9f8d581ae0501982
52c2e356705005e4f235dddcdc6839a6e01f8b676fca444494b81a700daa10cd355160e33a358d93
d402dd4a0df39289ef932162b8e4306888a6f9ba1e7662f769b7150df50c79d0a834fadfdacbc5b5
813a5ecc2e4fd7092f5a9bd29f35e1416023f1f5023158cfaf2d6dee004818120efc9d7fc4b409c4
8be45bb8c99bf78a40fee1b435e885ae4839df5792899e4061badc046e5648cd704c62cb384ab0c8
c5faa6331236de0993b0bd1987534ff6a91c899f3bda7442d1f1fe930c904328dc56779f8c35b208
d43574a4ed5655e344dbcf74b51a6d1d8cf99c4ad357e543d060a84741e8b95c9c907f67c42ab218
88e340e51c9782ff198a98eb258acf0eb5d68055297b37aab958fe55a5a2400cad04e702bb01d239
bf9a64afe83d1e7c1d3acfa7d3b3f00d89806cd88e82be795c7cff2c53f4d977925cb7c46e4bcc30
e3443dde8a488091ce4afccdda2c794fd71c5ff38cc826c224a4791b513e1675fc45042f8aaebac3
097e40eeafe2cbf109a38e0ac7667248a50334f925c01f4c2ea6645f3baedf8ea86428b6f96e5423
63457da2e8f1be90390afa5f29212aecd7e17d794018f1f612eab32d86cee774513f8bb624540dea
80811f2b7345653f9b87cfadcf7ab89beb072475a3e3a4228d776d6607e82608d9b02a12fe4731f1
6ab8097da0a4903614a01599a46793a4f78438ea2ea7863282cbcaffaf8fd6c96bd73893485bca0b
a0f1c3595e6ab74bf04f6d5d6ed090c061ce6b669a89656700ae7344bf301f8aeab1e0962209cf60
8de6d4cf43bb872804d051063c90393ffc372c9255f91d5230110ea1336ac71b0d022a26c7454530
5fa232f216d5ba1659ec3b6a43b17f39c20f07cfaed235b5260300e7258595c42e0d4c182376ad07
0c0526c0a996516ac800514b1e80f6629684939dc52c4e7278c3a3f02f9045f19ed6bced2d0b53f3
b4e216b7d22a9e38122d00b69db43cc8ebda48b1461e217ab8e6d59ea84b3cf1de41decf879fcbf8
16966d71862c21cdfd9482df7cd415cc50fee141e5209f618c1ce58730fa8e9d1c89213543c875f1
93d9d3e59383fc19dbc901d645dcfc83eb06c8a10f07bda4f88b69305b7eb9fb22dab9a9fc288ea6
17a4f809a3dd0540f9217e62e9aded445b79291685cc6f0946027352193c8fae24822f5965101ae3
f63edec69a0bb991ad90ec8d8f6517373b268829e88ddcbefdabcf714e1b1b49587cc2bc29594c6d
0033d2c44d8567ebc6eb084faeb39a6cb1d78ea2047f7951cbd8e45a245c90bccbe3321cd1e61f70
a7b683e14cb9d99880538967adcb1f139f3da849342153697e21d1aaf869564ab0d4eef6383dec07
7b899f1a32b22733be74b4e30b4b6179a8675384afbf046b3df319a48c6d06b2b94a37e16542209b
4d525afaaf96730dfaa4c424dbcf9f0de50956a0549f310afe49b144de97584aa6f471fcc6943b8b
b7dead29a2ca6e0027be2a43ded578195699e50612bff84505af77a27970638aba93fbf344ea9dda
40be2b2f46b33cebc4f43c6afb33105a5b2fe473dc3e7ef0d04d2469b12cd77c77d792b55054ac32
94f750a622f0c3c2bdd921268e3dd1686b573c16392c393c76b3061a1a3a9490625fabb7d6ff43e2
d6173f086df84dd88dbff46c5aaea1c6f90c91505238f9a36f3ae125c50526f8cbe1ad50d5c12fa8
445bc860d0787f683f1f6ab119f66daf23ee83d902bddbe65f4a295b385b7d92af2a7ec98ebed0a1
76c90e5cb153c5366226d0b5f91867b2edd9b047390b7f30b630d428bedd781dc6d5a5eadd3d41be
b06ffc0e5532a14c29a315215d09f4c163ad5b7f91f24b4ffd1375f920ed29b94e9920be5985ab3a
f1243b01c0d64c26dc86704e24a93243bef88265f482bc5b767951861dc81d050c16729a79272d4d
70b82e4a7bd7fa55c4d89033bdfedcaa9baf28a055d73665de28f5d0f92afbdf42d80d65d55a459c
0909ca9fd47f380487f1e877e88ffb8138758241cdc3449eb4d7eddc14b30ac26171201b6e206d66
e9d114c53f00fc7b937a7fd3464f6918f5016fcde15cfa6d8e6e1c083b72a34de8f79af5e429d2d6
9a650017d3dd331fa909348b45d08d5309c8a15aa54951376b7035b3db714708bae5842338a79eab
003967e19747828799a4f31865b88a31f80cd0d69d9fb0dadb2f21adc8567c0d9263502092f55d46
dacac4b5f81780a345759651a1e83f8bc687a7ff881e747c64ffd75d132663320acbad5bbdd093be
4d902ab0aaaa09d888e15129218fa10bb10055e0b4304c24ac28d40adfcfcb705c13c8a225246137
6b44962f9ab4d13b29e11b3edfab7772a4bd12ac2937b2e9de4e138959dc7ebb4b2c4a4750fbe1da
bc3782259e7dd4ec41fb57b0ebc8563750e2c8a991e346e6360aa33b9cdbe355c58d0ef2392495b5
5c8eddab36f2b14407bfd63581e58dc185085cb6dd036b9104ebbdb99ab2cae4d61ddbf082dcc665
6a664cfd5cee9f1ebcf0ab5943ee98
#END

#BEGIN DEVICE
	@LocalIOMaster, 12, 27
	@RamFS, 1, 1
	@UserLog, 7, 11
	@IntEthernet, 4, 2
	@DMLogger, 5, 10
	@IntModTCPClient, 9, 14, 1000, 2, 60
	@IntEIPClient, 22, 31, 1000, 2, 60
	@IntEthDMPPClient, 23, 32, 50, 250, 2
	@IntSerModbusClient, 8, 13
	@SERIO_004_A, 16385, 23
	@SERIO_004_B, 17409, 23
	@ODH, 18433, 25
	@LCO_smtp, 32769, 7, 2347065611, 25, 30000, LVM-PLC@lco.cl, 0, 110, , , 0, smtp-02.lco.cl
	@EthIOMaster, 13, 27
	@CTRIO_003, 16387, 6
	@Dome_encoder, 17411, 16
#END

#BEGIN MEM_CONFIG
	X	BIT	decimal	2048	-1
	Y	BIT	decimal	2048	-1
	WX	SWORD	decimal	256	-1
	WY	SWORD	decimal	256	-1
	C	BIT	decimal	2048
	V	UWORD	decimal	4096
	N	SWORD	decimal	4096
	D	SDWORD	decimal	4096
	R	REAL	decimal	4096
	T	TIMER	decimal	256
	CT	COUNTER	decimal	256
	SS	STRING	decimal	128
	SL	STRING	decimal	64
	UDT	DATETIME	decimal	32
	PL	UWORD	decimal	256
	DLX	BIT	octal	01000	-1
	DLY	BIT	octal	01000	-1
	DLC	BIT	octal	01000
	DLV	UWORD	octal	04000
	MI	BIT	decimal	1024
	MC	BIT	decimal	1024
	MIR	SWORD	decimal	2048
	MHR	SWORD	decimal	2048
	RX	REAL	decimal	256	-1
	RY	REAL	decimal	256	-1
	dmlogger	UBYTE	decimal	256
	MSG	STRING		0
	ERR	STRING		0
	SysName	STRING		0
	SysDesc	STRING		0
	SerialNum	STRING		0
	PartNum	STRING		0
	Drive	PROGRAM		0	-1
	Lights	<Virtual>		0
	Heartbeat	PROGRAM		0
	Rain	PROGRAM		0	-1
	Drive_new	PROGRAM		0	-1
#END

// Beginning of Code Block Lights
$LGCMOD	Lights

// Rung Lights#1
// Offset 0
STR	C2000
NOT
OUT	C2000

// Rung Lights#2
// Offset 3
RET

// End of Code Block Lights
$LGCEND	Lights

// Beginning of Code Block $Main
$PRGRM	$Main

// Rung $Main#1
// Offset 0
#BEGIN FMT_COMMENT 
" "
#END

STR	ST0
DUPBOOL
AND	ST1
INIT	"3 D0 ST1023 75 D1 ST1023 165000 D2 ST1023 2000 MC100 ST1023 0 MC102 ST1023 1 MHR510 ST1023 70 D10 ST1023 0 MC201 ST1023 0 MC202 ST1023 0 UDT0.Date ST1023 SDT0.Date UDT0.Time ST1023 SDT0.Time D4 ST1023 DST21 C0 ST1023 0"
POPBOOL
DUPBOOL
AND	X24
CALL	Lights	0x1	DST511	"3 Y0 C2000 1"	"3 C2000 Y0 1"
POPBOOL
DUPBOOL
AND	X25
CALL	Lights	0x1	DST511	"3 Y1 C2000 1"	"3 C2000 Y1 1"
POPBOOL
DUPBOOL
AND	X26
CALL	Lights	0x1	DST511	"3 Y2 C2000 1"	"3 C2000 Y2 1"
POPBOOL
DUPBOOL
AND	X27
CALL	Lights	0x1	DST511	"3 Y3 C2000 1"	"3 C2000 Y3 1"
POPBOOL
DUPBOOL
AND	X28
CALL	Lights	0x1	DST511	"3 Y4 C2000 1"	"3 C2000 Y4 1"
POPBOOL
AND	X29
CALL	Lights	0x1	DST511	"3 Y5 C2000 1"	"3 C2000 Y5 1"

// Rung $Main#2
// Offset 116
#BEGIN FMT_COMMENT 
"Read GS3 drive Elements using the cpu rs-232 port"
#END

STR	T10.Done
MRX	@IntSerModbusClient	0	0	1	3	8449	8	MHR411	0x0	0	0x0	C100	C200	DST511
COPY	0x1	"4 0x0 MHR415 MHR130 1"

// Rung $Main#3
// Offset 134
STR	T10.Done
MRX	@IntSerModbusClient	0	0	1	3	8450	1	MHR1024	0x0	0	0x0	C101	C201	DST511

// Rung $Main#4
// Offset 146
#BEGIN FMT_COMMENT 
"Copy the encoder counts output to MHR150<br> <br>"
"- If motor is not moving, send data every minute.<br>"
"- If motor is moving, send data every second."
#END

STRN	MHR1024:0
ANDN	MHR1024:1
COPY	0x0	"4 0x0 0 MHR152 1"
ANDPD	ST3
STR	MHR1024:0
AND	MHR1024:1
ANDPD	ST4
ORSTR
OR	$Dome_encoder.Reset
DUPBOOL
AND	$Dome_encoder.Reset
COPY	0x0	"4 0x0 0 MHR150 1 0x0 0 MHR151 1"
POPBOOL
ANDN	$Dome_encoder.Reset
MATH	MHR152	"(ABS($Dome_encoder.iReg1 - MHR150) * 9525) / 10850"
SET	C6

// Rung $Main#5
// Offset 190
STR	C6
COPY	0x0	"4 0x0 $Dome_encoder.iReg1 MHR150 1"
SCALE	$Dome_encoder.iReg1	0	10850	0	9525	MHR151
RST	C6

// Rung $Main#6
// Offset 205
STR	MC109
ANDNE	$Dome_encoder.iReg1	0
ANDGE	$Dome_encoder.iReg1	-18
ANDLE	$Dome_encoder.iReg1	18
SET	$Dome_encoder.Reset

// Rung $Main#7
// Offset 219
STR	$Dome_encoder.Reset
ANDE	$Dome_encoder.iReg1	0
RST	$Dome_encoder.Reset

// Rung $Main#8
// Offset 225
#BEGIN FMT_COMMENT 
"Read ODH variables for sensor 2 through Serio-4 every 2 seconds."
#END

STRPD	ST4
MRX	@ODH	0	0	1	3	202	5	V605	0x0	0	0x0	C102	C202	DST511
RST	C600
MOVE	V600	MHR600
MOVE	V603	MHR602
MOVE	V604	MHR604

// Rung $Main#9
// Offset 245
#BEGIN FMT_COMMENT 
"Read ODH variables for sensor 1 through Serio-4 every 2 seconds."
#END

STRND	ST4
MRX	@ODH	0	0	1	3	102	5	V600	0x0	0	0x0	C103	C203	DST511
SET	C600
MOVE	V605	MHR601
MOVE	V608	MHR603
MOVE	V609	MHR605

// Rung $Main#10
// Offset 265
STRPD	ST4
COPY	0x1	"4 0x0 T8.Acc MHR700 1 0x0 T7.Acc MHR701 1"

// Rung $Main#11
// Offset 275
STRN	C1000
AND	ST1
RUN	Drive

// Rung $Main#12
// Offset 279
STR	C1000
AND	ST1
RUN	Drive_new

// Rung $Main#13
// Offset 283
STR	ST1
RUN	Heartbeat

// Rung $Main#14
// Offset 286
STR	ST1
RUN	Rain

// Rung $Main#15
// Offset 289
STRN	X16
ORN	X18
ANDN	MC900
OUT	MC3

// Rung $Main#16
// Offset 293
STR	X16
OUT	MC1

// Rung $Main#17
// Offset 295
STR	X18
OUT	MC2

// Rung $Main#18
// Offset 297
STR	MC235
CALL	Lights	0x1	DST511	"3 Y0 C2000 1"	"3 C2000 Y0 1"
RST	MC235

// Rung $Main#19
// Offset 310
STR	X24
OUT	MC335

// Rung $Main#20
// Offset 312
STR	MC236
CALL	Lights	0x1	DST511	"3 Y1 C2000 1"	"3 C2000 Y1 1"
RST	MC236

// Rung $Main#21
// Offset 325
STR	X25
OUT	MC336

// Rung $Main#22
// Offset 327
STR	MC237
CALL	Lights	0x1	DST511	"3 Y2 C2000 1"	"3 C2000 Y2 1"
COPY	0x1	"4 0x0 DST21 D4 1"
RST	C0
RST	MC237

// Rung $Main#23
// Offset 347
STR	X26
OUT	MC337

// Rung $Main#24
// Offset 349
STR	MC238
CALL	Lights	0x1	DST511	"3 Y3 C2000 1"	"3 C2000 Y3 1"
RST	MC238

// Rung $Main#25
// Offset 362
STR	X27
OUT	MC338

// Rung $Main#26
// Offset 364
STR	MC239
CALL	Lights	0x1	DST511	"3 Y4 C2000 1"	"3 C2000 Y4 1"
RST	MC239

// Rung $Main#27
// Offset 377
STR	X28
OUT	MC339

// Rung $Main#28
// Offset 379
STR	MC240
CALL	Lights	0x1	DST511	"3 Y5 C2000 1"	"3 C2000 Y5 1"
RST	MC240

// Rung $Main#29
// Offset 392
STR	X29
OUT	MC340

// Rung $Main#30
// Offset 394
STRND	MC3
ANDN	MC900
DUPBOOL
AND	X28
CALL	Lights	0x1	DST511	"3 Y4 C2000 1"	"3 C2000 Y4 1"
POPBOOL
AND	X29
CALL	Lights	0x1	DST511	"3 Y5 C2000 1"	"3 C2000 Y5 1"

// Rung $Main#31
// Offset 423
STR	X36
OUT	MC105

// Rung $Main#32
// Offset 425
STR	X38
OUT	MC106

// Rung $Main#33
// Offset 427
STR	X32
OUT	MC107

// Rung $Main#34
// Offset 429
STR	X34
OUT	MC108

// Rung $Main#35
// Offset 431
#BEGIN FMT_COMMENT 
" "
#END

STRN	X36
ORN	X32
ANDN	MC110
ANDN	MHR412:0
ANDN	MHR412:1
OUT	MC109

// Rung $Main#36
// Offset 437
#BEGIN FMT_COMMENT 
" "
#END

STR	X38
OR	X34
ANDN	MC109
ANDN	MHR412:0
ANDN	MHR412:1
OUT	MC110

// Rung $Main#37
// Offset 443
#BEGIN FMT_COMMENT 
"HVAC Flag to activate telescope platforms inyectors.<br>"
" <br>Fans will be turned on, if signal is off.<br> <br>"
"Fans should be turned off, if dome is open (not closed) or "
"local enebeled."
#END

STRN	MC109
OR	MC3
OUT	Y8

// Rung $Main#38
// Offset 446
STR	X40
OUT	MC200

// Rung $Main#39
// Offset 448
STR	MC201
OUT	Y14

// Rung $Main#40
// Offset 450
STR	MC202
OUT	Y13

// Rung $Main#41
// Offset 452
STRN	C5
STRPRINT	SL1	0x4	"""#file:"" SL2 ""#"" DST21 "" "" SL0 ""$0D$0A"""
STRCOPY	SL0	SL3	1
SET	C9

// Rung $Main#42
// Offset 474
STR	C9
STREAMOUT	@DMLogger	0x0	SL1	DST511	DST511	0x0	0x0	C3	C4
RST	C9

// Rung $Main#43
// Offset 484
STR	ST1
STRPRINT	SL0	0x5	"MC1 MC2 MC3 MC100 MC102 MC105 MC106 MC107 MC108 MC109 MC110 MC200 MC201 MC202 MC235 MC236 MC237 MC238 MC239 MC240 MC335 MC336 MC337 MC338 MC339 MC340 MC600 MC601 MC602 MC900 MHR1024"
STRCMP	SL3	0x2	C5	ST1023	ST1023	SL0

// Rung $Main#44
// Offset 558
STR	ST3
DTCMP	UDT0	UDT1	0x1	C10	ST1023	ST1023
EPOCH2DT	DST21	UDT1

// Rung $Main#45
// Offset 567
STRN	C10
EPOCH2DT	DST21	UDT0
SET	C11

// Rung $Main#46
// Offset 571
STR	C11
STRPRINT	SL2	0x4	"""C:\logs\"" UDT0.Year ""_"" UDT0.Month ""_"" UDT0.Day "".txt"""
RST	C11

// Rung $Main#47
// Offset 592
STR	C1
OR	C2
STRPRINT	SL4	0x4	"""#file:C:\logs\smtp.log#"" DST21 "" "" MSG "" "" ERR ""$0D$0A"""
SET	C7
RST	C1
RST	C2

// Rung $Main#48
// Offset 618
STR	C7
STREAMOUT	@DMLogger	0x0	SL4	DST511	DST511	0x0	0x0	C8	C12
RST	C7

// Rung $Main#49
// Offset 628
STRN	C0
MATH	C0	"DST21 >= (D4 + 3)"

// Rung $Main#50
// Offset 639
#BEGIN FMT_COMMENT 
"Send an email when the lights of the spectrograph room are "
"turned on manualy<br> "
#END

STRN	MC237
ANDPD	X26
AND	C0
ANDPDPF
ANDN	MC901
EMAIL	@LCO_smtp	"""lvm-critical@sdss.org"""	""""""	""""""	"""Someone entered the Spectrograph room"""	0x0	"""Someone turned on the lights on the spectrograph room at "" SDT0.Day ""/"" SDT0.Month ""/"" SDT0.Year "" "" SDT0.Hour "":"" SDT0.Minute "" Local time."""	0x0	C1	C2

// Rung $Main#51
// Offset 711
#BEGIN FMT_COMMENT 
"Send an email when the lights of the spectrograph room are "
"turned off manually "
#END

STRN	MC237
ANDND	X26
AND	C0
ANDPDPF
ANDN	MC901
EMAIL	@LCO_smtp	"""lvm-critical@sdss.org"""	""""""	""""""	"""Someone left the Spectrograph room"""	0x0	"""Someone turned off the lights on the spectrograph room at "" SDT0.Day ""/"" SDT0.Month ""/"" SDT0.Year "" "" SDT0.Hour "":"" SDT0.Minute "" Local time."""	0x0	C1	C2

// Rung $Main#52
// Offset 782
STRN	T10.Done
TMR	T10	500

// End of Code Block $Main
$PGMEND	$Main

// Beginning of Code Block Drive
$PRGRM	Drive

// Rung Drive#1
// Offset 0
SG	Drive.S0

// Rung Drive#2
// Offset 2
STRNE	MHR510	MHR410
MWX	@IntSerModbusClient	0	0	1	6	2331	1	MHR510	0x0	0	0x0	C108	C208	DST511

// Rung Drive#3
// Offset 17
#BEGIN FMT_COMMENT 
"Select the direction of the motor.<br>"
"Off =%3E Forward direction (Close roll-off)<br>"
"On =%3E Reverse direction (Open roll-off)"
#END

STRNE	MC102	MHR1024:4
DUPBOOL
AND	MC102
MWX	@IntSerModbusClient	0	0	1	6	2333	1	1	0x0	0	0x0	C109	C209	DST511
POPBOOL
ANDN	MC102
MWX	@IntSerModbusClient	0	0	1	6	2333	1	0	0x0	0	0x0	C109	C209	DST511

// Rung Drive#4
// Offset 47
#BEGIN FMT_COMMENT 
"To move the roll off, the system has to be in:<br>"
"Remote mode (local enable off)<br>"
"E-stop not triggered (Estop_status off)<br>"
"Motor direction commanded has to agree with GS3 direction "
"(Motor_dir ==  Status_2:4)"
#END

STR	MC100
ANDN	MC3
ANDN	X40
ANDE	MC102	MHR1024:4
JMP	Drive.S1

// Rung Drive#5
// Offset 55
#BEGIN FMT_COMMENT 
"Local enable is normally open, as system will jump to "
"Local enabled stage if Local_enable is on (Local mode)"
#END

STR	MC3
JMP	Drive.S3

// Rung Drive#6
// Offset 57
SG	Drive.S1

// Rung Drive#7
// Offset 59
STR	MC100
MWX	@IntSerModbusClient	0	0	1	6	2332	1	V2332	0x0	0	0x1	Drive.S2	C211	V1006
TMR	T2	2000

// Rung Drive#8
// Offset 73
STR	T2.Done
AND	X40
JMP	Drive.S0
RST	MC100

// Rung Drive#9
// Offset 77
SG	Drive.S2

// Rung Drive#10
// Offset 79
STR	ST1
TMR	T1	D2

// Rung Drive#11
// Offset 82
STR	ST1
TMR	T0	D1
COPY	0x1	"4 0x0 T0.Acc R0 1"

// Rung Drive#12
// Offset 91
#BEGIN FMT_COMMENT 
"Set the parameters to stop the drive:<br>"
"- In case of current above 10 A (100)<br>"
"- In case of user command (MC 100)<br>"
"- Dome timeout (set to 2 min 25 sec)<br>"
"Disabled a lower value for overcurrent & timeout of 5 "
"sec.<br> <br>If heartbeat is lost, wait to close, and jump "
"to error state<br> <br>"
"If local mode activated, stop dome and jump to error state."
#END

STRGE	MHR415	120
AND	MC102
STR	X36
OR	X32
ANDSTR
STR	X38
OR	X34
ANDSTR
STRN	MC102
STRN	X36
ORN	X32
ANDSTR
STRN	X38
ORN	X34
ANDSTR
ORSTR
STR	ST2
ANDGE	MHR415	140
AND	T1.Done
ORSTR
ORNE	MHR411	0
ORN	MC100
OR	T0.Done
ANDN	MC3
DUPBOOL
ANDN	MC602
ANDN	T0.Done
MWX	@IntSerModbusClient	0	0	1	6	2332	1	0	0x0	0	0x1	Drive.S0	C212	V1006
RST	MC100
POPBOOL
STR	MC602
OR	T0.Done
ANDSTR
MWX	@IntSerModbusClient	0	0	1	6	2332	1	0	0x0	0	0x1	Drive.S3	C213	V1006
RST	MC100
SET	MC103

// Rung Drive#13
// Offset 156
STR	MC3
MWX	@IntSerModbusClient	0	0	1	6	2332	1	0	0x0	0	0x1	Drive.S3	C214	V1006

// Rung Drive#14
// Offset 168
SG	Drive.S3

// Rung Drive#15
// Offset 170
STRN	MC3
ANDN	MC602
ANDN	MC104
JMP	Drive.S0
RST	MC100
RST	MC103
RST	MC104

// End of Code Block Drive
$PGMEND	Drive

// Beginning of Code Block Heartbeat
$PRGRM	Heartbeat

// Rung Heartbeat#1
// Offset 0
SG	Heartbeat.S0

// Rung Heartbeat#2
// Offset 2
STR	ST1
TMR	T3	60000

// Rung Heartbeat#3
// Offset 5
STR	MC600
RST	MC600
SET	MC601
RST	MC602
SETNUMR	D10	D10	0
JMP	Heartbeat.S1

// Rung Heartbeat#4
// Offset 13
STR	T3.Done
ANDN	MC600
RSTT	T3
INC	D10

// Rung Heartbeat#5
// Offset 17
STRGE	D10	3
ANDN	MC900
JMP	Heartbeat.S3
SETNUMR	D10	D10	0

// Rung Heartbeat#6
// Offset 26
SG	Heartbeat.S1

// Rung Heartbeat#7
// Offset 28
STR	ST1
TMR	T4	3000

// Rung Heartbeat#8
// Offset 31
STR	T4.DN
RST	MC601
JMP	Heartbeat.S0

// Rung Heartbeat#9
// Offset 34
SG	Heartbeat.S3

// Rung Heartbeat#10
// Offset 36
STRN	Drive.S0
RST	MC100

// Rung Heartbeat#11
// Offset 38
STRN	MHR1024:0
ANDN	MHR1024:1
AND	MC102
AND	Drive.S0
RST	MC102

// Rung Heartbeat#12
// Offset 43
STRN	MHR1024:0
ANDN	MHR1024:1
ANDN	MHR1024:3
ANDN	MHR1024:4
AND	Drive.S0
SET	MC100
RST	MC602
JMP	Heartbeat.S4

// Rung Heartbeat#13
// Offset 51
SG	Heartbeat.S4

// Rung Heartbeat#14
// Offset 53
STRN	MC602
SET	MC602
RSTT	T5

// Rung Heartbeat#15
// Offset 56
STR	MC602
DUPBOOL
AND	T6.Zero
ANDN	MC901
EMAIL	@LCO_smtp	"""lvm-critical@sdss.org"""	""""""	""""""	"""Critical:PLC connection lost"""	0x1	"""PLC has lost communication with the server for "" D3 "" seconds"""	0x0	C1	C2
POPBOOL
DUPBOOL
ANDN	T6.Done
TMR	T6	300000
POPBOOL
AND	ST1
TMRAG	T5	0
MATH	D3	"(T5.Acc / 1000) + 180"

// Rung Heartbeat#16
// Offset 123
STR	T6.Done
RSTT	T6

// Rung Heartbeat#17
// Offset 125
STR	MC600
SET	MC601
RST	MC600
RST	MC602
RSTT	T5
JMP	Heartbeat.S1
ANDN	MC901
EMAIL	@LCO_smtp	"""lvm-critical@sdss.org"""	""""""	""""""	"""Critical: PLC conection restored"""	0x1	"""PLC to server communication restored after "" D3 "" seconds"""	0x1	Heartbeat.S1	C2

// End of Code Block Heartbeat
$PGMEND	Heartbeat

// Beginning of Code Block Rain
$PRGRM	Rain

// Rung Rain#1
// Offset 0
#BEGIN FMT_COMMENT 
"The rain sensor was connected using a negated logic (off = "
"1 & on = 0). Therefore, there are two cases were the input "
"will be activated<br> <br> 1. There is rain.<br>"
" 2. There is an issue with the system.<br> <br>"
"The output logic is negated, to show a logic 1 if there is "
"rain."
#END

SG	Rain.S0

// Rung Rain#2
// Offset 2
STRN	X47
JMP	Rain.S1
SET	MC700

// Rung Rain#3
// Offset 5
#BEGIN FMT_COMMENT 
"Rain bit will be on, for 15 min after rain sensor is "
"cleared.<br> <br>Once time has past, it goes back to idle"
#END

SG	Rain.S1

// Rung Rain#4
// Offset 7
STR	X47
TMRDOWN	T7	900000

// Rung Rain#5
// Offset 11
STR	ST1
TMR	T8	3600000

// Rung Rain#6
// Offset 15
STR	T7.Done
SET	C13

// Rung Rain#7
// Offset 17
STR	X47
AND	T7.Done
JMP	Rain.S0
RST	MC700

// End of Code Block Rain
$PGMEND	Rain

// Beginning of Code Block Drive_new
$PRGRM	Drive_new

// Rung Drive_new#1
// Offset 0
SG	Drive_new.S0

// Rung Drive_new#2
// Offset 2
STR	ST1
RST	MC112

// Rung Drive_new#3
// Offset 4
#BEGIN FMT_COMMENT 
"Select the direction of the motor.<br>"
"Off =%3E Forward direction (Close roll-off)<br>"
"On =%3E Reverse direction (Open roll-off)"
#END

STRNE	MC102	MHR1024:4
DUPBOOL
AND	MC102
MWX	@IntSerModbusClient	0	0	1	6	2333	1	1	0x0	0	0x0	C109	C209	DST511
POPBOOL
ANDN	MC102
MWX	@IntSerModbusClient	0	0	1	6	2333	1	0	0x0	0	0x0	C109	C209	DST511

// Rung Drive_new#4
// Offset 34
#BEGIN FMT_COMMENT 
"If it starts raining, system will automatically set drive "
"direction to close."
#END

STR	MC700
ANDN	MC109
MWX	@IntSerModbusClient	0	0	1	6	2333	1	0	0x0	0	0x0	C109	C209	DST511

// Rung Drive_new#5
// Offset 47
#BEGIN FMT_COMMENT 
"Jump to remove brakes. As brakes aren't connected, it will "
"jump to start movement"
#END

STRN	MC111
ANDN	MC700
AND	MC100
ANDE	MC102	MHR1024:4
ANDN	MHR1024:1
ANDN	MHR1024:0
STRE	MHR1024:4	0
AND	MC700
ANDN	MHR1024:1
ANDN	MHR1024:0
ORSTR
JMP	Drive_new.S2
AND	ST2
JMP	Drive_new.S1

// Rung Drive_new#6
// Offset 67
STR	MC700
AND	MC109
OR	X40
OR	MC3
JMP	Drive_new.S10
SET	MC111

// Rung Drive_new#7
// Offset 73
SG	Drive_new.S1

// Rung Drive_new#8
// Offset 75
STR	ST1
SET	Y9
SET	Y10
TMRDOWN	T9	10000

// Rung Drive_new#9
// Offset 80
STR	T9.Done
JMP	Drive_new.S2

// Rung Drive_new#10
// Offset 82
SG	Drive_new.S2

// Rung Drive_new#11
// Offset 84
STRNE	V100	MHR410
MWX	@IntSerModbusClient	0	0	1	6	2331	1	V100	0x0	0	0x0	C108	C208	DST511

// Rung Drive_new#12
// Offset 99
STR	ST1
ANDE	V100	MHR410
MWX	@IntSerModbusClient	0	0	1	6	2332	1	1	0x0	0	0x1	Drive_new.S2	C211	V1006

// Rung Drive_new#13
// Offset 115
STR	MHR1024:1
AND	MHR1024:0
DUPBOOL
AND	MHR1024:4
AND	MHR1024:3
JMP	Drive_new.S3
POPBOOL
ANDN	MHR1024:4
ANDN	MHR1024:3
JMP	Drive_new.S5

// Rung Drive_new#14
// Offset 125
SG	Drive_new.S3

// Rung Drive_new#15
// Offset 127
STR	ST1
TMRDOWN	T0	D20
COPY	0x1	"4 0x0 T0.Acc R0 1"

// Rung Drive_new#16
// Offset 136
STR	X38
OR	X34
ORGE	$Dome_encoder.iReg1	D100
MWX	@IntSerModbusClient	0	0	1	6	2331	1	V101	0x0	0	0x1	Drive_new.S4	C208	DST511

// Rung Drive_new#17
// Offset 153
STR	T0.Done
ORNE	MHR411	0
ORN	MC100
OR	MC700
JMP	Drive_new.S7

// Rung Drive_new#18
// Offset 161
SG	Drive_new.S4

// Rung Drive_new#19
// Offset 163
STR	ST1
TMRDOWN	T0	D21
TMRDOWN	T11	D22
COPY	0x1	"4 0x0 T0.Acc R0 1"

// Rung Drive_new#20
// Offset 174
STR	MC700
OR	T0.Done
ORNE	MHR411	0
ORN	MC100
STRGE	MHR415	120
ANDGE	$Dome_encoder.iReg1	D101
ORSTR
STRGE	MHR415	120
AND	T11.Done
ORSTR
STRGE	$Dome_encoder.iReg1	D101
AND	T11.Done
ORSTR
JMP	Drive_new.S7

// Rung Drive_new#21
// Offset 203
SG	Drive_new.S5

// Rung Drive_new#22
// Offset 205
STR	ST1
TMRDOWN	T0	D23
TMRDOWN	T11	D22
COPY	0x1	"4 0x0 T0.Acc R0 1"

// Rung Drive_new#23
// Offset 216
STR	T0.Done
ORNE	MHR411	0
ORN	MC100
JMP	Drive_new.S7

// Rung Drive_new#24
// Offset 223
STR	T11.Done
ORLE	$Dome_encoder.iReg1	D102
MWX	@IntSerModbusClient	0	0	1	6	2331	1	V101	0x0	0	0x1	Drive_new.S6	C208	DST511

// Rung Drive_new#25
// Offset 239
SG	Drive_new.S6

// Rung Drive_new#26
// Offset 241
STR	ST1
TMRDOWN	T0	D25
COPY	0x1	"4 0x0 T0.Acc R0 1"

// Rung Drive_new#27
// Offset 250
STR	T0.Done
ORNE	MHR411	0
ORN	MC100
STRGE	MHR415	120
ANDLE	$Dome_encoder.iReg1	0
ORSTR
STRGE	MHR415	120
STRN	X36
ORN	X32
ANDSTR
ORSTR
STRLE	$Dome_encoder.iReg1	0
STRN	X36
ORN	X32
ANDSTR
ORSTR
JMP	Drive_new.S7

// Rung Drive_new#28
// Offset 282
SG	Drive_new.S7

// Rung Drive_new#29
// Offset 284
STR	ST1
MWX	@IntSerModbusClient	0	0	1	6	2332	1	0	0x0	0	0x0	C111	C211	V1006

// Rung Drive_new#30
// Offset 296
STRN	MHR1024:1
ANDN	MHR1024:0
DUPBOOL
AND	ST2
JMP	Drive_new.S8
POPBOOL
ANDE	R0	0
JMP	Drive_new.S9
SET	MC112
STRNE	MHR411	0
OR	X40
ANDSTR
ANDNE	R0	0
ANDE	MHR411	0
ANDN	X40
JMP	Drive_new.S0

// Rung Drive_new#31
// Offset 324
SG	Drive_new.S8

// Rung Drive_new#32
// Offset 326
STR	ST1
RST	Y9
RST	Y10
TMRDOWN	T9	10000

// Rung Drive_new#33
// Offset 331
STR	T9.Done
DUPBOOL
STRE	R0	0
ORNE	MHR411	0
ANDSTR
JMP	Drive_new.S9
POPBOOL
ANDNE	R0	0
ANDE	MHR411	0
JMP	Drive_new.S1

// Rung Drive_new#34
// Offset 353
SG	Drive_new.S9

// Rung Drive_new#35
// Offset 355
STRE	MHR411	0
AND	MC113
JMP	Drive_new.S0
RST	MC112

// Rung Drive_new#36
// Offset 362
SG	Drive_new.S10

// Rung Drive_new#37
// Offset 364
STRN	MC700
ANDN	X40
ANDN	MC3
JMP	Drive_new.S0
RST	MC111

// End of Code Block Drive_new
$PGMEND	Drive_new

#BEGIN ELEMENT_DOC
"X16","Door_locked_in","",""
"X18","Door_closed_in","",""
"X24","Ctl_lights_in","","Control room lights current sensor input"
"X25","Utl_room_in","","Utilities room lights current sensor input"
"X26","Spec_lights_in","","Spectrograph room lights current sensor input"
"X27","Mze_lights_in","","Mezzanine lights current sensor input"
"X28","Plat_Wlights_in","","Platform white light current sensor input"
"X29","Plat_Rlights_in","","Platform red light current sensor input"
"X32","LS_NW_in","",""
"X34","LS_SW_in","",""
"X36","LS_NE_in","",""
"X38","LS_SE_in","",""
"X40","Estop_status","","Shows if E-stop is active"
"X47","rain_sen_in","",""
"Y0","Ctl_lights_out","","Control room lights relay out"
"Y1","Utl_lights_out","","Utilities room lights relay out"
"Y2","Spec_lights_out","","Spectrograph room lights relay out"
"Y3","Mze_lights_out","","Mezzanine room lights relay out"
"Y4","Plat_Wlight_out","","Roll-off White light relay out"
"Y5","Plat_Rlight_out","","Roll-off Red light relay out"
"Y8","HVAC_flag","","Flag to stop telescope platform fans"
"Y9","Brake_start","",""
"Y10","brake_mantain","",""
"Y13","PLC_Estop_releas","","PLC reset e-stop output"
"Y14","PLC_Estop","","PLC e-stop output"
"C7","SMTP_log","","Sends information to dmlogger when smpt message is sent"
"C13","rain_time_done","",""
"C100","","","Success read"
"C101","","","Success read"
"C102","","","Success read"
"C103","","","Success read"
"C104","","","Success read"
"C105","","","Success read"
"C106","","","Success read"
"C107","","","Success read"
"C108","","","Success read"
"C109","","","Success read"
"C110","","","Success read"
"C200","","","Error read"
"C201","","","Error read"
"C202","","","Error read"
"C203","","","Error read"
"C204","","","Error read"
"C205","","","Error read"
"C206","","","Error read"
"C207","","","Error read"
"C208","","","Error read"
"C209","","","Error read"
"C210","","","Error read"
"C211","","","Error read"
"C212","","","Error read"
"C213","","","Error read"
"C214","","","Error read"
"V100","Drive_speed_a","",""
"V101","Drive_speed_b","",""
"D0","Overcurrent_lim","",""
"D1","Dome_move_tout","",""
"D2","curr_delay_val","",""
"D3","HB_err_seconds","",""
"D4","UTC","",""
"D20","Tout_open","",""
"D21","Tout_open_aprch","",""
"D22","Topen_apr","",""
"D100","Open_count_lim_1","",""
"T0","Dome_tout","",""
"T1","Curr_delay","",""
"T7","Rain_time","",""
"T8","Rain_elapsd_time","",""
"T10","timer_500ms","",""
"T11","T_countdown","",""
"SS2","filename","",""
"SL0","DMLOG_new_read","","Modbus variables new reading for dmlogger output"
"SL1","DMLOG_MOD_OUT","","Modbus variables sent to DMLOGGER"
"SL2","Log_Filename","","DMlogger log filename"
"SL3","DMLOG_saved_read","","Modbus variables to be checked against at next cycle"
"SL4","SMTP_Error","",""
"UDT0","date","",""
"MC1","Door_locked","",""
"MC2","Door_closed","",""
"MC3","Local_enable","",""
"MC100","Dome_enable","","LVM software motor enable"
"MC102","Motor_dir","","LVM software motor direction"
"MC103","Dome_Tout_stat","","Roll-off timout status"
"MC104","Dome_Tout_rst","","Reset Roll-off timeout bit"
"MC105","NE_lim_mod","","North-east LS modbus output"
"MC106","SE_lim_mod","","South-east LS modbus output"
"MC107","NW_lim_mod","","North-west LS modbus output"
"MC108","SW_lim_mod","","South-west LS modbus output"
"MC109","Dome_closed","","Dome status closed"
"MC110","Dome_open","","Dome status open"
"MC111","Rolloff_lout","",""
"MC112","Rolloff_error","",""
"MC113","Drive_error_rst","",""
"MC200","Estop_stat_mbus","","E-stop status, read on the secondary electrical panel"
"MC201","Remote_estop","","Remote E-stop"
"MC202","Remote_estop_rel","","Remote E-stop release"
"MC235","CTL_room_tog","","Modbus control room lights toggle"
"MC236","UTL_room_tog","","Modbus utilities room lights toggle"
"MC237","Spec_room_tog","","Modbus Spectrograph room lights toggle"
"MC238","Mze_room_tog","","Modbus mezzanine room lights toggle"
"MC239","Plat_wlight_tog","","Modbus roll-off white light toggle"
"MC240","Plat_rlight_tog","","Modbus roll-off red light toggle"
"MC335","CTL_room_stat","","Modbus utilities room lights status"
"MC336","UTL_room_stat","","Modbus utilities room lights status"
"MC337","Spec_room_stat","","Modbus spectrograph room lights status"
"MC338","Mze_room_stat","","Modbus mezzanine room lights status"
"MC339","Plat_wlight_stat","","Modbus roll-off white light status"
"MC340","Plat_rlight_stat","","Modbus roll-off red light status"
"MC600","HB_input","",""
"MC601","HB_ACK","",""
"MC602","HB_err_out","",""
"MC700","Rain_mod","",""
"MC900","Eng_hw_mode","","Disables hardware safety features"
"MC901","Eng_sw_mode","","Disables software safety features"
"MHR150","Dome_enc_count","","Roll off encoder counts"
"MHR151","Dome_enc_scale","","Roll off position scaled to mm"
"MHR152","Dome_speed","","Roll off speed scaled to mm"
"MHR411","Status_1","",""
"MHR415","Im","","Motor current"
"MHR600","O2_pct_utl_room","",""
"MHR601","O2_pct_spec_room","",""
"MHR602","ODH_EC_utl_room","",""
"MHR603","ODH_EC_spec_room","",""
"MHR604","ODH_SB_utl_room","",""
"MHR605","ODH_SB_spec_room","",""
"MHR700","Rain_el_time","",""
"MHR701","No_rain_cdown","","Countdown from 15 min with no rain"
"MHR1024","Status_2","","GS3 drive status 2"
"MHR1024:0","Status_2:0","","GS3 drive movement transitioning state"
"MHR1024:1","Status_2:1","","GS3 drive movement status"
"MHR1024:3","Status_2:3","","GS3 drive directiontransitioning state"
"MHR1024:4","Status_2:4","","GS3 drive direction"
"Drive.S0","Idle","",""
"Drive.S1","Motor_start","",""
"Drive.S2","Motor_moving","",""
"Drive.S3","Drive_disable","","Drive is disabled due to local mode or heartbeat"
"Rain.S0","Rain_idle","",""
"Rain.S1","Rain_timer","",""
"Heartbeat.S0","HB_idle","",""
"Heartbeat.S1","HB_ok_wait","",""
"Heartbeat.S3","HB_error","",""
"Heartbeat.S4","HB_wait_error","",""
"Drive_new.S0","Drive_idle","",""
"Drive_new.S1","Rem_brakes","",""
"Drive_new.S2","Start_movement","",""
"Drive_new.S3","Open_roof","",""
"Drive_new.S4","Open_aproach","",""
"Drive_new.S5","Close_roof","",""
"Drive_new.S6","Close_roof_apr","",""
"Drive_new.S7","Stop_movement","",""
"Drive_new.S8","Set_brakes","",""
"Drive_new.S9","Error","",""
"Drive_new.S10","Lockout","",""
#END

