// Options: Export entire program; Code Block delimiter instructions;
// Formatted Rung Comments; Element Documentation Database; System Configuration;
// Memory Configuration/Devices with Built-In Types and User Add-Ons;
// use Element names (no NickNames); rung/address annotations;
// <TAB> parameter delimiter; 
// Write/overwrite file \\nas02.lco.cl\USERS_HOMES\Felipe Besser\3 SDSS-V\LVM\9 LVM_Enclosure_PLC\PLC code\LVM enclosure_EXPORT_DMD.txt

PLC H2-DM1E

// Do not modify SYS_CONFIG block!
#BEGIN SYS_CONFIG
e27860c1b1887a60b6fa1ff9e00acfe31d924ffe6cf9097ab78c5e69c9f457c3bbdd81f4734a6e12
9412bade47d011dc1489f5db24d5190d213f00cb3ed27a384265a864268fd6bf6a1845ab6d6cea94
023301c730b9d8e6ae031a4dee758e9654304e45cd5ced2c360d852f265e5a294d1fa220b4484f6a
1518f4b4b181eae3c7ae9b46bec6980c8fe886ad0da9553d670e7d6225e033fb497b317200368f46
77b413999a265b72829284eda897be9c173999dc1126b7722f524a6e78dd9768f01ffba1b80c2b44
1444ffb6ffed71fce267e4eceaafbd644bfadf51b6491169db2c7538331f69283e38b380c350018d
9966a1a66a95f5232848fdf899c5f90099a75f8d7c862c07a7fa91c9d38b7464d45b9a4ac40cf182
0093021b1e276182d54d25e29a33bc57e5bb9b046f513c25dabc22ead244c3e642e5bc0ae6274811
3f7d8a6e8be8180bf76aab332d0acfefe246923218f1d681083545711c13608cd1f8bc095c4d7bf7
c0bbd4a2e51f62a71a5a442de4fba576ced2b717fc269ed1a4dac5d82331b04bbd3eb8354767ed0a
5d8748a2af5934c819b91180ab49bd45b9c4a8585df0f6c0c1cbdcc2ecc7f3f0b9387b32fea2be7e
3b041a989922beffd97a9223638f7cd14a0ce745d27464350bfa5902d483589ca74c59fda45235ff
29928a42ae4d3b127f2d74f9e80d11af6357d86d1d1a042165eb45b57fb0d074e33bc21d3cab07d2
efd92622a9d1dd9636ce4082694752846b1e745735690445b292c416b9985783c73da8db641d8dbe
6c2dff0ef1fe5b631a95b7078498f6ae891986b7562fd7373dcd1df1a6e32f234229fbb1e6e6aaa5
4da2320fadc034b9b735847ff87253f4d397e7e1f0370fbe031af313247079273859b588dfc8fc1c
d71101e57fb2f8e623e06d484274874581134078e4b594e5f4649aff22a53b8b5b4f56c7447cc763
df2e226be1e738af24f2241eafae2c865ab3839deaee11c9b589c84d10bf305dfbac9a92dbd7adb7
21565e8a3f0ac592a7f30daf93e0ef54a6b54f0bc55471c1e1b647ae490e18ba52a7256fd79b0eda
8a5c3c7779585e72038f146fef93b3b9be6193efe9de733c477bfbb8b866d44647dadf88317a3b64
4c0d18bcb2e440504ed7e6c33a9efe4b10b93d4d24323777c1f4bd168fd48dfad035f9d2db68ef20
767fb6ccd9c755e3e06acc64d5333650587673bddf774c736dff3d6eb0114867c698d921304e5005
4bf13104ef4472eece30d125c2ec6b71bd83d164f9d7a65e1c9cdb46c40a4a6221b1d0b84b832310
b893fa74b91138767393d8f65eda2e9252ded3655b0c868b680c772179375a843c360e8941851ad1
d7e8062f381bc9211a33778d680bc24499b143902891e318d4fc746e3a64771a9fd5d60a1e91efa5
3aba7618c25b0121ee7cf7f30ffef6f1acff68ea7f6c00b1b9a936d64bc3e21cf709abc632fd56da
b27aa5aadb10d17dc7e6984755f4c3ae1bb520058f51e9505f197039bbea8ce157e45a6d51ce7288
dd0f557dfd937bdd45e8bb44d8e23622a29770592154440011f9b27cf4e95f433ac5b4dad194b361
f28b2aba76e7383d7221060b9aee5ed515ecab621b721b0f8dfec71d0f5f04ff9a880013a085abfc
6acd8d5a6710722f64d3c14668e3714deccc200c88042d990112ccd4dc66cb30c08335c54c6d4031
730d177d13fc59cbd626ad951d7e8d8377cc61eb368b03f591070d71b8c6dc5809f5ddb46cbad55b
104746154b29af49c5865d98bed791b76feaf1ab20a790cc28e8b77c94833c955949831994f47715
bf5e1cc8befbb70ebd1813d071d814044643440ab88742ca1b3b66911a7c152e492b7cd7d63bd18c
23fdb8d755f634fe651b0b06b26cdd8765f8f0f53d32205db7957d629c49ad3029accc6aa27a0d23
1e6e2b86f89f61d231be662bbe47fe212d326e9edbc22f2c1e482d50ba940a9a5b49d7e6e7b47084
b626f837dfa426a8915db3f55dd4e892969b08ecb1aacd0b52f95056ad79a9a650f45d751a6d7886
ee0924792aea7fac8dfd0292b55bde8ea8149abbfb820e9f2ac56b8d81119177478e13a352612164
810deec0b48f76d2eda8f39bb11b58201e50de24d2ebe3efdf9e263771ef885743f015e9d203580b
70470db7cf1e7bff1b2a2c862c938b62aa65a5a6d44667af423acb1a77aac92aa3ca238df7bb74bb
43f483157f8097df4dead8cfbc929769e6499a4457ed2a34921df754fc9380c19a731c7aecc1bd95
aa0085a3426ad396ffd3ccc0a4bdddccda8761afc6c0f9584340571117a9bb5f72540dc100e339f1
f828c8621e921faecd17faff1301585f300b000f9f435fcd08f83d61488d19a950ae79ac0cccd2eb
8289a3af46eabaf7ec205a8b0f0e1460f220d81df1fab33a58d498e45cdde56c321c0d617ee4c7ed
5f8961f81896005f22ec267a85fb2674e73c31a9a8f038f1b8bc758924ed876ebb0bac7e9bd0355e
92a1b672cc6a3c56ba755198823365fc09fbd749fbc654d867810fe58e91ebe7f72ff36c1d7dbd00
7d9b0f01c9a80430853d42c8e1d9a1aa595207d05a8c26d35dcced8c36ffc8747957175dc582ff23
e980d964755c79bbbbd2026966457c678ae8fa5662df16a9c802167b6b3c23fc909d97c510a77e69
56be68e7f1fc415517242318636d7baf6e1a05025fe0d72e418892bc536712cd1b965043b4ccdefa
637e56674c5a28f566dd45021dc802dcced1211d37c0680a92fac230a7c226d9759cada5cbacff41
9be24878388005245f0d000aa578dc0e87636e754dab7c78edb5b06a915e5605d13114e04c7f5398
b250bc130df2b9e239b7b206bd158d95c2f250ad884d94d088b7fa875132e9f9c4dacb6a3a18c7cc
2f905e2324846c8db3cf074004a39f7ee58b6658da78d614d91f89f2e24ac8b952b58725d9de5387
e2c3f5e6f72566c7960cb249cfed5cf1b0fe3997abd8587e744f4e91a322d35f167076e48a28787b
285b92432835e1b695e9a02c4b8abb21a9f3ffda6f6a5fcb52f77c983a0b50e43c6cdea00e73aca6
688359ec50a6b5afe73bf5cb3b3ada924197a3eb056ce0ede83916b32252a9a0f287264bb70ddd00
87b53d994ea1d1a1c46a7c9e57dc43fddd65fc2114854f0040c52ca426f274f20356cb92104c70a1
e799703b91d687debf03547dbd2729f085c7eb5822da0bb9d9ab93821fb9e6c308b4d2f2da13af7f
3fa77e4ee522ebe0d94a17a79d639faa9827b022d224a14d4721c9e668c4718453983515ec11cb22
8d20db7092ec056bd09209fef2f1113e1c64f1ed8be3e8be5ce9f09448e79a5a26546c7da8751329
4d76fdc54d4503a943da6b57afb987cd5f1495fc36478601f23fa4fca701c9c1f258cdcbd4593bde
d6f7ee1517016775f968dd72d0ccc605529c4ea31e1e159ae630c06c2ffb3334d6ec44aea4c22a66
1a68600ebeb1c832cdb79c14cea49903c68d4de22f3c722aa2bf82601cfd41395537ef548cdb062b
f0c2ae6bf46f2da8e00a36d80f1ca66a1cb977ee9fb1eaa29629051093ffd61beb3fea566bb55e23
267f6ab4c63af86de57f29160591cd2ed542259d7307060d0a714fcb410fed8882eb29e2283feb41
50949322ffac1b4cd3cac2172d4bd8f3eb4fd3e373d32b1698dc0be59b9eee1c7d21f5b5f56229a0
e185e0ee88f8277163c4ddafa708855fa36c053a8777679dabc54e705e131e6477734b82b4b886e5
5f1685e188fbca6a92c2f4ae4139e4c9fc6eb3ed481c8fcac7489e4cdcc7eab6693f2da6bf2cd157
10aa86a7bcea0c2c5f9d5f74ff24ce757ffc8683f30302f11b1e8700e5ce26b10808065209f1ce73
c3d3093f51da240a8bca2dd9db229e9693aaada417a5f6dd692adc0a79d295c7d17b3044fa372468
f07d605d7f06d3825cfeef2d46dc6c63f8d3220e91a0d27779e722d8792574be2a9df4cb76d6c62c
1a74ff210f626f1506d26be4622cce6b7a2798002d837dd7136edd41e8cb5b49ca1635833c1669b1
98b15c76e7df84794b40fa26c364d829881e1e27e96c89b159ceb7a49ec1eb944cf33af58e30fd0e
4446de9f788c90c9a49cec4bb7bbc8f09d99fd1dc707c3c475d4c65269335ac8efa8f6cffbe0b8c3
4af32dd9539259cad03cc0a6d4e324e315a124c4e5d065c852a96ef15112d9a7d7b1626e89bb5429
35fe931b278d129c14020c516509c1b651cd40cc8c8fac355f4cb5ed750a841a0a576ea77d74baae
d4bec8e960bc15cefca8b8ad725c8100c0ec7d6dff7abdbd46cbe9fb6713790ef53a16b57fae5c8d
eb8a33a51a63d0a9eca58e97149289e442624495c0d3a465e47cc335abc092057f7b7301468787ba
74f59060d1dc7345f300c85b78a005ad3bc27e416f82726b98abf5bd2faa6bc45315079089d6e7b3
40044c746ea7e76b1ecbb22a956329a31ba7964032c604450d304f0392c0025b3307e8c495bfa297
75129b5d20da5b3efb2b207fc0c3fa2ab671b277bd562be6b533850ebaa3bda7319f48b3aae3e6c1
61272f0f7d300eacdc254793d5b93288b4c5f291744deceeb2075995f5b6fd9234ee6f8f733b0491
20228248e851597dce2be84e2956473c20c6a3da903287205d476ebfd9af851732cfdb28e1c05f73
87bb777deac7ccb5d72c53e5c95aaf9ff963bafbb9a4f55d96e27b70cd6cd4375ad9f5b6bd3b4fd7
070809acba10e634837a3b844d12da98d10f56c7f7e27d8d71f078866f374da2567ad14f5346b7e8
cb86c0c66835320652f7cb79a4d886f77f14cb243b6aa5cf54eb567d7b4f1bbeb791ff5e365caf05
6dcba6c8c282fa897caabcad14637ecf007c25ecd46f938f07b9f724a51a017431048662f314f7c1
b8326bad38d0b50de0eac60b25449670025395b424b17eab5f4b48803ee27b4fe2f7ab3ef9b4f3a2
281d5e83b944daadd5c0b1a2dd895504a90bc1c285d45273e376b96c984c8757125311cfc9c0a20f
e85cec16857ffdbec0982f75f7c1dd965ee5f95a0696d0ed0f3c5103f114a0f1b374cb733b8de08e
d73f37222d63ea8003add82a701971517c0e5f6eacc8c9b15d35dd5fa593634883c74f6833237869
e14458069f6e78e2d3a56a7ad01f6257e3f2deef42e53d4ecd9352647c953d762f7000f281ad42af
4c5a5550b486655becbc45728274345bbe02060dcfee5cd113b0b24c1d4c2a91ed708ebd8a23e6ec
694cda21e13a19c10033cf57f1fbed0fb281be57bc1c1f0ca5c89af29afae7c6307e36ba4b1675e1
8bd26c52e55988438ae1b43ad966eb6d841e7aa9a3ab4d48c58e06b8b3cbda6d7a322dd62aa10c84
d15120a1a146fd1418c0bb87f6ad255878ef58c499bbb8e2eea7384bd4c76363bb2b75603bd3baf9
df5ae8b2310b9b0b91cac47588ef4caa9a3b9592d424c748ddc91885245402e1babbaf7ddcd28458
21c66938a8e665bacc092ef3708f539d48be766a236f021cf8c6fcc48a14aad420e6e1b78307e658
79297e4d9c5d6d25d730d25b3dee5193b616247292612e4f9ea28a0d89cabb0694a80d7284e9df51
8b1e8e08634f70b0bea0bf7191a640e505e631b52abdbb456d9e8d3817674e2fa780d912f0635416
4e2e5be7313a438088da9f00d57ca2424a1acee57aaacb823ce6c7055ff42ef7a00370d26201c36c
8464b03e9c816a9d0f95929dc66fe3381203c42fe74c54a58bfe25cd09a5d84f7f9dbe723bebf7be
d07b0cc597efbba2cc6420debc89e4015a0c39d03c33c1d395d6ca898b5c8c2d48e85f81e770d4be
9ea3877a6001947d252d908abf29fe7ec01bf13db6751e9fb3183a294ae3b9f495c74836c47c03db
ed73939b5036adccd1b0ace6f8edd593529ade88d48eacc50583146c384dc03d9fb3f11d05d35cb7
6ddebd4b8c5c3f15623392b30a87efcb0fd3f6c504e6bf9dba1f7bff7fe20a09a690ccddcb940cef
c4b7f9dbcab8b7ef2282f8506a3b24a8044f0740067957da314fad1fcb957c8861027a5ba4f64de7
ff08637579cb453e57efb0b4e4931424c33d24294342b108c8820faca873673c9fcaadf246cf5d74
baf3c71a741c749f1508134fa412c64a37b2fd37637400437a42d0650291e6de943e000c16925557
5bd238acf11c6e1f4a101aa0b945ad31d34437d6c53e88ff8310048642353c1286a48efd327b6410
6f3f20dd2c3b42d417498950c0a812703e458eddc09c44eace2714de86b2d8bee2c309bd4952296c
82acb103cb1b0282e5c75077a65d317d69d831d3fd9028e3db030e2be4dcc43aa5c4a6bdf1e45b56
a20cec221a9cd723dce8d305d7edcca4e23beeb8b61af3fd39c5d1e4a0343253283d336494a483d4
7ae692efe86bc5a87a19d1662db28499a328b86deb19745d52ce08293c8ce546657b76197b792419
149ed4c14cfa420df491bc6b5ebbc79488f5899c92a5f501409a7561bae4fe9f0d14dc908f250ec0
cf7220e77ac0ea366142b94ab37b2c945dfdd6a7001e132017dbacb90738152e6526930ab805cc48
50801c8d6d594ac393a6da06a6d1c458bb932ce36da343c150da944aa45812d659b8a9d55bfbdf12
cce1eb254d88a097f20d8d078ea651fa331aac534fac7b1eb609dcbbc4da1b992772c1d47a214434
dbc425bc965ee57e32e4de9b34f2fc544105099564bb6da09f775b2e582298c0b15343a23bfebf2f
b179ad2232312a277d6bafad2a9c5cdbe98c483758a62449731b2e62f5ce03123dbe0eaebdc3d1f4
1b69e7d7513d5ddce4cdf2df7cdeb8843972d9243f09af2bba8f89db45a894688b92b951ea6e24f2
bcb6c53271c039f6a4fcbce0a993f661517f82cca10391ab2f755546b8ac998d40cff3f087b78f77
44250980ce97ead8f0ff59a3278f8e06f0615d3b30cb3fc35cf3fab753714b385923c6da58d61c0d
14b4b0af3ba12db418f6a348a4f1ffd8ffb10c1f019deabba93000ba7ccf87f72e869a76fbc7b7c7
c9f3c8400da8f9fcc6ec60de5dc4bf2306d38bd30d22a57a58b9d04961f600b417a48fe871aa1032
a900596437343b3558058f93a2e410b3ad2fae14b48bcf9ab493d02d682a260bedc9c8935adf0cc0
644477b594c3fc4406140064afc156df9314812b469438ba71305b5320e9d8b587f069c0234ad8e6
608a1ba2edd6b1817f5a1962b7996098c32d0180c22b9031262c35e82c7b9b52d6fe78b911c3c5df
4b4c3b2000db294644ffa949de345346ca74aaf523376b5206b838ec3c7eb2a7be0744e1f2dce61f
7895072c981a78057e9f8672f17d6f7d10cc4e637dcccf7b1652cd597969abdb587d752f080869fd
ff3ce9b05825c4bee2feb6690e440a28d04fd2158552b0e0e8e8c8eb7e5373b9a60dbdee6fc652d7
f07ff4b2dd89a14c1abcfca4cfbb58de00c2b558191e545696abf40c4feb1afe872ae9bde105c895
5d330e5a1bccc87768b538b74660b5ea85206b7b51910bd508af40df1c8df3d5d46a29c4b1e9d7a2
4361413006004b428895b40d5e83a2a7b9d4bd7c6c5664abb6ed7c1419bd85d0d4bf04b2b411189d
b92a98e996bd147cfdaff535aa7796f95b5fa012a4320c5a5fdabb9febf53edadb7d13a9368bb35a
3a8187483d277971d1f2da0477c0a8ec648ea5a248d5c76646c6a010d1e9ddf726f4a2749058bd9a
83b4176bd4767ce550ffffcfe9c83c436da3c96fe2e6c760582ab2bb3557d35c6b563e49b43c71fb
bfae2cbd16faaa769cf19d09a359ccc95f8d11eb7036254177902a4754615f1e96c5af046469fcc2
ff6cb94adf061f4e644e7a1feb0cf8deefcb3eb42c7058b05bbf31cde7ff55572460cd350aaf7851
7f881de9605cd6bd268d47afd7167aa492e729d71a0927720cf49bc81a3c8432052e2353366bb931
8118173cd13ccfbe7e8d6cd38ee2b32d492544cc90403bc0e545506011f63ecc6393e807daec5c14
c8b8945e263f477c36e69e2f01949a1ab42de14437c9f38da3806e11380a0198b7d29e63bf9d08ba
d2270501acf1d1c67b96676442516317be1f433a0c7a5dcde2bd2bfe6245bba24d5d03bcc655fa32
fda21633e22daca88c66797de8446ea08e3046d008b715e61b6f322ebd3de23e90bf57dba92bdeb0
bdadc82293a59c13507c11902446930f4bea8ff72d7a1c943ae08b03b7229918f5cd327cca61422a
57aed41070587aa5e6cb37f63a9aeb23a51d3b2a4839de7be3131cc560179046ad1beb74614add82
77709ed70fac7b69f2b33110dbdd3880928cbe6be5a8d962d0717cec5239bfd0e2eb3af779232c76
73e2417fbd838eb614c269c0e7b412884cdb605654701afadebdb571d2650aa7f4e633718b3b72e9
39a9883d1b3b6e8f995eb6b7b70352cd8b74e00c04a12f2fffd3711b66c17ba65e3a0b88515ee6f8
bf69b6216698f9e284f84a09d38f5b03e3cd92d1751d099c02dc7e669e6712bbc35f91b4b1a0aede
ea5135a74524bc624431f0b9f45e8a2a0b489a9e695a33a4c44606856b2373796597f614afdf62af
e08f30d3a2f09ce12b958adf5e83eec52352b43cf9e2f52b0ad1b76f053d23a61b2709a05321dba3
ae91cd58795db562f8dbd672ec38249dc277e2f450b11f29ba9a95f867fb2843b73d1cf4e75ed963
bf5e1fcf863d3e882fb0a41fde710676e792f721b83c8e28bb0bc32c2a83d237f7fb140caf41d973
e3882b8e77fce99472e1f3804ee1a465debdeb3e42105cc1d233953ecec92b67c66f8c69d06ab952
d4f10fc4835675177651a4ccb8d89b66e2eb07b3e5e9d51237179447389fb21cf937dcaf0520a75b
882f56b5e123ebfaa52197a6b1471224bc773498e7a34da94fcf12703a557d1e972e6f44e1c5d1a8
62152b85c489a09a62c8e561ac0d1923ce685f924eab742745cd0f3450c5b4e5c30f43dd92053f48
082e16c9839ad5fb52619134424a4187bc8a16122b739a9d7981d846eda58c1f3a54e0dd4f3f6681
ebea7440182e0e54f0eca4c6a411d3f0806c4f1ec888cf49e61c060d6c834d63b2db4179952c5a9a
01d36216cbcffb5d7fcb7ef2cf0cf8cf9cef538145cced59e9a0a194c4e4bda200bc53f82330a160
cb9aa8323501dc209b24063605bbfbab0aa5000df1e20e0c6bc5182fd45b74e181da8bfd4962a40b
e68dbfa428d0ec436fbb3a6d57fb5254975c47f93e9276395b7a65ca5801ac706669414dac2e2e5b
34c959997dbed17d3287500128da1452a9646ca4c5b95ede4d686b8c4eeefeaf45662773481dc66c
676e4dabc2fd3a01a36b3a2075eb9d09fdeff8f6ae47251913a8c89b44fb2e9af5bdd78646603898
df897ddcb941f55379466bddf6df57a380b123da2d754a11d38dbef5c320579ab52ab5a4ecf4a093
7dfd061aed474aa696ffe9b417bf7ea73b958a2a8e4bf40ae7778eec5b91e5f677e24a5e28a31e9a
f8b2b88ef8e89772b0a26abd2eb797e8806da3ca646cd6cf93e0025b3015d29049b1d2c29743e5cd
7ccf9362c8b66e2b924a150982c6862f3012427deea704622d6918397257e4c54fe944320e7b7188
9d55b5adf160d2fac6fb87e6e40e7c5c504de34283e6b7d596c0a41a257070223317a9d742322706
6b58b9af26ee0c80ad806324c5d8f107dabce5c96f14123aa0b38f314f37fbd7a0885977ba8d741b
ccdde88a27d2b2f3eb38e20cc6a07478f456c3225f4a3802154abac193023d21dbbf859d5356876c
10e2f47159d94c58d51fdf8860200a12c30c38efc4d46f00569872cfe7066dd9d2215c8a0e294bf0
26393191c4fd186691cfaf4fb0a4f4668e623dcb3ff45a619522da2fb5fc3321cd9f1a97adff50e0
dcb5c642c9a1056b4cd54128b5be13723df28e6d79d4932e6ec41cc9121b08e1d1f890982f81f6b1
2bd540442dd85780af9f570190587b3130448f18b755159bbb264f02da47bc171cbcf9de3b3fc759
ff9c3bcd499ba8a9d6b24a4de556ba03003c577d524752571dd86d717151fffb0934c0dcbd942889
bd7c5463069326b3e6d49f0731c5caad9267fa3b395392c804518a4eae6e4d93a08ac63bbeaa44c3
2f30a30bbb131403547401da729d06c44885e8b269d6b08d34214230533016f9c44115a2e5d5bbca
1da26537da38ae5d094dbbde92730cd986b2db2c5260145bdd5bbf43d5b61376adbece81b6562ad5
db0497653e59ca2742c87e4a36629faa08c63014fa99202496781e924b8642d225f24bd532eec051
9a4f506aabbd274db7ed1b254fc25928d593e90e9fe9d7301d123aed76a3766e677d19f1124c4626
1bd3452110bc913eafb3fb58d695b7c1f0c443cb3ebc5d0eb5439ebb924190b429b3660ebe312ef7
6262a1f4bf14536fec9a831c83e490ea531ee92aa6a82ff5dfbc86b77fd861a90a1a4b70054b060d
82ba7fae546b9710f81114b82d2402739e6a04a68a379106e50577635019c826839cf19e8f42b9bd
f10e6b7cb8b65874c2625fe02ebbe63862a3ca31ce223a5c001b5ed8b01a2c63d18eef4853ccf5c0
6b520c8afc2ce9ecf2cf98730ed3e15a9367bbbdf6f4dbb1b0444ac6a33d1766f9083b4bf99e362d
b1a1afde937cebc82e1efd3aca8354e0adeccc94e3751f170f94bc36784d085961a0c630d6bbf8d5
26fb41dbc1c162b3e38a3a424ae4ca60da6b3e8bdf5b274fc743bf61b4a4a01b3778a3c94e4f0a5c
002ffd44f1dfba50428a7055b4c01c19cfd679c7425cd982b52578e232b715d02047212c3b908ab1
d75ce94ef516bf872a903cdb80a33d5c3b89a3c2fa882d8d5d61c850f7b0883eaee66599524ffede
37e5b6c05d99da2f6cd4bd5eea8ee6aaee6337ddb66800fa6f80d6d2f1d9a18fbd76b09be9b7ad0e
010d27963785f475d79bc0322885f3
#END

#BEGIN DEVICE
	@LocalIOMaster, 12, 27
	@RamFS, 1, 1
	@UserLog, 7, 11
	@IntEthernet, 4, 2
	@DMLogger, 5, 10
	@IntModTCPClient, 9, 14, 1000, 2, 60
	@IntEIPClient, 22, 31, 1000, 2, 60
	@IntEthDMPPClient, 23, 32, 50, 250, 2
	@IntSerModbusClient, 8, 13
	@SERIO_004_A, 16385, 23
	@SERIO_004_B, 17409, 23
	@ODH, 18433, 25
	@LCO_smtp, 32769, 7, 2347065611, 25, 30000, LVM-PLC@lco.cl, 0, 110, , , 0, smtp-02.lco.cl
	@EthIOMaster, 13, 27
	@CTRIO_003, 16387, 6
	@Dome_encoder, 17411, 16
#END

#BEGIN MEM_CONFIG
	X	BIT	decimal	2048	-1
	Y	BIT	decimal	2048	-1
	WX	SWORD	decimal	256	-1
	WY	SWORD	decimal	256	-1
	C	BIT	decimal	2048
	V	UWORD	decimal	4096
	N	SWORD	decimal	4096
	D	SDWORD	decimal	4096
	R	REAL	decimal	4096
	T	TIMER	decimal	256
	CT	COUNTER	decimal	256
	SS	STRING	decimal	128
	SL	STRING	decimal	64
	UDT	DATETIME	decimal	32
	PL	UWORD	decimal	256
	DLX	BIT	octal	01000	-1
	DLY	BIT	octal	01000	-1
	DLC	BIT	octal	01000
	DLV	UWORD	octal	04000
	MI	BIT	decimal	1024
	MC	BIT	decimal	1024
	MIR	SWORD	decimal	2048
	MHR	SWORD	decimal	2048
	RX	REAL	decimal	256	-1
	RY	REAL	decimal	256	-1
	dmlogger	UBYTE	decimal	256
	MSG	STRING		0
	ERR	STRING		0
	SysName	STRING		0
	SysDesc	STRING		0
	SerialNum	STRING		0
	PartNum	STRING		0
	Drive	PROGRAM		0	-1
	Lights	<Virtual>		0
	Heartbeat	PROGRAM		0
	Rain	PROGRAM		0	-1
	Drive_new	PROGRAM		0	-1
#END

// Beginning of Code Block Lights
$LGCMOD	Lights

// Rung Lights#1
// Offset 0
STR	C2000
NOT
OUT	C2000

// Rung Lights#2
// Offset 3
RET

// End of Code Block Lights
$LGCEND	Lights

// Beginning of Code Block $Main
$PRGRM	$Main

// Rung $Main#1
// Offset 0
#BEGIN FMT_COMMENT 
" "
#END

STR	ST0
DUPBOOL
AND	ST1
INIT	"3 D0 ST1023 75 D1 ST1023 165000 D2 ST1023 2000 MC100 ST1023 0 MC102 ST1023 1 MHR510 ST1023 70 D10 ST1023 0 MC201 ST1023 0 MC202 ST1023 0 UDT0.Date ST1023 SDT0.Date UDT0.Time ST1023 SDT0.Time D4 ST1023 DST21 C0 ST1023 0"
POPBOOL
DUPBOOL
AND	X24
CALL	Lights	0x1	DST511	"3 Y0 C2000 1"	"3 C2000 Y0 1"
POPBOOL
DUPBOOL
AND	X25
CALL	Lights	0x1	DST511	"3 Y1 C2000 1"	"3 C2000 Y1 1"
POPBOOL
DUPBOOL
AND	X26
CALL	Lights	0x1	DST511	"3 Y2 C2000 1"	"3 C2000 Y2 1"
POPBOOL
DUPBOOL
AND	X27
CALL	Lights	0x1	DST511	"3 Y3 C2000 1"	"3 C2000 Y3 1"
POPBOOL
DUPBOOL
AND	X28
CALL	Lights	0x1	DST511	"3 Y4 C2000 1"	"3 C2000 Y4 1"
POPBOOL
AND	X29
CALL	Lights	0x1	DST511	"3 Y5 C2000 1"	"3 C2000 Y5 1"

// Rung $Main#2
// Offset 116
#BEGIN FMT_COMMENT 
"Read GS3 drive Elements using the cpu rs-232 port"
#END

STR	T10.Done
MRX	@IntSerModbusClient	0	0	1	3	8449	8	MHR411	0x0	0	0x0	C100	C200	DST511
COPY	0x1	"4 0x0 MHR415 MHR130 1"

// Rung $Main#3
// Offset 134
STR	T10.Done
MRX	@IntSerModbusClient	0	0	1	3	8450	1	MHR1024	0x0	0	0x0	C101	C201	DST511

// Rung $Main#4
// Offset 146
#BEGIN FMT_COMMENT 
"Copy the encoder counts output to MHR150<br> <br>"
"- If motor is not moving, send data every minute.<br>"
"- If motor is moving, send data every second."
#END

STRN	MHR1024:0
ANDN	MHR1024:1
COPY	0x0	"4 0x0 0 MHR152 1"
ANDPD	ST3
STR	MHR1024:0
AND	MHR1024:1
ANDPD	ST4
ORSTR
OR	$Dome_encoder.Reset
DUPBOOL
AND	$Dome_encoder.Reset
COPY	0x0	"4 0x0 0 MHR150 1 0x0 0 MHR151 1"
POPBOOL
ANDN	$Dome_encoder.Reset
MATH	MHR152	"(ABS($Dome_encoder.iReg1 - MHR150) * 9525) / 10850"
SET	C6

// Rung $Main#5
// Offset 190
STR	C6
COPY	0x0	"4 0x0 $Dome_encoder.iReg1 MHR150 1"
SCALE	$Dome_encoder.iReg1	0	10850	0	9525	MHR151
RST	C6

// Rung $Main#6
// Offset 205
STR	MC109
ANDNE	$Dome_encoder.iReg1	0
ANDGE	$Dome_encoder.iReg1	-18
ANDLE	$Dome_encoder.iReg1	18
SET	$Dome_encoder.Reset

// Rung $Main#7
// Offset 219
STR	$Dome_encoder.Reset
ANDE	$Dome_encoder.iReg1	0
RST	$Dome_encoder.Reset

// Rung $Main#8
// Offset 225
#BEGIN FMT_COMMENT 
"Read ODH variables for sensor 2 through Serio-4 every 2 seconds."
#END

STRPD	ST4
MRX	@ODH	0	0	1	3	202	5	V605	0x0	0	0x0	C102	C202	DST511
RST	C600
MOVE	V600	MHR600
MOVE	V603	MHR602
MOVE	V604	MHR604

// Rung $Main#9
// Offset 245
#BEGIN FMT_COMMENT 
"Read ODH variables for sensor 1 through Serio-4 every 2 seconds."
#END

STRND	ST4
MRX	@ODH	0	0	1	3	102	5	V600	0x0	0	0x0	C103	C203	DST511
SET	C600
MOVE	V605	MHR601
MOVE	V608	MHR603
MOVE	V609	MHR605

// Rung $Main#10
// Offset 265
STRPD	ST4
COPY	0x1	"4 0x0 T8.Acc MHR700 1 0x0 T7.Acc MHR701 1"

// Rung $Main#11
// Offset 275
STR	ST1
RUN	Drive
RUN	Heartbeat
RUN	Rain

// Rung $Main#12
// Offset 282
STRN	X16
ORN	X18
ANDN	MC900
OUT	MC3

// Rung $Main#13
// Offset 286
STR	X16
OUT	MC1

// Rung $Main#14
// Offset 288
STR	X18
OUT	MC2

// Rung $Main#15
// Offset 290
STR	MC235
CALL	Lights	0x1	DST511	"3 Y0 C2000 1"	"3 C2000 Y0 1"
RST	MC235

// Rung $Main#16
// Offset 303
STR	X24
OUT	MC335

// Rung $Main#17
// Offset 305
STR	MC236
CALL	Lights	0x1	DST511	"3 Y1 C2000 1"	"3 C2000 Y1 1"
RST	MC236

// Rung $Main#18
// Offset 318
STR	X25
OUT	MC336

// Rung $Main#19
// Offset 320
STR	MC237
CALL	Lights	0x1	DST511	"3 Y2 C2000 1"	"3 C2000 Y2 1"
COPY	0x1	"4 0x0 DST21 D4 1"
RST	C0
RST	MC237

// Rung $Main#20
// Offset 340
STR	X26
OUT	MC337

// Rung $Main#21
// Offset 342
STR	MC238
CALL	Lights	0x1	DST511	"3 Y3 C2000 1"	"3 C2000 Y3 1"
RST	MC238

// Rung $Main#22
// Offset 355
STR	X27
OUT	MC338

// Rung $Main#23
// Offset 357
STR	MC239
CALL	Lights	0x1	DST511	"3 Y4 C2000 1"	"3 C2000 Y4 1"
RST	MC239

// Rung $Main#24
// Offset 370
STR	X28
OUT	MC339

// Rung $Main#25
// Offset 372
STR	MC240
CALL	Lights	0x1	DST511	"3 Y5 C2000 1"	"3 C2000 Y5 1"
RST	MC240

// Rung $Main#26
// Offset 385
STR	X29
OUT	MC340

// Rung $Main#27
// Offset 387
STRND	MC3
ANDN	MC900
DUPBOOL
AND	X28
CALL	Lights	0x1	DST511	"3 Y4 C2000 1"	"3 C2000 Y4 1"
POPBOOL
AND	X29
CALL	Lights	0x1	DST511	"3 Y5 C2000 1"	"3 C2000 Y5 1"

// Rung $Main#28
// Offset 416
STR	X36
OUT	MC105

// Rung $Main#29
// Offset 418
STR	X38
OUT	MC106

// Rung $Main#30
// Offset 420
STR	X32
OUT	MC107

// Rung $Main#31
// Offset 422
STR	X34
OUT	MC108

// Rung $Main#32
// Offset 424
#BEGIN FMT_COMMENT 
" "
#END

STRN	X36
ORN	X32
ANDN	MC110
ANDN	MHR412:0
ANDN	MHR412:1
OUT	MC109

// Rung $Main#33
// Offset 430
#BEGIN FMT_COMMENT 
" "
#END

STR	X38
OR	X34
ANDN	MC109
ANDN	MHR412:0
ANDN	MHR412:1
OUT	MC110

// Rung $Main#34
// Offset 436
#BEGIN FMT_COMMENT 
"HVAC Flag to activate telescope platforms inyectors.<br>"
" <br>Fans will be turned on, if signal is off.<br> <br>"
"Fans should be turned off, if dome is open (not closed) or "
"local enebeled."
#END

STRN	MC109
OR	MC3
OUT	Y8

// Rung $Main#35
// Offset 439
STR	X40
OUT	MC200

// Rung $Main#36
// Offset 441
STR	MC201
OUT	Y14

// Rung $Main#37
// Offset 443
STR	MC202
OUT	Y13

// Rung $Main#38
// Offset 445
STRN	C5
STRPRINT	SL1	0x4	"""#file:"" SL2 ""#"" DST21 "" "" SL0 ""$0D$0A"""
STRCOPY	SL0	SL3	1
SET	C9

// Rung $Main#39
// Offset 467
STR	C9
STREAMOUT	@DMLogger	0x0	SL1	DST511	DST511	0x0	0x0	C3	C4
RST	C9

// Rung $Main#40
// Offset 477
STR	ST1
STRPRINT	SL0	0x5	"MC1 MC2 MC3 MC100 MC102 MC105 MC106 MC107 MC108 MC109 MC110 MC200 MC201 MC202 MC235 MC236 MC237 MC238 MC239 MC240 MC335 MC336 MC337 MC338 MC339 MC340 MC600 MC601 MC602 MC900 MHR1024"
STRCMP	SL3	0x2	C5	ST1023	ST1023	SL0

// Rung $Main#41
// Offset 551
STR	ST3
DTCMP	UDT0	UDT1	0x1	C10	ST1023	ST1023
EPOCH2DT	DST21	UDT1

// Rung $Main#42
// Offset 560
STRN	C10
EPOCH2DT	DST21	UDT0
SET	C11

// Rung $Main#43
// Offset 564
STR	C11
STRPRINT	SL2	0x4	"""C:\logs\"" UDT0.Year ""_"" UDT0.Month ""_"" UDT0.Day "".txt"""
RST	C11

// Rung $Main#44
// Offset 585
STR	C1
OR	C2
STRPRINT	SL4	0x4	"""#file:C:\logs\smtp.log#"" DST21 "" "" MSG "" "" ERR ""$0D$0A"""
SET	C7
RST	C1
RST	C2

// Rung $Main#45
// Offset 611
STR	C7
STREAMOUT	@DMLogger	0x0	SL4	DST511	DST511	0x0	0x0	C8	C12
RST	C7

// Rung $Main#46
// Offset 621
STRN	C0
MATH	C0	"DST21 >= (D4 + 3)"

// Rung $Main#47
// Offset 632
#BEGIN FMT_COMMENT 
"Send an email when the lights of the spectrograph room are "
"turned on manualy<br> "
#END

STRN	MC237
ANDPD	X26
AND	C0
ANDPDPF
ANDN	MC901
EMAIL	@LCO_smtp	"""lvm-critical@sdss.org"""	""""""	""""""	"""Someone entered the Spectrograph room"""	0x0	"""Someone turned on the lights on the spectrograph room at "" SDT0.Day ""/"" SDT0.Month ""/"" SDT0.Year "" "" SDT0.Hour "":"" SDT0.Minute "" Local time."""	0x0	C1	C2

// Rung $Main#48
// Offset 704
#BEGIN FMT_COMMENT 
"Send an email when the lights of the spectrograph room are "
"turned off manually "
#END

STRN	MC237
ANDND	X26
AND	C0
ANDPDPF
ANDN	MC901
EMAIL	@LCO_smtp	"""lvm-critical@sdss.org"""	""""""	""""""	"""Someone left the Spectrograph room"""	0x0	"""Someone turned off the lights on the spectrograph room at "" SDT0.Day ""/"" SDT0.Month ""/"" SDT0.Year "" "" SDT0.Hour "":"" SDT0.Minute "" Local time."""	0x0	C1	C2

// Rung $Main#49
// Offset 775
STRN	T10.Done
TMR	T10	500

// End of Code Block $Main
$PGMEND	$Main

// Beginning of Code Block Drive
$PRGRM	Drive

// Rung Drive#1
// Offset 0
SG	Drive.S0

// Rung Drive#2
// Offset 2
STRNE	MHR510	MHR410
MWX	@IntSerModbusClient	0	0	1	6	2331	1	MHR510	0x0	0	0x0	C108	C208	DST511

// Rung Drive#3
// Offset 17
#BEGIN FMT_COMMENT 
"Select the direction of the motor.<br>"
"Off =%3E Forward direction (Close roll-off)<br>"
"On =%3E Reverse direction (Open roll-off)"
#END

STRNE	MC102	MHR1024:4
DUPBOOL
AND	MC102
MWX	@IntSerModbusClient	0	0	1	6	2333	1	1	0x0	0	0x0	C109	C209	DST511
POPBOOL
ANDN	MC102
MWX	@IntSerModbusClient	0	0	1	6	2333	1	0	0x0	0	0x0	C109	C209	DST511

// Rung Drive#4
// Offset 47
#BEGIN FMT_COMMENT 
"To move the roll off, the system has to be in:<br>"
"Remote mode (local enable off)<br>"
"E-stop not triggered (Estop_status off)<br>"
"Motor direction commanded has to agree with GS3 direction "
"(Motor_dir ==  Status_2:4)"
#END

STR	MC100
ANDN	MC3
ANDN	X40
ANDE	MC102	MHR1024:4
JMP	Drive.S1

// Rung Drive#5
// Offset 55
#BEGIN FMT_COMMENT 
"Local enable is normally open, as system will jump to "
"Local enabled stage if Local_enable is on (Local mode)"
#END

STR	MC3
JMP	Drive.S3

// Rung Drive#6
// Offset 57
SG	Drive.S1

// Rung Drive#7
// Offset 59
STR	MC100
MWX	@IntSerModbusClient	0	0	1	6	2332	1	V2332	0x0	0	0x1	Drive.S2	C211	V1006
TMR	T2	2000

// Rung Drive#8
// Offset 73
STR	T2.Done
AND	X40
JMP	Drive.S0
RST	MC100

// Rung Drive#9
// Offset 77
SG	Drive.S2

// Rung Drive#10
// Offset 79
STR	ST1
TMR	T1	D2

// Rung Drive#11
// Offset 82
STR	ST1
TMR	T0	D1
COPY	0x1	"4 0x0 T0.Acc R0 1"

// Rung Drive#12
// Offset 91
#BEGIN FMT_COMMENT 
"Set the parameters to stop the drive:<br>"
"- In case of current above 10 A (100)<br>"
"- In case of user command (MC 100)<br>"
"- Dome timeout (set to 2 min 25 sec)<br>"
"Disabled a lower value for overcurrent & timeout of 5 "
"sec.<br> <br>If heartbeat is lost, wait to close, and jump "
"to error state<br> <br>"
"If local mode activated, stop dome and jump to error state."
#END

STRGE	MHR415	120
AND	MC102
STR	X36
OR	X32
ANDSTR
STR	X38
OR	X34
ANDSTR
STRN	MC102
STRN	X36
ORN	X32
ANDSTR
STRN	X38
ORN	X34
ANDSTR
ORSTR
STR	ST2
ANDGE	MHR415	140
AND	T1.Done
ORSTR
ORNE	MHR411	0
ORN	MC100
OR	T0.Done
ANDN	MC3
DUPBOOL
ANDN	MC602
ANDN	T0.Done
MWX	@IntSerModbusClient	0	0	1	6	2332	1	0	0x0	0	0x1	Drive.S0	C212	V1006
RST	MC100
POPBOOL
STR	MC602
OR	T0.Done
ANDSTR
MWX	@IntSerModbusClient	0	0	1	6	2332	1	0	0x0	0	0x1	Drive.S3	C213	V1006
RST	MC100
SET	MC103

// Rung Drive#13
// Offset 156
STR	MC3
MWX	@IntSerModbusClient	0	0	1	6	2332	1	0	0x0	0	0x1	Drive.S3	C214	V1006

// Rung Drive#14
// Offset 168
SG	Drive.S3

// Rung Drive#15
// Offset 170
STRN	MC3
ANDN	MC602
ANDN	MC104
JMP	Drive.S0
RST	MC100
RST	MC103
RST	MC104

// End of Code Block Drive
$PGMEND	Drive

// Beginning of Code Block Heartbeat
$PRGRM	Heartbeat

// Rung Heartbeat#1
// Offset 0
SG	Heartbeat.S0

// Rung Heartbeat#2
// Offset 2
STR	ST1
TMR	T3	60000

// Rung Heartbeat#3
// Offset 5
STR	MC600
RST	MC600
SET	MC601
RST	MC602
SETNUMR	D10	D10	0
JMP	Heartbeat.S1

// Rung Heartbeat#4
// Offset 13
STR	T3.Done
ANDN	MC600
RSTT	T3
INC	D10

// Rung Heartbeat#5
// Offset 17
STRGE	D10	3
ANDN	MC900
JMP	Heartbeat.S3
SETNUMR	D10	D10	0

// Rung Heartbeat#6
// Offset 26
SG	Heartbeat.S1

// Rung Heartbeat#7
// Offset 28
STR	ST1
TMR	T4	3000

// Rung Heartbeat#8
// Offset 31
STR	T4.DN
RST	MC601
JMP	Heartbeat.S0

// Rung Heartbeat#9
// Offset 34
SG	Heartbeat.S3

// Rung Heartbeat#10
// Offset 36
STRN	Drive.S0
RST	MC100

// Rung Heartbeat#11
// Offset 38
STRN	MHR1024:0
ANDN	MHR1024:1
AND	MC102
AND	Drive.S0
RST	MC102

// Rung Heartbeat#12
// Offset 43
STRN	MHR1024:0
ANDN	MHR1024:1
ANDN	MHR1024:3
ANDN	MHR1024:4
AND	Drive.S0
SET	MC100
RST	MC602
JMP	Heartbeat.S4

// Rung Heartbeat#13
// Offset 51
SG	Heartbeat.S4

// Rung Heartbeat#14
// Offset 53
STRN	MC602
SET	MC602
RSTT	T5

// Rung Heartbeat#15
// Offset 56
STR	MC602
DUPBOOL
AND	T6.Zero
ANDN	MC901
EMAIL	@LCO_smtp	"""lvm-critical@sdss.org"""	""""""	""""""	"""Critical:PLC connection lost"""	0x1	"""PLC has lost communication with the server for "" D3 "" seconds"""	0x0	C1	C2
POPBOOL
DUPBOOL
ANDN	T6.Done
TMR	T6	300000
POPBOOL
AND	ST1
TMRAG	T5	0
MATH	D3	"(T5.Acc / 1000) + 180"

// Rung Heartbeat#16
// Offset 123
STR	T6.Done
RSTT	T6

// Rung Heartbeat#17
// Offset 125
STR	MC600
SET	MC601
RST	MC600
RST	MC602
RSTT	T5
JMP	Heartbeat.S1
ANDN	MC901
EMAIL	@LCO_smtp	"""lvm-critical@sdss.org"""	""""""	""""""	"""Critical: PLC conection restored"""	0x1	"""PLC to server communication restored after "" D3 "" seconds"""	0x1	Heartbeat.S1	C2

// End of Code Block Heartbeat
$PGMEND	Heartbeat

// Beginning of Code Block Rain
$PRGRM	Rain

// Rung Rain#1
// Offset 0
#BEGIN FMT_COMMENT 
"The rain sensor was connected using a negated logic (off = "
"1 & on = 0). Therefore, there are two cases were the input "
"will be activated<br> <br> 1. There is rain.<br>"
" 2. There is an issue with the system.<br> <br>"
"The output logic is negated, to show a logic 1 if there is "
"rain."
#END

SG	Rain.S0

// Rung Rain#2
// Offset 2
STRN	X47
JMP	Rain.S1
SET	MC700

// Rung Rain#3
// Offset 5
#BEGIN FMT_COMMENT 
"Rain bit will be on, for 15 min after rain sensor is "
"cleared.<br> <br>Once time has past, it goes back to idle"
#END

SG	Rain.S1

// Rung Rain#4
// Offset 7
STR	X47
TMRDOWN	T7	900000

// Rung Rain#5
// Offset 11
STR	ST1
TMR	T8	3600000

// Rung Rain#6
// Offset 15
STR	T7.Done
SET	C13

// Rung Rain#7
// Offset 17
STR	X47
AND	T7.Done
JMP	Rain.S0
RST	MC700

// End of Code Block Rain
$PGMEND	Rain

// Beginning of Code Block Drive_new
$PRGRM	Drive_new

// Rung Drive_new#1
// Offset 0
SG	Drive_new.S0

// Rung Drive_new#2
// Offset 2
STR	ST1
RST	MC112

// Rung Drive_new#3
// Offset 4
#BEGIN FMT_COMMENT 
"Select the direction of the motor.<br>"
"Off =%3E Forward direction (Close roll-off)<br>"
"On =%3E Reverse direction (Open roll-off)"
#END

STRNE	MC102	MHR1024:4
DUPBOOL
AND	MC102
MWX	@IntSerModbusClient	0	0	1	6	2333	1	1	0x0	0	0x0	C109	C209	DST511
POPBOOL
ANDN	MC102
MWX	@IntSerModbusClient	0	0	1	6	2333	1	0	0x0	0	0x0	C109	C209	DST511

// Rung Drive_new#4
// Offset 34
#BEGIN FMT_COMMENT 
"If it starts raining, system will automatically set drive "
"direction to close."
#END

STR	MC700
ANDN	MC109
MWX	@IntSerModbusClient	0	0	1	6	2333	1	0	0x0	0	0x0	C109	C209	DST511

// Rung Drive_new#5
// Offset 47
#BEGIN FMT_COMMENT 
"Jump to remove brakes. As brakes aren't connected, it will "
"jump to start movement"
#END

STRN	MC111
ANDN	MC700
AND	MC100
ANDE	MC102	MHR1024:4
ANDN	MHR1024:1
ANDN	MHR1024:0
STRE	MHR1024:4	0
AND	MC700
ANDN	MHR1024:1
ANDN	MHR1024:0
ORSTR
JMP	Drive_new.S2
AND	ST2
JMP	Drive_new.S1

// Rung Drive_new#6
// Offset 67
STR	MC700
AND	MC109
OR	X40
OR	MC3
JMP	Drive_new.S10
SET	MC111

// Rung Drive_new#7
// Offset 73
SG	Drive_new.S1

// Rung Drive_new#8
// Offset 75
STR	ST1
SET	Y9
SET	Y10
TMRDOWN	T9	10000

// Rung Drive_new#9
// Offset 80
STR	T9.Done
JMP	Drive_new.S2

// Rung Drive_new#10
// Offset 82
SG	Drive_new.S2

// Rung Drive_new#11
// Offset 84
STRNE	V100	MHR410
MWX	@IntSerModbusClient	0	0	1	6	2331	1	V100	0x0	0	0x0	C108	C208	DST511

// Rung Drive_new#12
// Offset 99
STR	ST1
ANDE	V100	MHR410
MWX	@IntSerModbusClient	0	0	1	6	2332	1	1	0x0	0	0x1	Drive_new.S2	C211	V1006

// Rung Drive_new#13
// Offset 115
STR	MHR1024:1
AND	MHR1024:0
DUPBOOL
AND	MHR1024:4
AND	MHR1024:3
JMP	Drive_new.S3
POPBOOL
ANDN	MHR1024:4
ANDN	MHR1024:3
JMP	Drive_new.S5

// Rung Drive_new#14
// Offset 125
SG	Drive_new.S3

// Rung Drive_new#15
// Offset 127
STR	ST1
TMRDOWN	T0	D20
COPY	0x1	"4 0x0 T0.Acc R0 1"

// Rung Drive_new#16
// Offset 136
STR	X38
OR	X34
ORGE	$Dome_encoder.iReg1	D100
MWX	@IntSerModbusClient	0	0	1	6	2331	1	V101	0x0	0	0x1	Drive_new.S4	C208	DST511

// Rung Drive_new#17
// Offset 153
STR	T0.Done
ORNE	MHR411	0
ORN	MC100
OR	MC700
JMP	Drive_new.S7

// Rung Drive_new#18
// Offset 161
SG	Drive_new.S4

// Rung Drive_new#19
// Offset 163
STR	ST1
TMRDOWN	T0	D21
TMRDOWN	T11	D22
COPY	0x1	"4 0x0 T0.Acc R0 1"

// Rung Drive_new#20
// Offset 174
STR	MC700
OR	T0.Done
ORNE	MHR411	0
ORN	MC100
STRGE	MHR415	120
ANDGE	$Dome_encoder.iReg1	D101
ORSTR
STRGE	MHR415	120
AND	T11.Done
ORSTR
STRGE	$Dome_encoder.iReg1	D101
AND	T11.Done
ORSTR
JMP	Drive_new.S7

// Rung Drive_new#21
// Offset 203
SG	Drive_new.S5

// Rung Drive_new#22
// Offset 205
STR	ST1
TMRDOWN	T0	D23
TMRDOWN	T11	D22
COPY	0x1	"4 0x0 T0.Acc R0 1"

// Rung Drive_new#23
// Offset 216
STR	T0.Done
ORNE	MHR411	0
ORN	MC100
JMP	Drive_new.S7

// Rung Drive_new#24
// Offset 223
STR	T11.Done
ORLE	$Dome_encoder.iReg1	D102
MWX	@IntSerModbusClient	0	0	1	6	2331	1	V101	0x0	0	0x1	Drive_new.S6	C208	DST511

// Rung Drive_new#25
// Offset 239
SG	Drive_new.S6

// Rung Drive_new#26
// Offset 241
STR	ST1
TMRDOWN	T0	D25
COPY	0x1	"4 0x0 T0.Acc R0 1"

// Rung Drive_new#27
// Offset 250
STR	T0.Done
ORNE	MHR411	0
ORN	MC100
STRGE	MHR415	120
ANDLE	$Dome_encoder.iReg1	0
ORSTR
STRGE	MHR415	120
STRN	X36
ORN	X32
ANDSTR
ORSTR
STRLE	$Dome_encoder.iReg1	0
STRN	X36
ORN	X32
ANDSTR
ORSTR
JMP	Drive_new.S7

// Rung Drive_new#28
// Offset 282
SG	Drive_new.S7

// Rung Drive_new#29
// Offset 284
STR	ST1
MWX	@IntSerModbusClient	0	0	1	6	2332	1	0	0x0	0	0x0	C111	C211	V1006

// Rung Drive_new#30
// Offset 296
STRN	MHR1024:1
ANDN	MHR1024:0
DUPBOOL
AND	ST2
JMP	Drive_new.S8
POPBOOL
ANDE	R0	0
JMP	Drive_new.S9
SET	MC112
STRNE	MHR411	0
OR	X40
ANDSTR
ANDNE	R0	0
ANDE	MHR411	0
ANDN	X40
JMP	Drive_new.S0

// Rung Drive_new#31
// Offset 324
SG	Drive_new.S8

// Rung Drive_new#32
// Offset 326
STR	ST1
RST	Y9
RST	Y10
TMRDOWN	T9	10000

// Rung Drive_new#33
// Offset 331
STR	T9.Done
DUPBOOL
STRE	R0	0
ORNE	MHR411	0
ANDSTR
JMP	Drive_new.S9
POPBOOL
ANDNE	R0	0
ANDE	MHR411	0
JMP	Drive_new.S1

// Rung Drive_new#34
// Offset 353
SG	Drive_new.S9

// Rung Drive_new#35
// Offset 355
STRE	MHR411	0
AND	MC113
JMP	Drive_new.S0
RST	MC112

// Rung Drive_new#36
// Offset 362
SG	Drive_new.S10

// Rung Drive_new#37
// Offset 364
STRN	MC700
ANDN	X40
ANDN	MC3
JMP	Drive_new.S0
RST	MC111

// End of Code Block Drive_new
$PGMEND	Drive_new

#BEGIN ELEMENT_DOC
"X16","Door_locked_in","",""
"X18","Door_closed_in","",""
"X24","Ctl_lights_in","","Control room lights current sensor input"
"X25","Utl_room_in","","Utilities room lights current sensor input"
"X26","Spec_lights_in","","Spectrograph room lights current sensor input"
"X27","Mze_lights_in","","Mezzanine lights current sensor input"
"X28","Plat_Wlights_in","","Platform white light current sensor input"
"X29","Plat_Rlights_in","","Platform red light current sensor input"
"X32","LS_NW_in","",""
"X34","LS_SW_in","",""
"X36","LS_NE_in","",""
"X38","LS_SE_in","",""
"X40","Estop_status","","Shows if E-stop is active"
"X47","rain_sen_in","",""
"Y0","Ctl_lights_out","","Control room lights relay out"
"Y1","Utl_lights_out","","Utilities room lights relay out"
"Y2","Spec_lights_out","","Spectrograph room lights relay out"
"Y3","Mze_lights_out","","Mezzanine room lights relay out"
"Y4","Plat_Wlight_out","","Roll-off White light relay out"
"Y5","Plat_Rlight_out","","Roll-off Red light relay out"
"Y8","HVAC_flag","","Flag to stop telescope platform fans"
"Y9","Brake_start","",""
"Y10","brake_mantain","",""
"Y13","PLC_Estop_releas","","PLC reset e-stop output"
"Y14","PLC_Estop","","PLC e-stop output"
"C7","SMTP_log","","Sends information to dmlogger when smpt message is sent"
"C13","rain_time_done","",""
"C100","","","Success read"
"C101","","","Success read"
"C102","","","Success read"
"C103","","","Success read"
"C104","","","Success read"
"C105","","","Success read"
"C106","","","Success read"
"C107","","","Success read"
"C108","","","Success read"
"C109","","","Success read"
"C110","","","Success read"
"C200","","","Error read"
"C201","","","Error read"
"C202","","","Error read"
"C203","","","Error read"
"C204","","","Error read"
"C205","","","Error read"
"C206","","","Error read"
"C207","","","Error read"
"C208","","","Error read"
"C209","","","Error read"
"C210","","","Error read"
"C211","","","Error read"
"C212","","","Error read"
"C213","","","Error read"
"C214","","","Error read"
"V100","Drive_speed_a","",""
"V101","Drive_speed_b","",""
"D0","Overcurrent_lim","",""
"D1","Dome_move_tout","",""
"D2","curr_delay_val","",""
"D3","HB_err_seconds","",""
"D4","UTC","",""
"D20","Tout_open","",""
"D21","Tout_open_aprch","",""
"D22","Topen_apr","",""
"D100","Open_count_lim_1","",""
"T0","Dome_tout","",""
"T1","Curr_delay","",""
"T7","Rain_time","",""
"T8","Rain_elapsd_time","",""
"T10","timer_500ms","",""
"T11","T_countdown","",""
"SS2","filename","",""
"SL0","DMLOG_new_read","","Modbus variables new reading for dmlogger output"
"SL1","DMLOG_MOD_OUT","","Modbus variables sent to DMLOGGER"
"SL2","Log_Filename","","DMlogger log filename"
"SL3","DMLOG_saved_read","","Modbus variables to be checked against at next cycle"
"SL4","SMTP_Error","",""
"UDT0","date","",""
"MC1","Door_locked","",""
"MC2","Door_closed","",""
"MC3","Local_enable","",""
"MC100","Dome_enable","","LVM software motor enable"
"MC102","Motor_dir","","LVM software motor direction"
"MC103","Dome_Tout_stat","","Roll-off timout status"
"MC104","Dome_Tout_rst","","Reset Roll-off timeout bit"
"MC105","NE_lim_mod","","North-east LS modbus output"
"MC106","SE_lim_mod","","South-east LS modbus output"
"MC107","NW_lim_mod","","North-west LS modbus output"
"MC108","SW_lim_mod","","South-west LS modbus output"
"MC109","Dome_closed","","Dome status closed"
"MC110","Dome_open","","Dome status open"
"MC111","Rolloff_lout","",""
"MC112","Rolloff_error","",""
"MC113","Drive_error_rst","",""
"MC200","Estop_stat_mbus","","E-stop status, read on the secondary electrical panel"
"MC201","Remote_estop","","Remote E-stop"
"MC202","Remote_estop_rel","","Remote E-stop release"
"MC235","CTL_room_tog","","Modbus control room lights toggle"
"MC236","UTL_room_tog","","Modbus utilities room lights toggle"
"MC237","Spec_room_tog","","Modbus Spectrograph room lights toggle"
"MC238","Mze_room_tog","","Modbus mezzanine room lights toggle"
"MC239","Plat_wlight_tog","","Modbus roll-off white light toggle"
"MC240","Plat_rlight_tog","","Modbus roll-off red light toggle"
"MC335","CTL_room_stat","","Modbus utilities room lights status"
"MC336","UTL_room_stat","","Modbus utilities room lights status"
"MC337","Spec_room_stat","","Modbus spectrograph room lights status"
"MC338","Mze_room_stat","","Modbus mezzanine room lights status"
"MC339","Plat_wlight_stat","","Modbus roll-off white light status"
"MC340","Plat_rlight_stat","","Modbus roll-off red light status"
"MC600","HB_input","",""
"MC601","HB_ACK","",""
"MC602","HB_err_out","",""
"MC700","Rain_mod","",""
"MC900","Eng_hw_mode","","Disables hardware safety features"
"MC901","Eng_sw_mode","","Disables software safety features"
"MHR150","Dome_enc_count","","Roll off encoder counts"
"MHR151","Dome_enc_scale","","Roll off position scaled to mm"
"MHR152","Dome_speed","","Roll off speed scaled to mm"
"MHR411","Status_1","",""
"MHR415","Im","","Motor current"
"MHR600","O2_pct_utl_room","",""
"MHR601","O2_pct_spec_room","",""
"MHR602","ODH_EC_utl_room","",""
"MHR603","ODH_EC_spec_room","",""
"MHR604","ODH_SB_utl_room","",""
"MHR605","ODH_SB_spec_room","",""
"MHR700","Rain_el_time","",""
"MHR701","No_rain_cdown","","Countdown from 15 min with no rain"
"MHR1024","Status_2","","GS3 drive status 2"
"MHR1024:0","Status_2:0","","GS3 drive movement transitioning state"
"MHR1024:1","Status_2:1","","GS3 drive movement status"
"MHR1024:3","Status_2:3","","GS3 drive directiontransitioning state"
"MHR1024:4","Status_2:4","","GS3 drive direction"
"Drive.S0","Idle","",""
"Drive.S1","Motor_start","",""
"Drive.S2","Motor_moving","",""
"Drive.S3","Drive_disable","","Drive is disabled due to local mode or heartbeat"
"Rain.S0","Rain_idle","",""
"Rain.S1","Rain_timer","",""
"Heartbeat.S0","HB_idle","",""
"Heartbeat.S1","HB_ok_wait","",""
"Heartbeat.S3","HB_error","",""
"Heartbeat.S4","HB_wait_error","",""
"Drive_new.S0","Drive_idle","",""
"Drive_new.S1","Rem_brakes","",""
"Drive_new.S2","Start_movement","",""
"Drive_new.S3","Open_roof","",""
"Drive_new.S4","Open_aproach","",""
"Drive_new.S5","Close_roof","",""
"Drive_new.S6","Close_roof_apr","",""
"Drive_new.S7","Stop_movement","",""
"Drive_new.S8","Set_brakes","",""
"Drive_new.S9","Error","",""
"Drive_new.S10","Lockout","",""
#END

