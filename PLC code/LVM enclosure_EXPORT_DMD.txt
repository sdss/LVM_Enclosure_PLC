// Options: Export entire program; Code Block delimiter instructions;
// Formatted Rung Comments; Element Documentation Database; System Configuration;
// Memory Configuration/Devices with Built-In Types and User Add-Ons;
// use Element names (no NickNames); rung/address annotations;
// <TAB> parameter delimiter; 
// Write/overwrite file C:\LVM_Enclosure_PLC\PLC code\LVM enclosure_EXPORT_DMD.txt

PLC H2-DM1E

// Do not modify SYS_CONFIG block!
#BEGIN SYS_CONFIG
9e041cbdcdf4061cca8663859c76b39f61ee338210857506cbf02215b5882bbfc7a1fd880f36126e
e86ec6a23bac6da068f589a758a965715d437cb742ae06443e19d4185af3aac3166439d7111096e8
7e4f7dbb4cc5a49ad27f66319209f2ea284c3239b12091504a71f9535a2226553163de5cc8343316
696488c8cdfd969fbbd2e73ac2bae470f394fad171d529411b72011e599c4f8735074d0e7c4af33a
0bc86fe5e65a270efeeef891d4ebc2e06b45e5a06d5acb0e532e361204a1eb148c6387ddc4705738
683883ca83910d809e1b989096d3c1183786a32dca356d15a75009444f6315544244cffcbf2c7df1
e51addda16e9895f54348184e5b9857ce5db23f100fa507bdb86edb5aff70818a827e636b8708dfe
7cef7e67625b1dfea931599ee64fc02b99c7e778132d4059a6c05e96ae38bf9a3e99c0769a5b346d
4301f612f79464778b16d74f5176b3939e3aee4e648daafd7449390d606f1cf0ad84c0752031078b
bcc7a8de99631edb662638519887d90ab2aecb6b805ae2add8a6b9a45f4dcc37c142c4493b1b9176
21fb34ded32548b465c56dfcd735c139c5b8d424218c8abcbdb7a0be90bb8f8cc544074e82dec202
477866e4e55ec283a506ee5f1ff300ad36709b39ae0818497786257ea8ff24e0db302581d82e4983
55eef63ed231476e0351088594716dd31f2ba4116166785d199739c903ccac089f47be6140d77bae
93a55a5ed5ada1ea4ab23cfe153b2ef81762082b49157839ceeeb86ac5e42bffbb41d4a71861f1c2
105183728d82271f66e9cb7bf8e48ad2f565facb2a53ab4b41b1618dda9f535f3e5587cd9a9ad6d9
31de4e73d1bc48c5cb49f803840e2f88afeb9b9d8c4b73c27f668f6f580c055b4425c9f4a3b48060
ab6d7d9903ce849a5f9c11343e08fb39fd6f3c0498c9e8998818e6835ed947f727332abb3800bb1f
a3525e179d9b44d3588e5862d3d250fa26cfffe196926db5c9f5b4316cc34c2187d0e6eea7abd1cb
5d2a22f64376b9eedb8f71d3ef9c9328dac93377b9280dbd9dca3bd2357264c62edb5913abe772a6
f620400b0524220e7ff3681393efcfc5c21def9395a20f403b0787c4c41aa83a3ba6a3f44d064718
307164c0ce983c2c32ab9abf46e282376cc54131584e4b0bbd88c16af3a8f186ac4985aea714935c
0a03cab0a5bb299f9c16b018a94f4a2c240a0fc1a30b300f11834112cc6d341bbae4a55d4c322c79
378d4d7893380e92b24cad59be90170dc1ffad1885abda2260e0a73ab876361e5dcdacc437ff5f6c
c4ef8608c56d440a0fefa48a22a652ee2ea2af192770faf714700b5d054b26f8404a72f53df966ad
ab947a534467b55d664f0bf11477be38e5cd3fec54ed9f64a880081246180b66e3a9aa7662ed93d9
46c60a64be277d5d92008b8f73828a8dd083149603107ccdc5d54aaa37bf9e608b75d7ba4e812aa6
ce06d9d6a76cad01bb9ae43b2988bfd267c95c79f32d952c23650c45c796f09d2b9826112db20ef4
a173290181ef07a13994c738a49e4a5edeeb0c255d28387c6d85ce008895233f46b9c8a6ade8cf1d
8ef756c60a9b44410e5d7a77e69222a96990d71e670e6773f182bb6173237883e6f47c6fdcf9d780
16b1f1261b6c0e5318afbd3a149f0d3190b05c70f47851e57d6eb0a8a01ab74cbcff49b930113c4d
0f716b016f8025b7aa5ad1e96102f1ff0bb01d974af77f89ed7b710dc4baa0247589a1c810c6a927
6c3b3a693755d335b9fa21e4c2abedcb13968dd75cdbecb05494cb00e8ff40e92535ff65e8880b69
c32260b4c287cb72c1646fac0da468783a3f3876c4fb3eb667471aed66006952355700abaa47adf0
5f81c4ab298a48821967777ace10a1fb19848c89414e5c21cbe9011ee035d14c55d0b016de06715f
621257fa84e31dae4dc21a57c23b825d514e12e2a7be53506234512cc6e876e62735ab9a9bc80cf8
ca5a844ba3d85ad4ed21cf8921a894eeeae77490cdd6b1772e852c2ad105d5da2c882109661104fa
92755805569603d0f1817eeec927a2f2d468e6c787fe72e356b917f1fd6ded0b3bf26fdf2e1d5d18
fd7192bcc8f30aae91d48fe7cd67245c622ca258ae979f93a3e25a4b0d93f42b3f8c6995ae7f2477
0c3b71cbb3620783675650fa50eff71ed619d9daa83a1bd33e46b7660bd6b556dfb65ff18bc708c7
3f88ff6903fceba33196a4b3c0eeeb159a35e6382b915648ee618b2880effcbde60f600690bdc1e9
d67cf9df3e16afea83afb0bcd8c1a1b0a6fb1dd3babc85243f3c2b6d6bd5c7230e2871bd7c9f458d
8454b41e62ee63d2b16b86836f7d24234c777c73e33f23b17484411d34f165d52cd205d070b0ae97
fef5dfd33a96c68b905c26f77372681c8e5ca4618d86cf4624a8e49820a199104e60711d0298bb91
23f51d8464ea7c235e905a06f9875a089b404dd5d48c448dc4c009f55891fb12c777d002e7ac4922
eeddca0eb016402ac6092de4fe4f19807587ab3587ba28a41bfd7399f2ed979b8b538f106101c17c
01e7737db5d4784cf9413eb49da5ddd6252e7bac26f05aaf21b091f04a83b408052b6b21b9fe835f
95fca518092005c7c7ae7e151a39001bf694862a1ea36ad5b47e6a0717405f80ece1ebb96cdb0215
2ac2149b8d803d296b585f641f1107d31266797e239cab523df4eec02f1b6eb167ea2c3fc8b0a286
1f022a1b302654891aa1397e61b47ea0b2ad5d614bbc1476ee86be4cdbbe5aa509e0d1d9b7d0833d
e79e340444fc795823717c76d904a072fb1f120931d7000491c9cc16ed222a79ad4d689c30032fe4
ce2cc06f718ec59e45cbce7ac169f1e9be8e2cd1f431e8acf4cb86fb2d4e9585b8a6b7164664bbb0
53ec225f58f810f1cfb37b3c78dfe30299f71a24a604aa68a563f58e9e36b4c52ec9fb59a5a22ffb
9ebf899a8b591abbea70ce35b391208dcc8245ebd7a42402083332eddf5eaf236a0c0a98f6540407
5427ee3f54499dcae995dc5037f6c75dd58f83a6131623b72e8b00e446772c984010a2dc720fd0da
14ff25902cdac9d39b4789b74746a6ee3debdf9779109c9194456acf5e2ed5dc8efb5a37cb71a17c
fbc941e532ddadddb81600e22ba03f81a119805d68f9337c3cb950d85a8e088e7f2ab7ee6c300cdd
9be50c47edaafba2c37f2801c15b558cf9bb97245ea677c5a5d7effe63c59abf74c8ae8ea66fd303
43db0232995e979ca5366bdbe11fe3d6e45bcc5eae58dd313b5db59a14b80df82fe44969906db75e
f15ca70cee907917acee75828e8d6d4260188d91f79f94c220958ce8349be6265a281001d4096f55
310a81b931397fd53fa6172bd3c5fbb12368e9804a3bfa7d8e43d880db7db5bd8e24b1b7a82547a2
aa8b92696b7d1b098514a10eacb0ba792ee032df626269e69a4cbc1053874f48aa9038d2d8be561a
66141c72c2cdb44eb1cbe068b2d8e57fbaf1319e53400e56dec3fe1c60813d45294b9328f0a77a57
8cbed217881351d49c764aa47360da1660c50b92e3cd96deea55796cef83aa679743962a17c9225f
5a0316c8ba4684119903556a79edb152a93e59e10f7b7a71760d33b73d7391f4fe97559e5443973d
2ce8ef5e83d06730afb6be6b5137a48f9733af9f0faf576ae4a07799e7e29260015d89c9891e55dc
9df99c92f4845b0d1fb8a1d3db74f923df107946fb0b1be1d7b9320c226f62180b0f37fec8c4fa99
236af99df487b616eebe88d23d4598b58012cf913460f3b6bb34e230a0bb96ca154351dac350ad2b
6cd6fadbc096705023e123088358b2090380faff8f7f7e8d6762fb7c99b25acd74747a2e758db20f
bfaf75432da65876f7b651a5a75ee2eaefd6d1d86bd98aa11556a07605aee9bbad074c38864b5814
8c011c21037aaffe208293513aa0101f84af5e72eddcae0b059b5ea4055908c256e188b70aaaba50
6608835d731e13697aae17981e50b217065be47c51ff01ab6f12a13d94b72735b66a49ff406a15cd
e4cd200a9ba3f805373c865abf18a455f462625b9510f5cd25b2cbd8e2bd97e8308f4689f24c8172
383aa2e304f0ecb5d8e09037cbc7b48ce1e58161bb7bbfb809a8ba2e154f26b493d48ab3879cc4bf
368f51a52fee25b6ac40bcdaa89f589f69dd58b899ac19b42ed5128d2d6ea5dbabcd1e12f5c72855
4982ef675bf16ee0687e702d1975bdca2db13cb0f0f3d0492330c9910976f866762b12db0108c6d2
a8c2b4951cc069b280d4c4d10e20fd7cbc9001118306c1c13ab795871b6f057289466ac903d220f1
97f64fd9661facd590d9f2eb68eef5983e1e38e9bcafd8199800bf49d7bcee7903070f7d3afbfbc6
0889ec1cada00f398f7cb42704dc79d147be023d13fe0e17e4d789c153d617b82f697becf5aa9bcf
3c78300812db9b1762b7ce56e91f55df67dbea3c4eba7839714c337feebc7e274f7b94b8e9c3deeb
096ee7215ca6274287575c03bcbf8656ca0dce0bc12a579ac94ff972c6dfc1db4de334cfd69f9abd
1d5b5373014c72d0a0593befa9c54ef4c8b98eed08319092ce7b25e989ca81ee489213f30f4778ed
5c5efe34942d2501b2579432552a3b405cbadfa6ec4efb5c213b12c3a5d3f96b4eb3a7549dbc230f
fbc70b0196bbb0c9ab502f99b526d3e3851fc687c5d88921ea9e070cb110a84b26a589cac14733ab
7b7475d0c66c9a48ff0647f8316ea6e4ad732abb8b9e01f10d8c04fa134b31de2a06ad332f3acb94
b7fabcba14494e7a2e8bb705d8a4fa8b0368b7584716d9b328972a01073367c2cbed83224a20d379
11b7dab4befe86f500d6c0d1681f02b37c005990a813eff37bc58b58d9667d084d78fa1e8f688bbd
c44e17d144acc9719c96ba775938ea0c7e2fe9c858cd02d7233734fc429e07339e8bd74285c88fde
546122ffc538a6d1a9bccddea1f52978d577bdbef9a82e0f9f0ac510e430fb2b6e2f6db3b5bcde73
9420906af90381c2bce453098bbda1ea229985267aeaac9173402d7f8d68dc8dcf08b70f47f19cf2
ab434b5e511f96fc7fd1a4560c650d2d00722312d0b4b5cd2149a123d9ef1f34ffbb33144f5f0415
9d38247ae312049eafd91606ac631e2b9f8ea2933e994132b1ef2e1800e9410a530c7c8efdd13ed3
3026292cc8fa192790c0390efe084827c27e7a71b39220ad6fccce30613056ed910cf2c1f65f9a90
1530a65d9d4665bd7c4fb32b8d879173cefdc22bc0606370d9b4e68ee6869bba4c024ac6376a099d
f7ae102e9925f43ff69dc846a51a9711f86206d5dfd73134b9f27ac4cfb7a611064e51aa56dd70f8
ad2d5cdddd3a816864bcc7fb8ad15924049324b8e5c7c49e92db4437a8bb1f1fc757091c47afc685
a32694ce4d77e777edb6b809f49330d6e647e9eea858bb34a1b564f958287e9dc6c7d301a0aef824
5dba1544d49a19c6b075528f0cf32fe134c20a165f137e6084ba80b8f668d6a85c9a9dcbff7b9a24
05550231e0211159ab4cae2741922defca6a580eee1d5233e2def671f5b6c77ae8d4710ef895a32d
f762f2741f330cccc2dcc30dedda3c99799a4dc956c1c73911e2f1446b1b3253dbfca56e8c1f286a
3252279b4d463ffcf4a6e37ca900de3e3666b29906d6b7fe409abb792388528bdc7f0cae1e7dbf10
f818cc42e0fd16e173e9eee1ba139f446e7fb8539b3028d9f78259b175d9a43303e1c20e47978bc2
ac0770b9eb93c7deb0185ca2c0f5987d267045ac404fbdafe9aab6f5f720f051349423fd9b0ca8c2
e2dffb061c7de8015951ecf6c3558202bc678d41ca0962e3cf644655369fc588e9bb344ab8007fa7
910fefe72c4ad1b0adccd09a8491a9ef2ee6a2f4a8f2d0b979ff68104431bc41e3cf8d6179af20cb
11a2c137f02043691e4feecf76fb93b773af8ab9789ac3e1c6630783039e7675daecb0a1b7e87093
b8cb85a7b6c4cb935efe842c164758d478337b3c7a052ba64d33d163b7e900f41d7e0627d88a319b
83741f0905b739422b93ccc898ef6858bf4158553f3ecd74b4fe73d0d40f1b40e3b6d18e3ab32108
c68fbb66086008e369746f33d86eba364bce814b1f087c3f063eac197eed9aa2e8427c706aee292b
27ae44d08d601263366c66dcc539d14daf384baab942f483ff6c78fa3e49406efad8f2814e07186c
13435ca150473ea86b35f52cbcd46e0c4239f2a1bce03896b25b68a2facea4c29ebf75c1352e5510
fed0cd7fb7677efe99bb2c0bda214d0115a44daf81ec549fa77f725798a0b846d9b8dac18d98272a
de70905e66e0ab5fa094af79ab91b0d89e4792c4ca668f8145b9ad98dc484e2f54414f18e8d8ffa8
069aee939417b9d40665ad1a51cef8e5df54c411976508212eb2745540f0993a19070a6507055865
68e2a8bd30863e7188edc01722c7bbe8f489f5e0eed9897d3ce6091dc69882e37168a0ecf35972bc
b30e5c9b06bc964a1d3ec536cf0750e82181aadb7c626f5c6ba7d0c57b446952195aef76c479b034
2cfc60f1112536bfefdaa67adaadb824c7ef509f11df3fbd2ca6e836d8246eaa25c4d5a92787a36e
b09d975931f4dceb8e71f17bf2da2d864f66d02f33d00762ca75a0c7b8a667e55b0ebda8065d3848
a7b859c0ea2299024e98a2e7488e80283d7975e918c711dce30b2752245ee4bccd2f3fde4782c353
cd05d15e4e4d565b0117d3d156e020a795f0344b24da58350f67521e89b27f6e41c272d2c1bfad88
67159bab2d4121a098b18ea300a2c4f8450ea5584375d357c6f3f5a739d4e814f7eec52d9612588e
c0cab94e0dbc458ad880c09cd5ef8a1d2d03feb0dd7fedd75309293ac4d0e5f13cb38f8cfbcbf30b
385975fcb2eb96a48c8325df5bf3f27a8c1d21474cb743bf208f86cb2f0d3744255fbaa624aa6071
68c8ccd347dd51c8648adf34d88d83a483cd70637de196c7d54c7cc600b3fb8b52fae60a87bbcbbb
b58fb43c71d48580ba901ca221b8c35f7aaff7af715ed90624c5ac351d8a7cc86bd8f3940dd66c4e
d57c25184b4847492479f3efde986ccfd153d268c8f7b3e6c8efac5114565a7791b5b4ef26a370bc
18380bc9e8bf80387a687c18d3bd2aa3ef68fd573ae844c60d4c272f5c95a4c9fb8c15bc5f36a49a
1cf667de91aacdfd0326651ecbe51ce4bf517dfcbe57ec4d5a5049945007e72eaa8204c56dbfb9a3
3730475c7ca7553a3883d535a2482f3ab608d6895f4b172e7ac444904002cedbc27b389d8ea09a63
04e97b50e466047902e3fa0e8d0113016cb0321f01b0b3076a2eb1250515d7a72401095374741581
834095cc2459b8c29e82ca1572387654ac33ae69f92ecc9c9494b497022f0fc5da71c19213ba2eab
8c0388cea1f5dd3066c080d8b3c724a27cbec9246562282aead7887033976682fb5695c19d79b4e9
214f722667b0b40b14c944cb3a1cc996f95c17072ded77a974d33ca360f18fa9a81655b8cd95abde
3f1d3d4c7a7c373ef4e9c87122ffdedbc5a8c100102a18d7ca91006865c1f9aca8c378cec86d64e1
c556e495eac1680081d38949d60bea852723dc6ed84e702623a6c7e3978942a6a7016fd54af7cf26
46fdfb34415b050dad8ea6780bbcd49018f2d9de34a9bb1a3abadc6cad95a18b5a88de08ec24c1e6
ffc86b17a80a00992c8383b395b4403f11dfb5139e9abb1c2456cec7492baf20172a4235c8400d87
c3d250c16a86d60ae08de175df25b0b523f16d970c4a593d0bec563b281d2362eab9d378181580be
8310c536a37a633218320663977084a293b742c8500c24cc27c34db19b83292b581cb14976d3042d
03f461951c20aac15af13bd3ab6a06d8ee9b55ab66755b0e7088e7b46640f84e79525f2f4a17c54d
fd646b40ad40b3c202f110aff29ecf51355938b0ec3c47bc99392c1c6d8a42b01fef947ba6902068
b4c4e8225a433b004a9ae2537de8e666c8519d384bb58ff1dffc126d44767de4cbaee21fc3e174c6
ae5b797dd08dadba07ea1b183e2d1f6bc2633f46700621b19ec157821e39c7de31217fc0ba29864e
81de6a4f9e51d0d4f01a0501943812dcf24c3aac74cb699a67134e52c1419e42ecc32ba7d557a2cc
c1d1b45eefd9e06f2c006dec583aef733796f38b510660e8469cf77fcb5ee56489b14e00b61d3e56
2bd2a86c0c2406d99ab74b8a46e6975fd96147563445a2079f6f60b91c6bec3ad16797081d36a1fe
0b0ce2ab73d007158ecf4d6ca7a144fceef0c21799d4a51eac0d00902e45c3ac9e97468b055f500a
0f9e3d03c1fff2ca68be15bc9bc86ef430a71c2a280c6686a2c1c90dae1976db889a4f0df7470e95
45d5f441674712f3e522cacbcb7f2eb1f7089c7078dd535383af0d671abd07da224677f42d229a84
c315ca5d1ae4859ef8843675aff3277f9fb1eead096175e07ea0021ae21b6ec7bf23edc8cddcd2a2
962d49db3958c01e384d8cc58822f6567734e6e215264fd8b83a7af9175f0f0519eb8a68d3a31ed3
9cf34cafde8ce09d57e9f6a322ff92b95f2ec840859e895776adcb1379415fda675b75dc2f5da7df
d2edb1240521c91e84a7aa0e904458e1be0b9e882ccd6355c6e6e9841b87543fcb4160889b22a51f
c32263b3fa4142f453ccd863a20d7a0a9bee8b5dc440f254c777bf5056ffae4b8b876870d33da50f
9ff457f20b8095e80e9d8ffc329dd819a2c197423e6c20bdae4fe942b2b5571bba13f015ac16c52e
a88d73b8ff2a096b0a2dd8b0c4a4e71a9e977bcf9995a96e4b6be83b44e3ce60854ba0d3795cdb27
f4532ac99d5f9786d95debdacd3b6e58c00b48e49bdf31d533b36e0c46290162eb5213389db9add4
1e6957f9b8f5dce61eb4991dd071655fb21423ee32d7085b39b173482cb9c899bf733fa1ee794334
74526ab5ffe6a9872e1ded483e363dfbc0f66a6e570fe6e105fda43a91d9f06346289ca133431afd
9796083c645272288c90d8bad86daf8cfc103362b4f4b3359a607a7110ff311fcea73d05e95026e6
7daf1e6ab7b3872103b7028eb37084b3e0932ffd39b0912595dcdde8b898c1de7cc02f845f4cdd1c
b7e6d44e497da05ce7587a4a79c787d776d97c718d9e727017b96453a827089dfda6f781351ed877
9af1c3d854ac903f13c746112b872e28eb203b8542ee0a45270619b6247dd00c1a153d31d0525227
48b525e501c2ad014efb2c7d54a6682ed51810d8b9c522a2311417f0329282d3391a5b0f3461ba10
1b1231d7be81467ddf17465c0997e1758193848ad23b59656fd4b4e7388752e689c1abfa3a1c44e4
a3f501a0c53d892f053a17a18aa32bdffccd5fa65109366daff1c289bf5c2be6c956c9d89088dcef
01817a66913b36daea8395c86bc302db47e9f656f23788769b0bf29027ed998a0b9e362254df62e6
84cec4f28494eb0eccde16c152cbeb94fc11dfb61810aab3ef9c7e274c69aeec35cdaebeeb3f99b1
00b3ef1eb4ca1257ee366975febafa534c6e3e0192db781e511564450e2b98b93395384e72070df4
e129c9d18d1cae86ba87fb9a987200202c319f3eff9acba9eabcd866590c0c5e4f6bd5ab3e4e5b7a
1724c5d35a9270fcd1fc1f58b9a48d7ba6c099b513686e46dccff34d334b87abdcf4250bc6f10867
b0a194f65baece8f97449e70badc0804882abf5e2336447e6936c6bdef7e415da7c3f9e12f2afb10
6c9e880d25a53024a963a3f41c5c766ebf704493b8a8137c2ae40eb39b7a11a5ae5d20f67255378c
5a454dedb881641aedb3d333ccd8881af21e41b74388261de95ea653c9804f5db1e366ebd1832c9c
a0c9ba3eb5dd791730a93d54c9c26f0e418ef21105a8ef5212b860b56e67749dad84ece453fd8acd
57a93c3851a42bfcd3e32b7dec24074d4c38f364cb2969e7c75a337ea63bc06b60c085a24743bb25
83e047b135e7d4d5aace3631992ac67f7c402b012e3b2e2b61a4110d0d2d83877548bca0c1e854f5
c100281f7aef5acf9aa8e37b4db9b6d1ee1b8647452feeb4782df632d21231efdcf6ba47c2d638bf
534cdf77c76f687f28087da60ee17ab834f994ce15aaccf1485d3e4c2f4c6a85b83d69de99a9c7b6
61de194ba644d2217531c7a2ee0f70a5facea7502e1c6827a127c33fa9ca6f0ad1c2b2fdca2a56a9
a778eb194225b65b3eb402364a1ee3d674ba4c6886e55c58ea0462ee37fa3eae598e37a94e92bc2d
e6332c16d7c15b31cb91675933be2554a9ef9572e395ab4c616e46910adf0a121b01658d6e303a5a
67af395d6cc0ed42d3cf8724aae9cbbd8cb83fb742c02172c93fe2c7ee3decc855cf1a72c24d528b
1e1edd88c3682f1390e6ff60ff98ec962f629556dad45389a3c0facb03a41dd57666370c79377a71
fec603d22817eb6c846d68c451587e0fe21678daf64bed7a99790b1f2c65b45affe08de2f33ec5c1
8d721700c4ca2408be1e239c52c79a441edfb64db25e46207c6722a4cc66501fadf293342fb089bc
172e70f6805095908eb3e40f72af9d26ef1bc7c18a88a7cdcc3836badf416b1a8574473785e24a51
cdddd3a2ef0097b452628146b6ff289cd190b0e89f09636b73e8c04a043174251ddcba4caac784a9
5a873da7bdbd1ecf9ff6463e3698b61ca61742f7a3275b33bb3fc31dc8d8dc674b04dfb532337620
7c5381388da3c62c3ef60c29c8bc6065b3aa05bb3e20a5fec959049e4ecb69ac5c3b5d5047ecf6cd
ab209532896ac3fb56ec40a7fcdf412047f5dfbe86f451f1211db42c8bccf442d29a19e52e3382a2
4b99cabc21e5a65310a8c12296f29ad6921f4ba1ca147c8613fcaaae8da5ddf3c10acce795cbd172
7d715bea4bf98809abe7bc4e54f98f
#END

#BEGIN DEVICE
	@LocalIOMaster, 12, 27
	@RamFS, 1, 1
	@UserLog, 7, 11
	@IntEthernet, 4, 2
	@DMLogger, 5, 10
	@IntModTCPClient, 9, 14, 1000, 2, 60
	@IntEIPClient, 22, 31, 1000, 2, 60
	@IntEthDMPPClient, 23, 32, 50, 250, 2
	@IntSerModbusClient, 8, 13
	@SERIO_004_A, 16385, 23
	@SERIO_004_B, 17409, 23
	@ODH, 18433, 25
	@LCO_smtp, 32769, 7, 2347065611, 25, 30000, LVM-PLC@lco.cl, 0, 110, , , 0, smtp-02.lco.cl
	@EthIOMaster, 13, 27
	@CTRIO_003, 16387, 6
	@Dome_encoder, 17411, 16
#END

#BEGIN MEM_CONFIG
	X	BIT	decimal	2048	-1
	Y	BIT	decimal	2048	-1
	WX	SWORD	decimal	256	-1
	WY	SWORD	decimal	256	-1
	C	BIT	decimal	2048
	V	UWORD	decimal	4096
	N	SWORD	decimal	4096
	D	SDWORD	decimal	4096
	R	REAL	decimal	4096
	T	TIMER	decimal	256
	CT	COUNTER	decimal	256
	SS	STRING	decimal	128
	SL	STRING	decimal	64
	UDT	DATETIME	decimal	32
	PL	UWORD	decimal	256
	DLX	BIT	octal	01000	-1
	DLY	BIT	octal	01000	-1
	DLC	BIT	octal	01000
	DLV	UWORD	octal	04000
	MI	BIT	decimal	1024
	MC	BIT	decimal	1024
	MIR	SWORD	decimal	2048
	MHR	SWORD	decimal	2048
	RX	REAL	decimal	256	-1
	RY	REAL	decimal	256	-1
	dmlogger	UBYTE	decimal	256
	MSG	STRING		0
	ERR	STRING		0
	SysName	STRING		0
	SysDesc	STRING		0
	SerialNum	STRING		0
	PartNum	STRING		0
	Drive	PROGRAM		0	-1
	Lights	<Virtual>		0
	Heartbeat	PROGRAM		0
	Rain	PROGRAM		0	-1
	Drive_new	PROGRAM		0	-1
#END

// Beginning of Code Block Lights
$LGCMOD	Lights

// Rung Lights#1
// Offset 0
STR	C2000
NOT
OUT	C2000

// Rung Lights#2
// Offset 3
RET

// End of Code Block Lights
$LGCEND	Lights

// Beginning of Code Block $Main
$PRGRM	$Main

// Rung $Main#1
// Offset 0
#BEGIN FMT_COMMENT 
" "
#END

STR	ST0
DUPBOOL
AND	ST1
INIT	"3 D0 ST1023 75 D1 ST1023 165000 D2 ST1023 2000 MC100 ST1023 0 MC102 ST1023 1 MHR510 ST1023 70 D10 ST1023 0 MC201 ST1023 0 MC202 ST1023 0 UDT0.Date ST1023 SDT0.Date UDT0.Time ST1023 SDT0.Time D4 ST1023 DST21 C0 ST1023 0"
POPBOOL
DUPBOOL
AND	X24
CALL	Lights	0x1	DST511	"3 Y0 C2000 1"	"3 C2000 Y0 1"
POPBOOL
DUPBOOL
AND	X25
CALL	Lights	0x1	DST511	"3 Y1 C2000 1"	"3 C2000 Y1 1"
POPBOOL
DUPBOOL
AND	X26
CALL	Lights	0x1	DST511	"3 Y2 C2000 1"	"3 C2000 Y2 1"
POPBOOL
DUPBOOL
AND	X27
CALL	Lights	0x1	DST511	"3 Y3 C2000 1"	"3 C2000 Y3 1"
POPBOOL
DUPBOOL
AND	X28
CALL	Lights	0x1	DST511	"3 Y4 C2000 1"	"3 C2000 Y4 1"
POPBOOL
AND	X29
CALL	Lights	0x1	DST511	"3 Y5 C2000 1"	"3 C2000 Y5 1"

// Rung $Main#2
// Offset 116
#BEGIN FMT_COMMENT 
"Read GS3 drive Elements using the cpu rs-232 port"
#END

STR	T10.Done
MRX	@IntSerModbusClient	0	0	1	3	8449	8	MHR411	0x0	0	0x0	C100	C200	DST511
COPY	0x1	"4 0x0 MHR415 MHR130 1"

// Rung $Main#3
// Offset 134
STR	T10.Done
MRX	@IntSerModbusClient	0	0	1	3	8450	1	MHR1024	0x0	0	0x0	C101	C201	DST511

// Rung $Main#4
// Offset 146
#BEGIN FMT_COMMENT 
"Copy the encoder counts output to MHR150<br> <br>"
"- If motor is not moving, send data every minute.<br>"
"- If motor is moving, send data every second."
#END

STRN	MHR1024:0
ANDN	MHR1024:1
COPY	0x0	"4 0x0 0 MHR152 1"
ANDPD	ST3
STR	MHR1024:0
AND	MHR1024:1
ANDPD	ST4
ORSTR
OR	$Dome_encoder.Reset
DUPBOOL
AND	$Dome_encoder.Reset
COPY	0x0	"4 0x0 0 MHR150 1 0x0 0 MHR151 1"
POPBOOL
ANDN	$Dome_encoder.Reset
MATH	MHR152	"(ABS($Dome_encoder.iReg1 - MHR150) * 9525) / 10850"
SET	C6

// Rung $Main#5
// Offset 190
STR	C6
COPY	0x0	"4 0x0 $Dome_encoder.iReg1 MHR150 1"
SCALE	$Dome_encoder.iReg1	0	10850	0	9525	MHR151
RST	C6

// Rung $Main#6
// Offset 205
STR	MC109
ANDNE	$Dome_encoder.iReg1	0
ANDGE	$Dome_encoder.iReg1	-18
ANDLE	$Dome_encoder.iReg1	18
SET	$Dome_encoder.Reset

// Rung $Main#7
// Offset 219
STR	$Dome_encoder.Reset
ANDE	$Dome_encoder.iReg1	0
RST	$Dome_encoder.Reset

// Rung $Main#8
// Offset 225
#BEGIN FMT_COMMENT 
"Read ODH variables for sensor 2 through Serio-4 every 2 seconds."
#END

STRPD	ST4
MRX	@ODH	0	0	1	3	202	5	V605	0x0	0	0x0	C102	C202	DST511
RST	C600
MOVE	V600	MHR600
MOVE	V603	MHR602
MOVE	V604	MHR604

// Rung $Main#9
// Offset 245
#BEGIN FMT_COMMENT 
"Read ODH variables for sensor 1 through Serio-4 every 2 seconds."
#END

STRND	ST4
MRX	@ODH	0	0	1	3	102	5	V600	0x0	0	0x0	C103	C203	DST511
SET	C600
MOVE	V605	MHR601
MOVE	V608	MHR603
MOVE	V609	MHR605

// Rung $Main#10
// Offset 265
STRPD	ST4
COPY	0x1	"4 0x0 T8.Acc MHR700 1 0x0 T7.Acc MHR701 1"

// Rung $Main#11
// Offset 275
STRN	C1000
AND	ST1
RUN	Drive
HALT	Drive_new

// Rung $Main#12
// Offset 280
STR	C1000
AND	ST1
RUN	Drive_new
HALT	Drive

// Rung $Main#13
// Offset 285
STR	ST1
RUN	Heartbeat

// Rung $Main#14
// Offset 288
STR	ST1
RUN	Rain

// Rung $Main#15
// Offset 291
STRN	X16
ORN	X18
ANDN	MC900
OUT	MC3

// Rung $Main#16
// Offset 295
STR	X16
OUT	MC1

// Rung $Main#17
// Offset 297
STR	X18
OUT	MC2

// Rung $Main#18
// Offset 299
STR	MC235
CALL	Lights	0x1	DST511	"3 Y0 C2000 1"	"3 C2000 Y0 1"
RST	MC235

// Rung $Main#19
// Offset 312
STR	X24
OUT	MC335

// Rung $Main#20
// Offset 314
STR	MC236
CALL	Lights	0x1	DST511	"3 Y1 C2000 1"	"3 C2000 Y1 1"
RST	MC236

// Rung $Main#21
// Offset 327
STR	X25
OUT	MC336

// Rung $Main#22
// Offset 329
STR	MC237
CALL	Lights	0x1	DST511	"3 Y2 C2000 1"	"3 C2000 Y2 1"
COPY	0x1	"4 0x0 DST21 D4 1"
RST	C0
RST	MC237

// Rung $Main#23
// Offset 349
STR	X26
OUT	MC337

// Rung $Main#24
// Offset 351
STR	MC238
CALL	Lights	0x1	DST511	"3 Y3 C2000 1"	"3 C2000 Y3 1"
RST	MC238

// Rung $Main#25
// Offset 364
STR	X27
OUT	MC338

// Rung $Main#26
// Offset 366
STR	MC239
CALL	Lights	0x1	DST511	"3 Y4 C2000 1"	"3 C2000 Y4 1"
RST	MC239

// Rung $Main#27
// Offset 379
STR	X28
OUT	MC339

// Rung $Main#28
// Offset 381
STR	MC240
CALL	Lights	0x1	DST511	"3 Y5 C2000 1"	"3 C2000 Y5 1"
RST	MC240

// Rung $Main#29
// Offset 394
STR	X29
OUT	MC340

// Rung $Main#30
// Offset 396
STRND	MC3
ANDN	MC900
DUPBOOL
AND	X28
CALL	Lights	0x1	DST511	"3 Y4 C2000 1"	"3 C2000 Y4 1"
POPBOOL
AND	X29
CALL	Lights	0x1	DST511	"3 Y5 C2000 1"	"3 C2000 Y5 1"

// Rung $Main#31
// Offset 425
STR	X36
OUT	MC105

// Rung $Main#32
// Offset 427
STR	X38
OUT	MC106

// Rung $Main#33
// Offset 429
STR	X32
OUT	MC107

// Rung $Main#34
// Offset 431
STR	X34
OUT	MC108

// Rung $Main#35
// Offset 433
#BEGIN FMT_COMMENT 
" "
#END

STRN	X36
ORN	X32
ANDN	MC110
ANDN	MHR412:0
ANDN	MHR412:1
OUT	MC109

// Rung $Main#36
// Offset 439
#BEGIN FMT_COMMENT 
" "
#END

STR	X38
OR	X34
ANDN	MC109
ANDN	MHR412:0
ANDN	MHR412:1
OUT	MC110

// Rung $Main#37
// Offset 445
#BEGIN FMT_COMMENT 
"HVAC Flag to activate telescope platforms inyectors.<br>"
" <br>Fans will be turned on, if signal is off.<br> <br>"
"Fans should be turned off, if dome is open (not closed) or "
"local enebeled."
#END

STRN	MC109
OR	MC3
OUT	Y8

// Rung $Main#38
// Offset 448
STR	X40
OUT	MC200

// Rung $Main#39
// Offset 450
STR	MC201
OUT	Y14

// Rung $Main#40
// Offset 452
STR	MC202
OUT	Y13

// Rung $Main#41
// Offset 454
STRN	C5
STRPRINT	SL1	0x4	"""#file:"" SL2 ""#"" DST21 "" "" SL0 ""$0D$0A"""
STRCOPY	SL0	SL3	1
SET	C9

// Rung $Main#42
// Offset 476
STR	C9
STREAMOUT	@DMLogger	0x0	SL1	DST511	DST511	0x0	0x0	C3	C4
RST	C9

// Rung $Main#43
// Offset 486
STR	ST1
STRPRINT	SL0	0x5	"MC1 MC2 MC3 MC100 MC102 MC105 MC106 MC107 MC108 MC109 MC110 MC200 MC201 MC202 MC235 MC236 MC237 MC238 MC239 MC240 MC335 MC336 MC337 MC338 MC339 MC340 MC600 MC601 MC602 MC900 MHR1024"
STRCMP	SL3	0x2	C5	ST1023	ST1023	SL0

// Rung $Main#44
// Offset 560
STR	ST3
DTCMP	UDT0	UDT1	0x1	C10	ST1023	ST1023
EPOCH2DT	DST21	UDT1

// Rung $Main#45
// Offset 569
STRN	C10
EPOCH2DT	DST21	UDT0
SET	C11

// Rung $Main#46
// Offset 573
STR	C11
STRPRINT	SL2	0x4	"""C:\logs\"" UDT0.Year ""_"" UDT0.Month ""_"" UDT0.Day "".txt"""
RST	C11

// Rung $Main#47
// Offset 594
STR	C1
OR	C2
STRPRINT	SL4	0x4	"""#file:C:\logs\smtp.log#"" DST21 "" "" MSG "" "" ERR ""$0D$0A"""
SET	C7
RST	C1
RST	C2

// Rung $Main#48
// Offset 620
STR	C7
STREAMOUT	@DMLogger	0x0	SL4	DST511	DST511	0x0	0x0	C8	C12
RST	C7

// Rung $Main#49
// Offset 630
STRN	C0
MATH	C0	"DST21 >= (D4 + 3)"

// Rung $Main#50
// Offset 641
#BEGIN FMT_COMMENT 
"Send an email when the lights of the spectrograph room are "
"turned on manualy<br> "
#END

STRN	MC237
ANDPD	X26
AND	C0
ANDPDPF
ANDN	MC901
EMAIL	@LCO_smtp	"""lvm-critical@sdss.org"""	""""""	""""""	"""Someone entered the Spectrograph room"""	0x0	"""Someone turned on the lights on the spectrograph room at "" SDT0.Day ""/"" SDT0.Month ""/"" SDT0.Year "" "" SDT0.Hour "":"" SDT0.Minute "" Local time."""	0x0	C1	C2

// Rung $Main#51
// Offset 713
#BEGIN FMT_COMMENT 
"Send an email when the lights of the spectrograph room are "
"turned off manually "
#END

STRN	MC237
ANDND	X26
AND	C0
ANDPDPF
ANDN	MC901
EMAIL	@LCO_smtp	"""lvm-critical@sdss.org"""	""""""	""""""	"""Someone left the Spectrograph room"""	0x0	"""Someone turned off the lights on the spectrograph room at "" SDT0.Day ""/"" SDT0.Month ""/"" SDT0.Year "" "" SDT0.Hour "":"" SDT0.Minute "" Local time."""	0x0	C1	C2

// Rung $Main#52
// Offset 784
STRN	T10.Done
TMR	T10	500

// End of Code Block $Main
$PGMEND	$Main

// Beginning of Code Block Drive
$PRGRM	Drive

// Rung Drive#1
// Offset 0
SG	Drive.S0

// Rung Drive#2
// Offset 2
STRNE	MHR510	MHR410
MWX	@IntSerModbusClient	0	0	1	6	2331	1	MHR510	0x0	0	0x0	C108	C208	DST511

// Rung Drive#3
// Offset 17
#BEGIN FMT_COMMENT 
"Select the direction of the motor.<br>"
"Off =%3E Forward direction (Close roll-off)<br>"
"On =%3E Reverse direction (Open roll-off)"
#END

STRNE	MC102	MHR1024:4
DUPBOOL
AND	MC102
MWX	@IntSerModbusClient	0	0	1	6	2333	1	1	0x0	0	0x0	C109	C209	DST511
POPBOOL
ANDN	MC102
MWX	@IntSerModbusClient	0	0	1	6	2333	1	0	0x0	0	0x0	C109	C209	DST511

// Rung Drive#4
// Offset 47
#BEGIN FMT_COMMENT 
"To move the roll off, the system has to be in:<br>"
"Remote mode (local enable off)<br>"
"E-stop not triggered (Estop_status off)<br>"
"Motor direction commanded has to agree with GS3 direction "
"(Motor_dir ==  Status_2:4)"
#END

STR	MC100
ANDN	MC3
ANDN	X40
ANDE	MC102	MHR1024:4
JMP	Drive.S1

// Rung Drive#5
// Offset 55
#BEGIN FMT_COMMENT 
"Local enable is normally open, as system will jump to "
"Local enabled stage if Local_enable is on (Local mode)"
#END

STR	MC3
JMP	Drive.S3

// Rung Drive#6
// Offset 57
SG	Drive.S1

// Rung Drive#7
// Offset 59
STR	MC100
MWX	@IntSerModbusClient	0	0	1	6	2332	1	V2332	0x0	0	0x1	Drive.S2	C211	V1006
TMR	T2	2000

// Rung Drive#8
// Offset 73
STR	T2.Done
AND	X40
JMP	Drive.S0
RST	MC100

// Rung Drive#9
// Offset 77
SG	Drive.S2

// Rung Drive#10
// Offset 79
STR	ST1
TMR	T1	D2

// Rung Drive#11
// Offset 82
STR	ST1
TMR	T0	D1
COPY	0x1	"4 0x0 T0.Acc R0 1"

// Rung Drive#12
// Offset 91
#BEGIN FMT_COMMENT 
"Set the parameters to stop the drive:<br>"
"- In case of current above 10 A (100)<br>"
"- In case of user command (MC 100)<br>"
"- Dome timeout (set to 2 min 25 sec)<br>"
"Disabled a lower value for overcurrent & timeout of 5 "
"sec.<br> <br>If heartbeat is lost, wait to close, and jump "
"to error state<br> <br>"
"If local mode activated, stop dome and jump to error state."
#END

STRGE	MHR415	120
AND	MC102
STR	X36
OR	X32
ANDSTR
STR	X38
OR	X34
ANDSTR
STRN	MC102
STRN	X36
ORN	X32
ANDSTR
STRN	X38
ORN	X34
ANDSTR
ORSTR
STR	ST2
ANDGE	MHR415	140
AND	T1.Done
ORSTR
ORNE	MHR411	0
ORN	MC100
OR	T0.Done
ANDN	MC3
DUPBOOL
ANDN	MC602
ANDN	T0.Done
MWX	@IntSerModbusClient	0	0	1	6	2332	1	0	0x0	0	0x1	Drive.S0	C212	V1006
RST	MC100
POPBOOL
STR	MC602
OR	T0.Done
ANDSTR
MWX	@IntSerModbusClient	0	0	1	6	2332	1	0	0x0	0	0x1	Drive.S3	C213	V1006
RST	MC100
SET	MC103

// Rung Drive#13
// Offset 156
STR	MC3
MWX	@IntSerModbusClient	0	0	1	6	2332	1	0	0x0	0	0x1	Drive.S3	C214	V1006

// Rung Drive#14
// Offset 168
SG	Drive.S3

// Rung Drive#15
// Offset 170
STRN	MC3
ANDN	MC602
ANDN	MC104
JMP	Drive.S0
RST	MC100
RST	MC103
RST	MC104

// End of Code Block Drive
$PGMEND	Drive

// Beginning of Code Block Heartbeat
$PRGRM	Heartbeat

// Rung Heartbeat#1
// Offset 0
SG	Heartbeat.S0

// Rung Heartbeat#2
// Offset 2
STR	ST1
TMR	T3	60000

// Rung Heartbeat#3
// Offset 5
STR	MC600
RST	MC600
SET	MC601
RST	MC602
SETNUMR	D10	D10	0
JMP	Heartbeat.S1

// Rung Heartbeat#4
// Offset 13
STR	T3.Done
ANDN	MC600
RSTT	T3
INC	D10

// Rung Heartbeat#5
// Offset 17
STRGE	D10	3
ANDN	MC900
JMP	Heartbeat.S3
SETNUMR	D10	D10	0

// Rung Heartbeat#6
// Offset 26
SG	Heartbeat.S1

// Rung Heartbeat#7
// Offset 28
STR	ST1
TMR	T4	3000

// Rung Heartbeat#8
// Offset 31
STR	T4.DN
RST	MC601
JMP	Heartbeat.S0

// Rung Heartbeat#9
// Offset 34
SG	Heartbeat.S3

// Rung Heartbeat#10
// Offset 36
STRN	Drive.S0
RST	MC100

// Rung Heartbeat#11
// Offset 38
STRN	MHR1024:0
ANDN	MHR1024:1
AND	MC102
AND	Drive.S0
RST	MC102

// Rung Heartbeat#12
// Offset 43
STRN	MHR1024:0
ANDN	MHR1024:1
ANDN	MHR1024:3
ANDN	MHR1024:4
AND	Drive.S0
SET	MC100
RST	MC602
JMP	Heartbeat.S4

// Rung Heartbeat#13
// Offset 51
SG	Heartbeat.S4

// Rung Heartbeat#14
// Offset 53
STRN	MC602
SET	MC602
RSTT	T5

// Rung Heartbeat#15
// Offset 56
STR	MC602
DUPBOOL
AND	T6.Zero
ANDN	MC901
EMAIL	@LCO_smtp	"""lvm-critical@sdss.org"""	""""""	""""""	"""Critical:PLC connection lost"""	0x1	"""PLC has lost communication with the server for "" D3 "" seconds"""	0x0	C1	C2
POPBOOL
DUPBOOL
ANDN	T6.Done
TMR	T6	300000
POPBOOL
AND	ST1
TMRAG	T5	0
MATH	D3	"(T5.Acc / 1000) + 180"

// Rung Heartbeat#16
// Offset 123
STR	T6.Done
RSTT	T6

// Rung Heartbeat#17
// Offset 125
STR	MC600
SET	MC601
RST	MC600
RST	MC602
RSTT	T5
JMP	Heartbeat.S1
ANDN	MC901
EMAIL	@LCO_smtp	"""lvm-critical@sdss.org"""	""""""	""""""	"""Critical: PLC conection restored"""	0x1	"""PLC to server communication restored after "" D3 "" seconds"""	0x1	Heartbeat.S1	C2

// End of Code Block Heartbeat
$PGMEND	Heartbeat

// Beginning of Code Block Rain
$PRGRM	Rain

// Rung Rain#1
// Offset 0
#BEGIN FMT_COMMENT 
"The rain sensor was connected using a negated logic (off = "
"1 & on = 0). Therefore, there are two cases were the input "
"will be activated<br> <br> 1. There is rain.<br>"
" 2. There is an issue with the system.<br> <br>"
"The output logic is negated, to show a logic 1 if there is "
"rain."
#END

SG	Rain.S0

// Rung Rain#2
// Offset 2
STRN	X47
JMP	Rain.S1
SET	MC700

// Rung Rain#3
// Offset 5
#BEGIN FMT_COMMENT 
"Rain bit will be on, for 15 min after rain sensor is "
"cleared.<br> <br>Once time has past, it goes back to idle"
#END

SG	Rain.S1

// Rung Rain#4
// Offset 7
STR	X47
TMRDOWN	T7	900000

// Rung Rain#5
// Offset 11
STR	ST1
TMR	T8	3600000

// Rung Rain#6
// Offset 15
STR	T7.Done
SET	C13

// Rung Rain#7
// Offset 17
STR	X47
AND	T7.Done
JMP	Rain.S0
RST	MC700

// End of Code Block Rain
$PGMEND	Rain

// Beginning of Code Block Drive_new
$PRGRM	Drive_new

// Rung Drive_new#1
// Offset 0
SG	Drive_new.S0

// Rung Drive_new#2
// Offset 2
STR	MC112
RST	MC112

// Rung Drive_new#3
// Offset 4
#BEGIN FMT_COMMENT 
"Select the direction of the motor.<br>"
"Off =%3E Forward direction (Close roll-off)<br>"
"On =%3E Reverse direction (Open roll-off)"
#END

STRNE	MC102	MHR1024:4
DUPBOOL
AND	MC102
MWX	@IntSerModbusClient	0	0	1	6	2333	1	1	0x0	0	0x0	C109	C209	DST511
POPBOOL
ANDN	MC102
MWX	@IntSerModbusClient	0	0	1	6	2333	1	0	0x0	0	0x0	C109	C209	DST511

// Rung Drive_new#4
// Offset 34
#BEGIN FMT_COMMENT 
"If it starts raining, system will automatically set drive "
"direction to close."
#END

STR	MC700
ANDN	MC109
MWX	@IntSerModbusClient	0	0	1	6	2333	1	0	0x0	0	0x0	C109	C209	DST511

// Rung Drive_new#5
// Offset 47
#BEGIN FMT_COMMENT 
"Jump to remove brakes. As brakes aren't connected, it will "
"jump to start movement"
#END

STRN	MC111
ANDN	MC700
AND	MC100
ANDE	MC102	MHR1024:4
ANDN	MHR1024:1
ANDN	MHR1024:0
STRE	MHR1024:4	0
AND	MC700
ANDN	MHR1024:1
ANDN	MHR1024:0
ORSTR
JMP	Drive_new.S2
AND	ST2
JMP	Drive_new.S1

// Rung Drive_new#6
// Offset 67
STR	MC700
AND	MC109
OR	X40
OR	MC3
JMP	Drive_new.S10
SET	MC111

// Rung Drive_new#7
// Offset 73
SG	Drive_new.S1

// Rung Drive_new#8
// Offset 75
STR	ST1
SET	Y9
SET	Y10
TMRDOWN	T9	10000

// Rung Drive_new#9
// Offset 80
STR	T9.Done
JMP	Drive_new.S2

// Rung Drive_new#10
// Offset 82
SG	Drive_new.S2

// Rung Drive_new#11
// Offset 84
STRNE	V100	MHR410
MWX	@IntSerModbusClient	0	0	1	6	2331	1	V100	0x0	0	0x0	C108	C208	DST511

// Rung Drive_new#12
// Offset 99
STR	ST1
ANDE	V100	MHR410
MWX	@IntSerModbusClient	0	0	1	6	2332	1	1	0x0	0	0x1	Drive_new.S2	C211	V1006

// Rung Drive_new#13
// Offset 115
STR	MHR1024:1
AND	MHR1024:0
DUPBOOL
AND	MHR1024:4
AND	MHR1024:3
JMP	Drive_new.S3
POPBOOL
ANDN	MHR1024:4
ANDN	MHR1024:3
JMP	Drive_new.S5

// Rung Drive_new#14
// Offset 125
SG	Drive_new.S3

// Rung Drive_new#15
// Offset 127
STR	ST1
TMRDOWN	T0	D20
COPY	0x1	"4 0x0 T0.Acc R1 1"

// Rung Drive_new#16
// Offset 136
STR	X38
OR	X34
ORGE	$Dome_encoder.iReg1	D100
MWX	@IntSerModbusClient	0	0	1	6	2331	1	V101	0x0	0	0x1	Drive_new.S4	C208	DST511

// Rung Drive_new#17
// Offset 153
STR	T0.Done
ORNE	MHR411	0
ORN	MC100
OR	MC700
JMP	Drive_new.S7

// Rung Drive_new#18
// Offset 161
SG	Drive_new.S4

// Rung Drive_new#19
// Offset 163
STR	ST1
TMRDOWN	T0	D21
TMRDOWN	T11	D22
COPY	0x1	"4 0x0 T0.Acc R2 1 0x0 T11.Acc R3 1"

// Rung Drive_new#20
// Offset 176
STR	MC700
OR	T0.Done
ORNE	MHR411	0
ORN	MC100
STRGE	MHR415	120
ANDGE	$Dome_encoder.iReg1	D101
ORSTR
STRGE	MHR415	120
AND	T11.Done
ORSTR
STRGE	$Dome_encoder.iReg1	D101
AND	T11.Done
ORSTR
JMP	Drive_new.S7

// Rung Drive_new#21
// Offset 205
SG	Drive_new.S5

// Rung Drive_new#22
// Offset 207
STR	ST1
TMRDOWN	T0	D23
TMRDOWN	T11	D24
COPY	0x1	"4 0x0 T0.Acc R4 1 0x0 T11.Acc R5 1"

// Rung Drive_new#23
// Offset 220
STR	T0.Done
ORNE	MHR411	0
ORN	MC100
JMP	Drive_new.S7

// Rung Drive_new#24
// Offset 227
STR	T11.Done
ORLE	$Dome_encoder.iReg1	D102
MWX	@IntSerModbusClient	0	0	1	6	2331	1	V101	0x0	0	0x1	Drive_new.S6	C208	DST511

// Rung Drive_new#25
// Offset 243
SG	Drive_new.S6

// Rung Drive_new#26
// Offset 245
STR	ST1
TMRDOWN	T0	D25
COPY	0x1	"4 0x0 T0.Acc R6 1"

// Rung Drive_new#27
// Offset 254
STR	T0.Done
ORNE	MHR411	0
ORN	MC100
STRGE	MHR415	120
ANDLE	$Dome_encoder.iReg1	0
ORSTR
STRGE	MHR415	120
STRN	X36
ORN	X32
ANDSTR
ORSTR
STRLE	$Dome_encoder.iReg1	0
STRN	X36
ORN	X32
ANDSTR
ORSTR
JMP	Drive_new.S7

// Rung Drive_new#28
// Offset 286
SG	Drive_new.S7

// Rung Drive_new#29
// Offset 288
STR	ST1
MWX	@IntSerModbusClient	0	0	1	6	2332	1	0	0x0	0	0x0	C111	C211	V1006

// Rung Drive_new#30
// Offset 300
STRN	MHR1024:1
ANDN	MHR1024:0
DUPBOOL
AND	ST2
JMP	Drive_new.S8
POPBOOL
ANDE	R0	0
JMP	Drive_new.S9
SET	MC112
STRNE	MHR411	0
OR	X40
ANDSTR
ANDNE	R0	0
ANDE	MHR411	0
ANDN	X40
JMP	Drive_new.S0

// Rung Drive_new#31
// Offset 328
SG	Drive_new.S8

// Rung Drive_new#32
// Offset 330
STR	ST1
RST	Y9
RST	Y10
TMRDOWN	T9	10000

// Rung Drive_new#33
// Offset 335
STR	T9.Done
DUPBOOL
STRE	R0	0
ORNE	MHR411	0
ANDSTR
JMP	Drive_new.S9
POPBOOL
ANDNE	R0	0
ANDE	MHR411	0
JMP	Drive_new.S1

// Rung Drive_new#34
// Offset 357
SG	Drive_new.S9

// Rung Drive_new#35
// Offset 359
STRE	MHR411	0
AND	MC113
JMP	Drive_new.S0
RST	MC112

// Rung Drive_new#36
// Offset 366
SG	Drive_new.S10

// Rung Drive_new#37
// Offset 368
STRN	MC700
ANDN	X40
ANDN	MC3
JMP	Drive_new.S0
RST	MC111

// End of Code Block Drive_new
$PGMEND	Drive_new

#BEGIN ELEMENT_DOC
"X16","Door_locked_in","",""
"X18","Door_closed_in","",""
"X24","Ctl_lights_in","","Control room lights current sensor input"
"X25","Utl_room_in","","Utilities room lights current sensor input"
"X26","Spec_lights_in","","Spectrograph room lights current sensor input"
"X27","Mze_lights_in","","Mezzanine lights current sensor input"
"X28","Plat_Wlights_in","","Platform white light current sensor input"
"X29","Plat_Rlights_in","","Platform red light current sensor input"
"X32","LS_NW_in","",""
"X34","LS_SW_in","",""
"X36","LS_NE_in","",""
"X38","LS_SE_in","",""
"X40","Estop_status","","Shows if E-stop is active"
"X47","rain_sen_in","",""
"Y0","Ctl_lights_out","","Control room lights relay out"
"Y1","Utl_lights_out","","Utilities room lights relay out"
"Y2","Spec_lights_out","","Spectrograph room lights relay out"
"Y3","Mze_lights_out","","Mezzanine room lights relay out"
"Y4","Plat_Wlight_out","","Roll-off White light relay out"
"Y5","Plat_Rlight_out","","Roll-off Red light relay out"
"Y8","HVAC_flag","","Flag to stop telescope platform fans"
"Y9","Brake_start","",""
"Y10","brake_mantain","",""
"Y13","PLC_Estop_releas","","PLC reset e-stop output"
"Y14","PLC_Estop","","PLC e-stop output"
"C7","SMTP_log","","Sends information to dmlogger when smpt message is sent"
"C13","rain_time_done","",""
"C100","","","Success read"
"C101","","","Success read"
"C102","","","Success read"
"C103","","","Success read"
"C104","","","Success read"
"C105","","","Success read"
"C106","","","Success read"
"C107","","","Success read"
"C108","","","Success read"
"C109","","","Success read"
"C110","","","Success read"
"C200","","","Error read"
"C201","","","Error read"
"C202","","","Error read"
"C203","","","Error read"
"C204","","","Error read"
"C205","","","Error read"
"C206","","","Error read"
"C207","","","Error read"
"C208","","","Error read"
"C209","","","Error read"
"C210","","","Error read"
"C211","","","Error read"
"C212","","","Error read"
"C213","","","Error read"
"C214","","","Error read"
"C1000","Roff_logic_sel","","Roll off logic selector, while tests are done"
"V100","Drive_speed_a","",""
"V101","Drive_speed_b","",""
"D0","Overcurrent_lim","",""
"D1","Dome_move_tout","",""
"D2","curr_delay_val","",""
"D3","HB_err_seconds","",""
"D4","UTC","",""
"D20","Tout_open","",""
"D21","Tout_open_aprch","",""
"D22","Topen_apr","",""
"D23","Tout_close","",""
"D24","Tclose","",""
"D25","Tout_close_apr","",""
"D100","Open_count_lim_1","",""
"T0","Dome_tout","",""
"T1","Curr_delay","",""
"T7","Rain_time","",""
"T8","Rain_elapsd_time","",""
"T10","timer_500ms","",""
"T11","T_countdown","",""
"SS2","filename","",""
"SL0","DMLOG_new_read","","Modbus variables new reading for dmlogger output"
"SL1","DMLOG_MOD_OUT","","Modbus variables sent to DMLOGGER"
"SL2","Log_Filename","","DMlogger log filename"
"SL3","DMLOG_saved_read","","Modbus variables to be checked against at next cycle"
"SL4","SMTP_Error","",""
"UDT0","date","",""
"MC1","Door_locked","",""
"MC2","Door_closed","",""
"MC3","Local_enable","",""
"MC100","Dome_enable","","LVM software motor enable"
"MC102","Motor_dir","","LVM software motor direction"
"MC103","Dome_Tout_stat","","Roll-off timout status"
"MC104","Dome_Tout_rst","","Reset Roll-off timeout bit"
"MC105","NE_lim_mod","","North-east LS modbus output"
"MC106","SE_lim_mod","","South-east LS modbus output"
"MC107","NW_lim_mod","","North-west LS modbus output"
"MC108","SW_lim_mod","","South-west LS modbus output"
"MC109","Dome_closed","","Dome status closed"
"MC110","Dome_open","","Dome status open"
"MC111","Rolloff_lout","",""
"MC112","Rolloff_error","",""
"MC113","Drive_error_rst","",""
"MC200","Estop_stat_mbus","","E-stop status, read on the secondary electrical panel"
"MC201","Remote_estop","","Remote E-stop"
"MC202","Remote_estop_rel","","Remote E-stop release"
"MC235","CTL_room_tog","","Modbus control room lights toggle"
"MC236","UTL_room_tog","","Modbus utilities room lights toggle"
"MC237","Spec_room_tog","","Modbus Spectrograph room lights toggle"
"MC238","Mze_room_tog","","Modbus mezzanine room lights toggle"
"MC239","Plat_wlight_tog","","Modbus roll-off white light toggle"
"MC240","Plat_rlight_tog","","Modbus roll-off red light toggle"
"MC335","CTL_room_stat","","Modbus utilities room lights status"
"MC336","UTL_room_stat","","Modbus utilities room lights status"
"MC337","Spec_room_stat","","Modbus spectrograph room lights status"
"MC338","Mze_room_stat","","Modbus mezzanine room lights status"
"MC339","Plat_wlight_stat","","Modbus roll-off white light status"
"MC340","Plat_rlight_stat","","Modbus roll-off red light status"
"MC600","HB_input","",""
"MC601","HB_ACK","",""
"MC602","HB_err_out","",""
"MC700","Rain_mod","",""
"MC900","Eng_hw_mode","","Disables hardware safety features"
"MC901","Eng_sw_mode","","Disables software safety features"
"MHR150","Dome_enc_count","","Roll off encoder counts"
"MHR151","Dome_enc_scale","","Roll off position scaled to mm"
"MHR152","Dome_speed","","Roll off speed scaled to mm"
"MHR411","Status_1","",""
"MHR415","Im","","Motor current"
"MHR600","O2_pct_utl_room","",""
"MHR601","O2_pct_spec_room","",""
"MHR602","ODH_EC_utl_room","",""
"MHR603","ODH_EC_spec_room","",""
"MHR604","ODH_SB_utl_room","",""
"MHR605","ODH_SB_spec_room","",""
"MHR700","Rain_el_time","",""
"MHR701","No_rain_cdown","","Countdown from 15 min with no rain"
"MHR1024","Status_2","","GS3 drive status 2"
"MHR1024:0","Status_2:0","","GS3 drive movement transitioning state"
"MHR1024:1","Status_2:1","","GS3 drive movement status"
"MHR1024:3","Status_2:3","","GS3 drive directiontransitioning state"
"MHR1024:4","Status_2:4","","GS3 drive direction"
"Drive.S0","Idle","",""
"Drive.S1","Motor_start","",""
"Drive.S2","Motor_moving","",""
"Drive.S3","Drive_disable","","Drive is disabled due to local mode or heartbeat"
"Rain.S0","Rain_idle","",""
"Rain.S1","Rain_timer","",""
"Heartbeat.S0","HB_idle","",""
"Heartbeat.S1","HB_ok_wait","",""
"Heartbeat.S3","HB_error","",""
"Heartbeat.S4","HB_wait_error","",""
"Drive_new.S0","Drive_idle","",""
"Drive_new.S1","Rem_brakes","",""
"Drive_new.S2","Start_movement","",""
"Drive_new.S3","Open_roof","",""
"Drive_new.S4","Open_aproach","",""
"Drive_new.S5","Close_roof","",""
"Drive_new.S6","Close_roof_apr","",""
"Drive_new.S7","Stop_movement","",""
"Drive_new.S8","Set_brakes","",""
"Drive_new.S9","Error","",""
"Drive_new.S10","Lockout","",""
#END

