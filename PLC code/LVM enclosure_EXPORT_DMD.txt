// Options: Export entire program; Code Block delimiter instructions;
// Formatted Rung Comments; Element Documentation Database; System Configuration;
// Memory Configuration/Devices with Built-In Types and User Add-Ons;
// use Element names (no NickNames); rung/address annotations;
// <TAB> parameter delimiter; 
// Write/overwrite file C:\LVM_Enclosure_PLC\PLC code\LVM enclosure_EXPORT_DMD.txt

PLC H2-DM1E

// Do not modify SYS_CONFIG block!
#BEGIN SYS_CONFIG
831901a0d0e91b01d79b7e98816bae827cf32e9f0d98681bd6ed3f08a89536a2dabce095122b0f73
f573dbbf26b170bd75e894ba45b4786c405e61aa5fb31b592304c90547eeb7de0b7924ca0c0d8bf5
635260a651d8b987cf627b2c8f14eff735512f24ac3d8c4d576ce44e473f3b482c7ec341d5292e0b
747995d5d0e08b82a6cffa27dfa7f96dee89e7cc6cc8345c066f1c034481529a281a50136157ee27
16d572f8fb473a13e3f3e58cc9f6dffd7658f8bd7047d6134e332b0f19bcf609917e9ac0d96d4a25
75259ed79e8c109d8306858d8bcedc052a9bbe30d7287008ba4d1459527e08495f59d2e1a23160ec
f807c0c70bf4944249299c99f8a49861f8c63eec1de74d66c69bf0a8b2ea1505b53afb2ba56d90e3
61f2637a7f4600e3b42c4483fb52dd3684dafa650e305d44bbdd438bb325a2872384dd6b87462970
5e1ceb0fea89796a960bca524c6bae8e8327f3537990b7e0695424107d7201edb099dd683d2c1a96
a1dab5c3847e03c67b3b254c859ac417afb3d6769d47ffb0c5bba4b94250d12adc5fd95426068c6b
3ce629c3ce3855a978d870e1ca28dc24d8a5c9393c9197a1a0aabda38da69291d8591a539fc3df1f
5a657bf9f843df9eb81bf34202ee1db02b6d8624b31505546a9b3863b5e239fdc62d389cc533549e
48f3eb23cf2c5a731e4c1598896c70ce0236b90c7c7b6540048a24d41ed1b115825aa37c5dca66b3
8eb84743c8b0bcf757af21e3082633e50a7f153654086524d3f3a577d8f936e2a65cc9ba057cecdf
0d4c9e6f909f3a027bf4d666e5f997cfe878e7d6374eb6565cac7c90c7824e4223489ad08787cbc4
2cc3536ecca155d8d654e51e99133295b2f6868091566edf627b9272451118465938d4e9bea99d7d
b67060841ed3998742810c292315e624e072211985d4f5849505fb9e43c45aea3a2e37a6251da602
be4f430a808659ce4593457fcecf4de73bd2e2fc8b8f70a8d4e8a92c71de513c9acdfbf3bab6ccd6
40373feb5e6ba4f3c6926ccef2818e35c7d42e6aa43510a080d726cf286f79db33c6440eb6fa6fbb
eb3d5d1618393f1362ee750e8ef2d2d8df00f28e88bf125d261a9ad9d907b52726bbbee9501b5a05
2d6c79ddd38521312fb687a25bff9f2a71d85c2c45535616a095dc77eeb5ec9bb15498b3ba098e41
171ed7adb8a63482810bad05b4525731391712dcbe162d120c9e5c0fd1702906a7f9b840512f3164
2a9050658e25138faf51b044a38d0a10dce2b00598b6c73f7dfdba27a56b2b0340d0b1d92ae24271
d9f29b15d870591712f2b9973fbb4ff333bfb2043a6de7ea096d164018563be55d576fe820e47bb0
b689674e597aa8407b5216ec096aa325f8d022f149f08279b59d150f5b05167bfeb4b76b7ff08ec4
5bdb1779a33a60408f1d96926e9f9790cd9e098b1e0d61d0d8c857b72aa2837d9668caa7539c37bb
d31bc4cbba71b01ca687f9263495a2cf7ad44164ee3088313e781158da8bed8036853b0c30af13e9
bc6e341c9cf21abc2489da25b9835743c3f61138403525617098d31d95883e225ba4d5bbb0f5d200
93ea4bdb1786595c1340676afb8f3fb4748dca037a137a6eec9fa67c6e3e659efbe96172c1e4ca9d
0bacec3b0671134e05b2a0270982102c8dad416de9654cf86073adb5bd07aa51a1e254a42d0c2150
126c761c729d38aab747ccf47c1fece216ad008a57ea6294f0666c10d9a7bd396894bcd50ddbb43a
712627742a48ce28a4e73cf9dfb6f0d60e8b90ca41c6f1ad4989d61df5e25df43828e278f5951674
de3f7da9df9ad66fdc7972b110b975652722256bd9e623ab7a5a07f07b1d744f284a1db6b75ab0ed
429cd9b63497559f047a6a67d30dbce6049991945c53413cd6f41c03fd28cc5148cdad0bc31b6c42
7f0f4ae799fe00b350df074adf269f404c530fffbaa34e4d7f294c31dbf56bfb3a28b68786d511e5
d7479956bec547c9f03cd2943cb589f3f7fa698dd0cbac6a33983137cc18c8c731953c147b0c19e7
8f6845184b8b1ecdec9c63f3d43abfefc975fbda9ae36ffe4ba40aece070f01626ef72c233004005
e06c8fa1d5ee17b38cc992fad07a39417f31bf45b38a828ebeff4756108ee93622917488b362396a
11266cd6ae7f1a9e7a4b4de74df2ea03cb04c4c7b52706ce235baa7b16cba84bc2ab42ec96da15da
2295e2741ee1f6be2c8bb9aeddf3f6088728fb25368c4b55f37c96359df2e1a0fb127d1b8da0dcf4
cb61e4c2230bb2f79eb2ada1c5dcbcadbbe600cea7a198392221367076c8da3e13356ca061825890
9949a9037ff37ecfac769b9e7260393e516a616efe223eac69995c0029ec78c831cf18cd6dadb38a
e3e8c2ce278bdb968d413bea6e6f75019341b97c909bd25b39b5f9853dbc840d537d6c001f85a68c
3ee8009979f7613e438d471be49a4715865d50c8c9915990d9dd14e8458ce60fda6acd1ffab1543f
f3c0d713ad0b5d37db1430f9e352049d689ab6289aa735b906e06e84eff08a86964e920d7c1cdc61
1cfa6e60a8c96551e45c23a980b8c0cb383366b13bed47b23cad8ced579ea9151836763ca4e39e42
88e1b805143d18dadab3630807241d06eb899b3703be77c8a963771a0a5d429df1fcf6a471c61f08
37df0986909d203476454279020c1ace0f7b64633e81b64f20e9f3dd320673ac7af73122d5adbf9b
021f37062d3b499407bc24637ca963bdafb0407c56a1096bf39ba351c6a347b814fdccc4aacd9e20
fa83291959e164453e6c616bc419bd6fe6020f142cca1d198cd4d10bf03f3764b05075812d1e32f9
d331dd726c93d88358d6d367dc74ecf4a39331cce92cf5b1e9d69be630538898a5bbaa0b5b79a6ad
4ef13f4245e50decd2ae662165c2fe1f84ea0739bb19b775b87ee893832ba9d833d4e644b8bf32e6
83a29487964407a6f76dd328ae8c3d90d19f58f6cab9391f152e2ff0c243b23e77111785eb49191a
493af322495480d7f488c14d2aebda40c8929ebb0e0b3eaa33961df95b6a31855d0dbfc16f12cdc7
09e2388d31c7d4ce865a94aa5a5bbbf320f6c28a640d818c895877d24333c8c193e6472ad66cbc61
e6d45cf82fc0b0c0a50b1dff36bd229cbc049d4075e42e6121a44dc5479315936237aaf3712d11c0
86f8115af0b7e6bfde62351cdc464891e4a68a3943bb6ad8b8caf2e37ed887a269d5b393bb72ce1e
5ec61f2f84438a81b82b76c6fc02fecbf946d143b345c02c2640a88709a510e532f954748d70aa43
ec41ba11f38d640ab1f3689f9390705f7d05908cea8289df3d8891f52986fb3b47350d1cc9147248
2c179ca42c2462c822bb0a36ced8e6ac3e75f49d5726e760935ec59dc660a8a09339acaab5385abf
b7968f74766006149809bc13b1ada76433fd2fc27f7f74fb8751a10d4e9a5255b78d25cfc5a34b07
7b09016fdfd0a953acd6fd75afc5f862a7ec2c834e5d134bc3dee3017d9c205834568e35edba674a
91a3cf0a950e4cc9816b57b96e7dc70b7dd8168ffed08bc3f7486471f29eb77a8a5e8b370ad43f42
471e0bd5a75b990c841e487764f0ac4fb42344fc1266676c6b102eaa206e8ce9e38a4883495e8a20
31f5f2439ecd7a2db2aba3764c2ab9928a2eb28212b24a77f9bd6a84faff8f7d1c4094d4940348c1
80e4818fe999461002a5bccec669e43ec20d645be61606fccaa42f113f727f0516122ae3d5d9e784
3e77e480e99aab0bf3a395cf205885a89d0fd28c297deeaba629ff2dbda68bd7085e4cc7de4db036
71cbe7c6dd8b6d4d3efc3e159e45af141e9de7e2926263907a7fe66184af47d0696967336890af12
a2b2685e30bb456beaab4cb8ba43fff7f2cbccc576c497bc084bbd6b18b3f4a6b01a51259b564509
911c013c1e67b2e33d9f8e4c27bd0d0299b2436ff0c1b316188643b9184415df4bfc95aa17b7a74d
7b159e406e030e7467b30a85034daf0a1b46f9614ce21cb6720fbc2089aa3a28ab7754e25d7708d0
f9d03d1786bee5182a219b47a205b948e97f7f46880de8d038afd6c5ffa08af52d925b94ef519c6f
2527bffe19edf1a8c5fd8d2ad6daa991fcf89c7ca666a2a514b5a73308523ba98ec997ae9a81d9a2
2b924cb832f338abb15da1c7b582458274c045a584b104a933c80f903073b8c6b6d0030fe8da3548
549ff27a46ec73fd75636d300468a0d730ac21adedeecd543e2dd48c146be57b6b360fc61c15dbcf
b5dfa98801dd74af9dc9d9cc133de061a18d1c0c9e1bdcdc27aa889a0672186f945b77d41ecf3dec
8aeb52c47b02b1c88dc4eff675f3e885230325f4a1b2c504851da254caa1f3641e1a126027e6e6db
1594f101b0bd12249261a93a19c164cc5aa31f200ee3130af9ca94dc4ecb0aa5327466f1e8b786d2
21652d150fc6860a7faad34bf40248c27ac6f72153a765246c512e62f3a1633a526689a5f4dec3f6
1473fa3c41bb3a5f9a4a411ea1a29b4bd710d316dc374a87d452e46fdbc2dcc650fe29d2cb8287a0
00464e6e1c516fcdbd4426f2b4d853e9d5a493f0152c8d8fd36638f494d79cf3558f0eee125a65f0
4143e3298930381caf4a892f4837265d41a7c2bbf153e6413c260fdeb8cee47653aeba4980a13e12
e6da161c8ba6add4b64d3284a83bcefe9802db9ad8c5943cf7831a11ac0db5563bb894d7dc5a2eb6
666968cddb718755e21b5ae52c73bbf9b06e37a696831cec109119e70e562cc3371bb02e3227d689
aae7a1a7095453673396aa18c5b9e7961e75aa455a0bc4ae358a371c1a2e7adfd6f09e3f573dce64
0caac7a9a3e39be81dcbddcc75021fae611d448db50ef2ee66d89645c47b60155065e703927596a0
d9530acc59b1d46c818ba76a4425f7116332f4d545d01fca3e2a29e15f831a2e8396ca5f98d592c3
497c3fe2d825bbccb4a1d0c3bce83465c86aa0a3e4b533128217d80df92de636733270aea8a1c36e
893d8d77e41e9cdfa1f94e1496a0bcf73f84983b67f7b18c6e5d30629075c190d215aa125aec81ef
b65e56434c028be162ccb94b117810301d6f3e0fcda9a8d03c54bc3ec4f20229e2a62e0952421908
80253967fe0f1983b2c40b1bb17e03368293bf8e23845c2facf233051df45c174e116193e0cc23ce
2d3b3431d5e7043a8ddd2413e315553adf63676cae8f3db072d1d32d7c2d4bf08c11efdceb42878d
082dbb40805b78a06152ae36909a8c6ed3e0df36dd7d7e6dc4a9fb93fb9b86a7511f57db2a771480
eab30d338438e922eb80d55bb8078a0ce57f1bc8c2ca2c29a4ef67d9d2aabb0c1b534cb74bc06de5
b03041c0c0279c7579a1dae697cc4439198e39a5f8dad9838fc6592ab5a60202da4a14015ab2db98
be3b89d3506afa6af0aba514e98e2dcbfb5af4f3b545a629bca879e445356380dbdace1cbdb3e539
40a70859c98704dbad684f9211ee32fc29df170b420e637d99a79da5eb75cbb5418780d6e2668739
18481f2cfd3c0c44b651b33a5c8f30f2d7774513f3004f2effc3eb6ce8abda67f5c96c13e588be30
ea7fef69022e11d1dfc1de10f0c72184648750d44bdcda240cffec5976062f4ec6e1b87391023577
2f4f3a86505b22e1e9bbfe61b41dc3232b7baf841bcbaae35d87a6643e954f96c16211b30360a20d
e505d15ffde00bfc6ef4f3fca70e82597362a54e862d35c4ea9f44ac68c4b92e1efcdf135a8a96df
b11a6da4f68edac3ad0541bfdde885603b6d58b15d52a0b2f4b7abe8ea3ded4c29893ee08611b5df
ffc2e61b0160f51c444cf1ebde489f1fa17a905cd7147ffed2795b482b82d895f4a62957a51d62ba
8c12f2fa3157ccadb0d1cd87998cb4f233fbbfe9b5efcda464e2750d592ca15cfed2907c64b23dd6
0cbfdc2aed3d5e740352f3d26be68eaa6eb297a46587defcdb7e1a9e1e836b68c7f1adbcaaf56d8e
a5d698baabd9d68e43e399310b5a45c9652e6621671836bb502ecc7eaaf41de900631b3ac5972c86
9e69021418aa245f368ed1d585f27545a25c45482223d069a9e36ecdc912065dfeabcc9327ae3c15
db92a67b157d15fe7469722ec573a72b56d39c56021561221b23b10463f087bff55f616d77f33436
3ab359cd907d0f7e2b717bc1d824cc50b22556b7a45fe99ee27165e723545d73e7c5ef9c531a0571
0e5e41bc4d5a23b57628e831a1c973115f24efbca1fd258baf4675bfe7d3b9df83a268dc2833480d
e3cdd062aa7a63e384a63116c73c501c08b950b29cf14982ba626f4a85bda55bc4a5c7dc90853a37
c36d8d437bfdb642bd89b264b68cadc5835a8fd9d77b929c58a4b085c1555332495c5205f5c5e2b5
1b87f38e890aa4c91b78b0074cd3e5f8c249d90c8a78153c33af69485ded8427041a17781a184578
75ffb5a02d9b236c95f0dd0a3fdaa6f5e994e8fdf3c4946021fb1400db859ffe6c75bdf1ee446fa1
ae1341861ba18b570023d82bd21a4df53c9cb7c6617f724176bacdd86659744f0447f26bd964ad29
31e17dec0c382ba2f2c7bb67c7b0a539daf24d820cc222a031bbf52bc53973b738d9c8b43a9abe73
ad808a442ce9c1f6936cec66efc7309b527bcd322ecd1a7fd768bddaa5bb7af84613a0b51b402555
baa544ddf73f841f5385bffa55939d35206468f405da0cc1fe163a4f3943f9a1d03222c35a9fde4e
d018cc4353504b461c0acecc4bfd3dba88ed295639c74528127a4f0394af62735cdf6fcfdca2b095
7a0886b6305c3cbd85ac93be1dbfd9e55813b8455e68ce4adbeee8ba24c9f509eaf3d8308b0f4593
ddd7a45310a15897c59ddd81c8f29700301ee3adc062f0ca4e143427d9cdf8ec21ae9291e6d6ee16
254468e1aff68bb9919e38c246eeef6791003c5a51aa5ea23d929bd632102a593842a7bb39b77d6c
75d5d1ce5ac04cd57997c229c5909eb99ed06d7e60fc8bdac85161db1daee6964fe7fb179aa6d6a6
a892a9216cc9989da78d01bf3ca5de4267b2eab26c43c41b39d8b128009761d576c5ee8910cb7153
c861380556555a543964eef2c38571d2cc4ecf75d5eaaefbd5f2b14c094b476a8ca8a9f23bbe6da1
052516d4f5a29d2567756105cea037bef275e04a27f559db10513a324188b9d4e69108a1422bb987
01eb7ac38cb7d0e01e3b7803d6f801f9a24c60e1a34af150474d54894d1afa33b79f19d870a2a4be
2a2d5a4161ba4827259ec828bf553227ab15cb9442560a3367d9598d5d1fd3c6df66258093bd877e
19f4664df97b19641ffee713901c0e1c71ad2f021cadae1a7733ac381808caba391c144e6969089c
9e5d88d13944a5df839fd7086f256b49b12eb374e433d1818989a98a1f3212d8c76cdc8f0ea733b6
911e95d3bce8c02d7bdd9dc5aeda39bf61a3d439787f3537f7ca956d2e8a7b9fe64b88dc8064a9f4
3c526f3b7aada91609d459d62701d48be4410a1a30f06ab469ce21be7dec92b4b50b48a5d088b6c3
2200205167612a23e9f4d56c3fe2c3c6d8b5dc1d0d3705cad78c1d7578dce4b1b5de65d3d57079fc
d84bf988f7dc751d9cce9454cb16f7983a3ec173c5536d3b3ebbdafe8a945fbbba1c72c857ead23b
5be0e6295c461810b093bb6516a1c98d05efc4c329b4a60727a7c171b088bc964795c315f139dcfb
e2d5760ab5171d84319e9eae88a95d220cc2a80e8387a601394bd3da5436b23d0a375f28d55d109a
decf4ddc779bcb17fd90fc68c238ada83eec708a1157442016f14b2635003e7ff7a4ce6505089da3
9e0dd82bbe677e2f052f1b7e8a6d99bf8eaa5fd54d1139d13ade50ac869e34364501ac546bce1930
1ee97c88013db7dc47ec26ceb6771bc5f38648b67b6846136d95faa97b5de553644f4232570ad850
e079765db05daedf1fec0db2ef83d24c284425adf1215aa18424310170975fad02f28966bb8d3d75
a9d9f53f475e261d5787ff4e60f5fb7bd54c802556a892ecc2e10f70596b60f9d6b3ff02defc69db
b3466460cd90b0a71af7060523300276df7e225b6d1b3cac83dc4a9f0324dac32c3c62dda7349b53
9cc37752834ccdc9ed07181c89250fc1ef5127b169d674877a0e534fdc5c835ff1de36bac84abfd1
dccca943f2c4fd72311d70f14527f26e2a8bee964c1b7df55b81ea62d643f87994ac531dab00234b
36cfb57111391bc487aa56975bfb8a42c47c5a4b2958bf1a82727da40176f127cc7a8a15002bbce3
1611ffb66ecd1a0893d25071babc59e1f3eddf0a84c9b803b1101d8d3358deb1838a5b9618424d17
1283201edce2efd775a308a186d573e92dba013735117b9bbfdcd410b3046bc695875210ea5a1388
58c8e95c7a5a0feef83fd7d6d66233acea15816d65c04e4e9eb2107a07a01ac73f5b6ae9303f8799
de08d74007f99883e5992b68b2ee3a6282acf3b0147c68fd63bd1f07ff0673daa23ef0d5d0c1cfbf
8b3054c62445dd03255091d8953feb4b6a29fbff083b52c5a52767e40a42121804f69775cebe03ce
81ee51b2c391fd804af4ebbe3fe28fa44233d55d9883944a6bb0d60e645c42c77a4668c13240bac2
cff0ac39183cd40399bab7138d5945fca316839531d07e48dbfbf499069a4922d65c7d95863fb802
de3f7eaee75c5fe94ed1c57ebf10671786f39640d95def49da6aa24d4be2b356969a756dce20b812
82e94aef169d88f5138092e12f80c504bfdc8a5f23713da0b352f45fafa84a06a70eed08b10bd833
b5906ea5e23714761730c5add9b9fa07838a66d28488b4735676f52659fed37d9856bdce6441c63a
e94e37d480428a9bc440f6c7d0267345dd1655f986c22cc82eae73115b341c7ff64f0e2580a4b0c9
03744ae4a5e8c1fb03a98400cd6c7842af093ef32fca154624ac6e5531a4d584a26e22bcf3645e29
694f77a8e2fbb49a3300f055232b20e6ddeb77734a12fbfc18e0b9278cc4ed7e5b3581bc2e5e07e0
8a8b1521794f6f35918dc5a7c570b291e10d2e7fa9e9ae28877d676c0de22c02d3ba2018f44d3bfb
60b20377aaae9a3c1eaa1f93ae6d99aefd8e32e024ad8c3888c1c0f5a585dcc361dd32994251c001
aafbc9535460bd41fa45675764da9aca6bc4616c90836f6d0aa4794eb53a1580e0bbea9c2803c56a
87ecdec549b18d220eda5b0c369a3335f63d26985ff317583a1b04ab3960cd110708202ccd4f4f3a
55a838f81cdfb01c53e6316049bb7533c8050dc5a4d83fbf2c090aed2f8f9fce24074612297ca70d
060f2ccaa39c5b60c20a5b41148afc689c8e9997cf26447872c9a9fa259a4ffb94dcb6e7270159f9
bee81cbdd820943218270abc97be36c2e1d042bb4c142b70b2ecdf94a24136fbd44bd4c58d95c1f2
1c9c677b8c262bc7f79e88d576de1fc65af4eb4bef2a956b8616ef8d3af0849716832b3f49c27ffb
99d3d9ef9989f613d1c30bdc4fd6f689e10cc2ab050db7aef281633a5174b3f128d0b3a3f62284ac
1daef203a9d70f4af32b7468e3a7e74e5173231c8fc665034c087958133685a42e8825536f1a10e9
fc34d4cc9001b39ba79ae687856f1d3d312c8223e287d6b4f7a1c57b441111435276c8b623534667
0a39d8ce478f6de1cce10245a4b99066bbdd84a80e75735bc1d2ee502e569ab6c1e93816dbec157a
adbc89eb46b3d3928a59836da7c115199537a2433e2b5963742bdba0f2635c40badee4fc3237e60d
7183951038b82d39b47ebee901416b73a26d598ea5b50e6137f913ae86670cb8b3403deb6f482a91
475850f0a59c7907f0aece2ed1c59507ef035caa5e953b00f443bb4ed49d5240acfe7bf6cc9e3181
bdd4a723a8c0640a2db42049d4df72135c93ef0c18b5f24f0fa57da8737a6980b099f1f94ee097d0
4ab421254cb936e1cefe3660f1391a505125ee79d63474fada472e63bb26dd767ddd98bf5a5ea638
9efd5aac28fac9c8b7d32b2c8437db62615d361c332633367cb90c1010309e9a6855a1bddcf549e8
dc1d350267f247d287b5fe6650a4abccf3069b5a5832f3a96530eb2fcf0f2cf2c1eba75adfcb25a2
4e51c26ada727562351560bb13fc67a529e489d308b7d1ec5540235132517798a52074c384b4daab
7cc30456bb59cf3c682cdabff3126db8e7d3ba4d3301753abc3ade22b4d77217ccdfafe0d7374bb4
ba65f6045f38ab4623a91f2b5703fecb69a751759bf84145f7197ff32ae723b344932ab4538fa130
fb2e310bcadc462cd68c7a442ea33849b4f2886ffe88b6517c735b8c17c2170f061c7890732d2747
7ab2244071ddf05fced29a39b7f4d6a091a522aa5fdd3c6fd422ffdaf320f1d548d2076fdf504f96
0303c095de75320e8dfbe27de285f18b327f884bc7c94e94bedde7d61eb900c86b7b2a11642a676c
e3db1ecf350af671997075d94c456312ff0b65c7eb56f067846416023178a947e2fd90ffee23d8dc
906f0a1dd9d73915a3033e814fda875903c2ab50af435b3d617a3fb9d17b4d02b0ef8e2932ad94a1
0a336deb9d4d888d93aef9126fb2803bf206dadc9795bad0d1252ba7c25c760798695a2a98ff574c
d0c0cebff21d8aa94f7f9c5babe23581cc8dadf582147e766ef5dd57192c693800c1a751b7da99b4
479a20baa0a003d282eb5b232b85ab01bb0a5feabe3a462ea622de00d5c5c17a5619c2a82f2e6b3d
614e9c2590bedb3123eb1134d5a17d78aeb718a6233db8e3d444198353d674b14126404d5af1ebd0
b63d882f9477dee64bf15dbae1c25c3d5ae8c2a39be94cec3c00a93196d1e95fcf8704f8332e9fbf
5684d7a13cf8bb4e0db5dc3f8bef87cb8f0256bcd709619b0ee1b7b390b8c0eedc17d1fa88d6cc6f
606c46f756e49514b6faa15349e492
#END

#BEGIN DEVICE
	@LocalIOMaster, 12, 27
	@RamFS, 1, 1
	@UserLog, 7, 11
	@IntEthernet, 4, 2
	@DMLogger, 5, 10
	@IntModTCPClient, 9, 14, 1000, 2, 60
	@IntEIPClient, 22, 31, 1000, 2, 60
	@IntEthDMPPClient, 23, 32, 50, 250, 2
	@IntSerModbusClient, 8, 13
	@SERIO_004_A, 16385, 23
	@SERIO_004_B, 17409, 23
	@ODH, 18433, 25
	@LCO_smtp, 32769, 7, 2347065611, 25, 30000, LVM-PLC@lco.cl, 0, 110, , , 0, smtp-02.lco.cl
	@EthIOMaster, 13, 27
	@CTRIO_003, 16387, 6
	@Dome_encoder, 17411, 16
#END

#BEGIN MEM_CONFIG
	X	BIT	decimal	2048	-1
	Y	BIT	decimal	2048	-1
	WX	SWORD	decimal	256	-1
	WY	SWORD	decimal	256	-1
	C	BIT	decimal	2048
	V	UWORD	decimal	4096
	N	SWORD	decimal	4096
	D	SDWORD	decimal	4096
	R	REAL	decimal	4096
	T	TIMER	decimal	256
	CT	COUNTER	decimal	256
	SS	STRING	decimal	128
	SL	STRING	decimal	64
	UDT	DATETIME	decimal	32
	PL	UWORD	decimal	256
	DLX	BIT	octal	01000	-1
	DLY	BIT	octal	01000	-1
	DLC	BIT	octal	01000
	DLV	UWORD	octal	04000
	MI	BIT	decimal	1024
	MC	BIT	decimal	1024
	MIR	SWORD	decimal	2048
	MHR	SWORD	decimal	2048
	RX	REAL	decimal	256	-1
	RY	REAL	decimal	256	-1
	dmlogger	UBYTE	decimal	256
	MSG	STRING		0
	ERR	STRING		0
	SysName	STRING		0
	SysDesc	STRING		0
	SerialNum	STRING		0
	PartNum	STRING		0
	Drive	PROGRAM		0	-1
	Lights	<Virtual>		0
	Heartbeat	PROGRAM		0
	Rain	PROGRAM		0	-1
	Drive_new	PROGRAM		0	-1
#END

// Beginning of Code Block Lights
$LGCMOD	Lights

// Rung Lights#1
// Offset 0
STR	C2000
NOT
OUT	C2000

// Rung Lights#2
// Offset 3
RET

// End of Code Block Lights
$LGCEND	Lights

// Beginning of Code Block $Main
$PRGRM	$Main

// Rung $Main#1
// Offset 0
#BEGIN FMT_COMMENT 
" "
#END

STR	ST0
DUPBOOL
AND	ST1
INIT	"3 D0 ST1023 75 D1 ST1023 165000 D2 ST1023 2000 MC100 ST1023 0 MC102 ST1023 1 MHR510 ST1023 70 D10 ST1023 0 MC201 ST1023 0 MC202 ST1023 0 UDT0.Date ST1023 SDT0.Date UDT0.Time ST1023 SDT0.Time D4 ST1023 DST21 C0 ST1023 0 MC700 ST1023 0 MHR700 ST1023 0 MHR701 ST1023 0 V100 ST1023 80 V101 ST1023 70 C1000 ST1023 1"
POPBOOL
DUPBOOL
AND	X24
CALL	Lights	0x1	DST511	"3 Y0 C2000 1"	"3 C2000 Y0 1"
POPBOOL
DUPBOOL
AND	X25
CALL	Lights	0x1	DST511	"3 Y1 C2000 1"	"3 C2000 Y1 1"
POPBOOL
DUPBOOL
AND	X26
CALL	Lights	0x1	DST511	"3 Y2 C2000 1"	"3 C2000 Y2 1"
POPBOOL
DUPBOOL
AND	X27
CALL	Lights	0x1	DST511	"3 Y3 C2000 1"	"3 C2000 Y3 1"
POPBOOL
DUPBOOL
AND	X28
CALL	Lights	0x1	DST511	"3 Y4 C2000 1"	"3 C2000 Y4 1"
POPBOOL
AND	X29
CALL	Lights	0x1	DST511	"3 Y5 C2000 1"	"3 C2000 Y5 1"

// Rung $Main#2
// Offset 128
#BEGIN FMT_COMMENT 
"Read GS3 drive Elements using the cpu rs-232 port"
#END

STR	T10.Done
MRX	@IntSerModbusClient	0	0	1	3	8449	8	MHR411	0x0	0	0x0	C100	C200	DST511
MRX	@IntSerModbusClient	0	0	1	3	8449	8	MHR411	0x0	0	0x0	C100	C200	DST511
COPY	0x1	"4 0x0 MHR415 MHR130 1"

// Rung $Main#3
// Offset 157
STR	T10.Done
MRX	@IntSerModbusClient	0	0	1	3	8450	1	MHR1024	0x0	0	0x0	C101	C201	DST511

// Rung $Main#4
// Offset 169
#BEGIN FMT_COMMENT 
"Copy the encoder counts output to MHR150<br> <br>"
"- If motor is not moving, send data every minute.<br>"
"- If motor is moving, send data every second."
#END

STRN	MHR1024:0
ANDN	MHR1024:1
COPY	0x0	"4 0x0 0 MHR152 1"
ANDPD	ST3
STR	MHR1024:0
AND	MHR1024:1
ANDPD	ST4
ORSTR
OR	$Dome_encoder.Reset
DUPBOOL
AND	$Dome_encoder.Reset
COPY	0x0	"4 0x0 0 MHR150 1 0x0 0 MHR151 1"
POPBOOL
ANDN	$Dome_encoder.Reset
ANDGE	$Dome_encoder.fReg1	0
MATH	MHR152	"(ABS($Dome_encoder.iReg1 - MHR150) * 9525) / 10850"
SET	C6

// Rung $Main#5
// Offset 217
STR	C6
ANDGE	$Dome_encoder.fReg1	0
COPY	0x0	"4 0x0 $Dome_encoder.iReg1 MHR150 1"
SCALE	$Dome_encoder.iReg1	0	10850	0	9525	MHR151
RST	C6

// Rung $Main#6
// Offset 236
STR	MC109
ANDNE	$Dome_encoder.iReg1	0
ANDGE	$Dome_encoder.iReg1	-18
ANDLE	$Dome_encoder.iReg1	18
SET	$Dome_encoder.Reset

// Rung $Main#7
// Offset 250
STR	$Dome_encoder.Reset
ANDE	$Dome_encoder.iReg1	0
RST	$Dome_encoder.Reset

// Rung $Main#8
// Offset 256
#BEGIN FMT_COMMENT 
"Read ODH variables for sensor 2 through Serio-4 every 2 seconds."
#END

STRPD	ST4
MRX	@ODH	0	0	1	3	202	5	V605	0x0	0	0x0	C102	C202	DST511
RST	C600
MOVE	V600	MHR600
MOVE	V603	MHR602
MOVE	V604	MHR604

// Rung $Main#9
// Offset 276
#BEGIN FMT_COMMENT 
"Read ODH variables for sensor 1 through Serio-4 every 2 seconds."
#END

STRND	ST4
MRX	@ODH	0	0	1	3	102	5	V600	0x0	0	0x0	C103	C203	DST511
SET	C600
MOVE	V605	MHR601
MOVE	V608	MHR603
MOVE	V609	MHR605

// Rung $Main#10
// Offset 296
STRPD	ST4
COPY	0x1	"4 0x0 T8.Acc MHR700 1 0x0 T7.Acc MHR701 1"

// Rung $Main#11
// Offset 306
STRN	C1000
AND	ST1
RUN	Drive
HALT	Drive_new

// Rung $Main#12
// Offset 311
STR	C1000
AND	ST1
RUN	Drive_new
HALT	Drive

// Rung $Main#13
// Offset 316
STR	ST1
RUN	Heartbeat

// Rung $Main#14
// Offset 319
STR	ST1
RUN	Rain

// Rung $Main#15
// Offset 322
STRN	X16
ORN	X18
ANDN	MC900
OUT	MC3

// Rung $Main#16
// Offset 326
STR	X16
OUT	MC1

// Rung $Main#17
// Offset 328
STR	X18
OUT	MC2

// Rung $Main#18
// Offset 330
STR	MC235
CALL	Lights	0x1	DST511	"3 Y0 C2000 1"	"3 C2000 Y0 1"
RST	MC235

// Rung $Main#19
// Offset 343
STR	X24
OUT	MC335

// Rung $Main#20
// Offset 345
STR	MC236
CALL	Lights	0x1	DST511	"3 Y1 C2000 1"	"3 C2000 Y1 1"
RST	MC236

// Rung $Main#21
// Offset 358
STR	X25
OUT	MC336

// Rung $Main#22
// Offset 360
STR	MC237
CALL	Lights	0x1	DST511	"3 Y2 C2000 1"	"3 C2000 Y2 1"
COPY	0x1	"4 0x0 DST21 D4 1"
RST	C0
RST	MC237

// Rung $Main#23
// Offset 380
STR	X26
OUT	MC337

// Rung $Main#24
// Offset 382
STR	MC238
CALL	Lights	0x1	DST511	"3 Y3 C2000 1"	"3 C2000 Y3 1"
RST	MC238

// Rung $Main#25
// Offset 395
STR	X27
OUT	MC338

// Rung $Main#26
// Offset 397
STR	MC239
CALL	Lights	0x1	DST511	"3 Y4 C2000 1"	"3 C2000 Y4 1"
RST	MC239

// Rung $Main#27
// Offset 410
STR	X28
OUT	MC339

// Rung $Main#28
// Offset 412
STR	MC240
CALL	Lights	0x1	DST511	"3 Y5 C2000 1"	"3 C2000 Y5 1"
RST	MC240

// Rung $Main#29
// Offset 425
STR	X29
OUT	MC340

// Rung $Main#30
// Offset 427
STRND	MC3
ANDN	MC900
DUPBOOL
AND	X28
CALL	Lights	0x1	DST511	"3 Y4 C2000 1"	"3 C2000 Y4 1"
POPBOOL
AND	X29
CALL	Lights	0x1	DST511	"3 Y5 C2000 1"	"3 C2000 Y5 1"

// Rung $Main#31
// Offset 456
STR	X36
OUT	MC105

// Rung $Main#32
// Offset 458
STR	X38
OUT	MC106

// Rung $Main#33
// Offset 460
STR	X32
OUT	MC107

// Rung $Main#34
// Offset 462
STR	X34
OUT	MC108

// Rung $Main#35
// Offset 464
#BEGIN FMT_COMMENT 
" "
#END

STRN	X36
ORN	X32
ANDN	MC110
ANDN	MHR412:0
ANDN	MHR412:1
OUT	MC109

// Rung $Main#36
// Offset 470
#BEGIN FMT_COMMENT 
" "
#END

STR	X38
OR	X34
ANDN	MC109
ANDN	MHR412:0
ANDN	MHR412:1
OUT	MC110

// Rung $Main#37
// Offset 476
#BEGIN FMT_COMMENT 
"HVAC Flag to activate telescope platforms inyectors.<br>"
" <br>Fans will be turned on, if signal is off.<br> <br>"
"Fans should be turned off, if dome is open (not closed) or "
"local enebeled."
#END

STRN	MC109
OR	MC3
OUT	Y8

// Rung $Main#38
// Offset 479
STR	X40
OUT	MC200
RST	MC201

// Rung $Main#39
// Offset 482
STR	MC201
OUT	Y14

// Rung $Main#40
// Offset 484
STR	MC202
OUT	Y13

// Rung $Main#41
// Offset 486
STR	MC202
ANDN	X40
TMR	T12	1000

// Rung $Main#42
// Offset 490
STR	T12.Done
RST	MC202

// Rung $Main#43
// Offset 492
STRN	C5
STRPRINT	SL1	0x4	"""#file:"" SL2 ""#"" DST21 "" "" SL0 ""$0D$0A"""
STRCOPY	SL0	SL3	1
SET	C9

// Rung $Main#44
// Offset 514
STR	C9
STREAMOUT	@DMLogger	0x0	SL1	DST511	DST511	0x0	0x0	C3	C4
RST	C9

// Rung $Main#45
// Offset 524
STR	ST1
STRPRINT	SL0	0x5	"MC1 MC2 MC3 MC100 MC102 MC105 MC106 MC107 MC108 MC109 MC110 MC200 MC201 MC202 MC235 MC236 MC237 MC238 MC239 MC240 MC335 MC336 MC337 MC338 MC339 MC340 MC600 MC601 MC602 MC900 MHR1024"
STRCMP	SL3	0x2	C5	ST1023	ST1023	SL0

// Rung $Main#46
// Offset 598
STR	ST3
DTCMP	UDT0	UDT1	0x1	C10	ST1023	ST1023
EPOCH2DT	DST21	UDT1

// Rung $Main#47
// Offset 607
STRN	C10
EPOCH2DT	DST21	UDT0
SET	C11

// Rung $Main#48
// Offset 611
STR	C11
STRPRINT	SL2	0x4	"""C:\logs\"" UDT0.Year ""_"" UDT0.Month ""_"" UDT0.Day "".txt"""
RST	C11

// Rung $Main#49
// Offset 632
STR	C1
OR	C2
STRPRINT	SL4	0x4	"""#file:C:\logs\smtp.log#"" DST21 "" "" MSG "" "" ERR ""$0D$0A"""
SET	C7
RST	C1
RST	C2

// Rung $Main#50
// Offset 658
STR	C7
STREAMOUT	@DMLogger	0x0	SL4	DST511	DST511	0x0	0x0	C8	C12
RST	C7

// Rung $Main#51
// Offset 668
STRN	C0
MATH	C0	"DST21 >= (D4 + 3)"

// Rung $Main#52
// Offset 679
#BEGIN FMT_COMMENT 
"Send an email when the lights of the spectrograph room are "
"turned on manualy<br> "
#END

STRN	MC237
ANDPD	X26
AND	C0
ANDPDPF
ANDN	MC901
EMAIL	@LCO_smtp	"""lvm-critical@sdss.org"""	""""""	""""""	"""Someone entered the Spectrograph room"""	0x0	"""Someone turned on the lights on the spectrograph room at "" SDT0.Day ""/"" SDT0.Month ""/"" SDT0.Year "" "" SDT0.Hour "":"" SDT0.Minute "" Local time."""	0x0	C1	C2

// Rung $Main#53
// Offset 751
#BEGIN FMT_COMMENT 
"Send an email when the lights of the spectrograph room are "
"turned off manually "
#END

STRN	MC237
ANDND	X26
AND	C0
ANDPDPF
ANDN	MC901
EMAIL	@LCO_smtp	"""lvm-critical@sdss.org"""	""""""	""""""	"""Someone left the Spectrograph room"""	0x0	"""Someone turned off the lights on the spectrograph room at "" SDT0.Day ""/"" SDT0.Month ""/"" SDT0.Year "" "" SDT0.Hour "":"" SDT0.Minute "" Local time."""	0x0	C1	C2

// Rung $Main#54
// Offset 822
STRN	T10.Done
TMR	T10	500

// End of Code Block $Main
$PGMEND	$Main

// Beginning of Code Block Drive
$PRGRM	Drive

// Rung Drive#1
// Offset 0
SG	Drive.S0

// Rung Drive#2
// Offset 2
STRNE	MHR510	MHR410
MWX	@IntSerModbusClient	0	0	1	6	2331	1	MHR510	0x0	0	0x0	C108	C208	DST511

// Rung Drive#3
// Offset 17
#BEGIN FMT_COMMENT 
"Select the direction of the motor.<br>"
"Off =%3E Forward direction (Close roll-off)<br>"
"On =%3E Reverse direction (Open roll-off)"
#END

STRNE	MC102	MHR1024:4
DUPBOOL
AND	MC102
MWX	@IntSerModbusClient	0	0	1	6	2333	1	1	0x0	0	0x0	C109	C209	DST511
POPBOOL
ANDN	MC102
MWX	@IntSerModbusClient	0	0	1	6	2333	1	0	0x0	0	0x0	C109	C209	DST511

// Rung Drive#4
// Offset 47
#BEGIN FMT_COMMENT 
"To move the roll off, the system has to be in:<br>"
"Remote mode (local enable off)<br>"
"E-stop not triggered (Estop_status off)<br>"
"Motor direction commanded has to agree with GS3 direction "
"(Motor_dir ==  Status_2:4)"
#END

STR	MC100
ANDN	MC3
ANDN	X40
ANDE	MC102	MHR1024:4
JMP	Drive.S1

// Rung Drive#5
// Offset 55
#BEGIN FMT_COMMENT 
"Local enable is normally open, as system will jump to "
"Local enabled stage if Local_enable is on (Local mode)"
#END

STR	MC3
JMP	Drive.S3

// Rung Drive#6
// Offset 57
SG	Drive.S1

// Rung Drive#7
// Offset 59
STR	MC100
MWX	@IntSerModbusClient	0	0	1	6	2332	1	V2332	0x0	0	0x1	Drive.S2	C211	V1006
TMR	T2	2000

// Rung Drive#8
// Offset 73
STR	T2.Done
AND	X40
JMP	Drive.S0
RST	MC100

// Rung Drive#9
// Offset 77
SG	Drive.S2

// Rung Drive#10
// Offset 79
STR	ST1
TMR	T1	D2

// Rung Drive#11
// Offset 82
STR	ST1
TMR	T0	D1
COPY	0x1	"4 0x0 T0.Acc R0 1"

// Rung Drive#12
// Offset 91
#BEGIN FMT_COMMENT 
"Set the parameters to stop the drive:<br>"
"- In case of current above 10 A (100)<br>"
"- In case of user command (MC 100)<br>"
"- Dome timeout (set to 2 min 25 sec)<br>"
"Disabled a lower value for overcurrent & timeout of 5 "
"sec.<br> <br>If heartbeat is lost, wait to close, and jump "
"to error state<br> <br>"
"If local mode activated, stop dome and jump to error state."
#END

STRGE	MHR415	120
AND	MC102
STR	X36
OR	X32
ANDSTR
STR	X38
OR	X34
ANDSTR
STRN	MC102
STRN	X36
ORN	X32
ANDSTR
STRN	X38
ORN	X34
ANDSTR
ORSTR
STR	ST2
ANDGE	MHR415	140
AND	T1.Done
ORSTR
ORNE	MHR411	0
ORN	MC100
OR	T0.Done
ANDN	MC3
DUPBOOL
ANDN	MC602
ANDN	T0.Done
MWX	@IntSerModbusClient	0	0	1	6	2332	1	0	0x0	0	0x1	Drive.S0	C212	V1006
RST	MC100
POPBOOL
STR	MC602
OR	T0.Done
ANDSTR
MWX	@IntSerModbusClient	0	0	1	6	2332	1	0	0x0	0	0x1	Drive.S3	C213	V1006
RST	MC100
SET	MC103

// Rung Drive#13
// Offset 156
STR	MC3
MWX	@IntSerModbusClient	0	0	1	6	2332	1	0	0x0	0	0x1	Drive.S3	C214	V1006

// Rung Drive#14
// Offset 168
SG	Drive.S3

// Rung Drive#15
// Offset 170
STRN	MC3
ANDN	MC602
ANDN	MC104
JMP	Drive.S0
RST	MC100
RST	MC103
RST	MC104

// End of Code Block Drive
$PGMEND	Drive

// Beginning of Code Block Heartbeat
$PRGRM	Heartbeat

// Rung Heartbeat#1
// Offset 0
SG	Heartbeat.S0

// Rung Heartbeat#2
// Offset 2
STR	ST1
TMR	T3	60000

// Rung Heartbeat#3
// Offset 5
STR	MC600
RST	MC600
SET	MC601
RST	MC602
SETNUMR	D10	D10	0
JMP	Heartbeat.S1

// Rung Heartbeat#4
// Offset 13
STR	T3.Done
ANDN	MC600
RSTT	T3
INC	D10

// Rung Heartbeat#5
// Offset 17
STRGE	D10	3
ANDN	MC900
JMP	Heartbeat.S3
SETNUMR	D10	D10	0

// Rung Heartbeat#6
// Offset 26
SG	Heartbeat.S1

// Rung Heartbeat#7
// Offset 28
STR	ST1
TMR	T4	3000

// Rung Heartbeat#8
// Offset 31
STR	T4.DN
RST	MC601
JMP	Heartbeat.S0

// Rung Heartbeat#9
// Offset 34
SG	Heartbeat.S3

// Rung Heartbeat#10
// Offset 36
STRN	Drive.S0
RST	MC100

// Rung Heartbeat#11
// Offset 38
STRN	MHR1024:0
ANDN	MHR1024:1
AND	MC102
AND	Drive.S0
RST	MC102

// Rung Heartbeat#12
// Offset 43
STRN	MHR1024:0
ANDN	MHR1024:1
ANDN	MHR1024:3
ANDN	MHR1024:4
AND	Drive.S0
SET	MC100
RST	MC602
JMP	Heartbeat.S4

// Rung Heartbeat#13
// Offset 51
SG	Heartbeat.S4

// Rung Heartbeat#14
// Offset 53
STRN	MC602
SET	MC602
RSTT	T5

// Rung Heartbeat#15
// Offset 56
STR	MC602
DUPBOOL
AND	T6.Zero
ANDN	MC901
EMAIL	@LCO_smtp	"""lvm-critical@sdss.org"""	""""""	""""""	"""Critical:PLC connection lost"""	0x1	"""PLC has lost communication with the server for "" D3 "" seconds"""	0x0	C1	C2
POPBOOL
DUPBOOL
ANDN	T6.Done
TMR	T6	300000
POPBOOL
AND	ST1
TMRAG	T5	0
MATH	D3	"(T5.Acc / 1000) + 180"

// Rung Heartbeat#16
// Offset 123
STR	T6.Done
RSTT	T6

// Rung Heartbeat#17
// Offset 125
STR	MC600
SET	MC601
RST	MC600
RST	MC602
RSTT	T5
JMP	Heartbeat.S1
ANDN	MC901
EMAIL	@LCO_smtp	"""lvm-critical@sdss.org"""	""""""	""""""	"""Critical: PLC conection restored"""	0x1	"""PLC to server communication restored after "" D3 "" seconds"""	0x1	Heartbeat.S1	C2

// End of Code Block Heartbeat
$PGMEND	Heartbeat

// Beginning of Code Block Rain
$PRGRM	Rain

// Rung Rain#1
// Offset 0
#BEGIN FMT_COMMENT 
"The rain sensor was connected using a negated logic (off = "
"1 & on = 0). Therefore, there are two cases were the input "
"will be activated<br> <br> 1. There is rain.<br>"
" 2. There is an issue with the system.<br> <br>"
"The output logic is negated, to show a logic 1 if there is "
"rain."
#END

SG	Rain.S0

// Rung Rain#2
// Offset 2
STRN	X47
JMP	Rain.S1
SET	MC700

// Rung Rain#3
// Offset 5
#BEGIN FMT_COMMENT 
"Rain bit will be on, for 15 min after rain sensor is "
"cleared.<br> <br>Once time has past, it goes back to idle"
#END

SG	Rain.S1

// Rung Rain#4
// Offset 7
STR	X47
TMRDOWN	T7	900000

// Rung Rain#5
// Offset 11
STR	ST1
TMR	T8	3600000

// Rung Rain#6
// Offset 15
STR	T7.Done
SET	C13

// Rung Rain#7
// Offset 17
STR	X47
AND	T7.Done
JMP	Rain.S0
RST	MC700

// End of Code Block Rain
$PGMEND	Rain

// Beginning of Code Block Drive_new
$PRGRM	Drive_new

// Rung Drive_new#1
// Offset 0
SG	Drive_new.S0

// Rung Drive_new#2
// Offset 2
STR	MC112
RST	MC112

// Rung Drive_new#3
// Offset 4
STR	MC113
RST	MC113

// Rung Drive_new#4
// Offset 6
#BEGIN FMT_COMMENT 
"Select the direction of the motor.<br>"
"Off =%3E Forward direction (Close roll-off)<br>"
"On =%3E Reverse direction (Open roll-off)"
#END

STRN	MC700
ANDNE	MC102	MHR1024:4
DUPBOOL
AND	MC102
MWX	@IntSerModbusClient	0	0	1	6	2333	1	1	0x0	0	0x0	C109	C209	DST511
POPBOOL
ANDN	MC102
MWX	@IntSerModbusClient	0	0	1	6	2333	1	0	0x0	0	0x0	C109	C209	DST511

// Rung Drive_new#5
// Offset 37
#BEGIN FMT_COMMENT 
"If it starts raining, system will automatically set drive "
"direction to close."
#END

STR	MC700
ANDN	MC109
MWX	@IntSerModbusClient	0	0	1	6	2333	1	0	0x0	0	0x0	C109	C209	DST511

// Rung Drive_new#6
// Offset 50
#BEGIN FMT_COMMENT 
"Jump to remove brakes. As brakes aren't connected, it will "
"jump to start movement"
#END

STRN	MC111
ANDN	MC700
AND	MC100
ANDE	MC102	MHR1024:4
ANDN	MHR1024:1
ANDN	MHR1024:0
STRE	MHR1024:4	0
AND	MC700
ANDN	MHR1024:1
ANDN	MHR1024:0
ANDN	MC109
ORSTR
JMP	Drive_new.S2
AND	ST2
JMP	Drive_new.S1

// Rung Drive_new#7
// Offset 71
STR	MC700
AND	MC109
OR	X40
OR	MC3
ANDN	MHR1024:1
ANDN	MHR1024:0
JMP	Drive_new.S10
SET	MC111

// Rung Drive_new#8
// Offset 79
SG	Drive_new.S1

// Rung Drive_new#9
// Offset 81
STR	ST1
SET	Y9
SET	Y10
TMRDOWN	T9	10000

// Rung Drive_new#10
// Offset 86
STR	T9.Done
ANDN	MC3
ANDN	X40
JMP	Drive_new.S2

// Rung Drive_new#11
// Offset 90
STR	MC3
OR	X40
JMP	Drive_new.S7

// Rung Drive_new#12
// Offset 93
SG	Drive_new.S2

// Rung Drive_new#13
// Offset 95
STRNE	V100	MHR413
MWX	@IntSerModbusClient	0	0	1	6	2331	1	V100	0x0	0	0x0	C108	C208	DST511

// Rung Drive_new#14
// Offset 110
STR	MC100
ANDE	V100	MHR413
ANDN	MC3
ANDN	X40
MWX	@IntSerModbusClient	0	0	1	6	2332	1	1	0x0	0	0x1	Drive_new.S2	C211	V1006

// Rung Drive_new#15
// Offset 128
STR	MHR1024:1
AND	MHR1024:0
ANDN	MC3
ANDN	X40
DUPBOOL
AND	MHR1024:4
AND	MHR1024:3
JMP	Drive_new.S3
POPBOOL
ANDN	MHR1024:4
ANDN	MHR1024:3
JMP	Drive_new.S5

// Rung Drive_new#16
// Offset 140
STR	MC3
ORN	MC100
OR	X40
JMP	Drive_new.S7

// Rung Drive_new#17
// Offset 144
SG	Drive_new.S3

// Rung Drive_new#18
// Offset 146
STR	ST1
TMRDOWN	T0	D20
COPY	0x1	"4 0x0 T0.Acc R0 1 0x0 T0.Acc R1 1"

// Rung Drive_new#19
// Offset 157
STR	X38
OR	X34
ORGE	$Dome_encoder.iReg1	D100
MWX	@IntSerModbusClient	0	0	1	6	2331	1	V101	0x0	0	0x1	Drive_new.S4	C208	DST511

// Rung Drive_new#20
// Offset 174
STR	T0.Done
ORNE	MHR411	0
OR	MC3
OR	X40
ORN	MC100
OR	MC700
JMP	Drive_new.S7

// Rung Drive_new#21
// Offset 184
SG	Drive_new.S4

// Rung Drive_new#22
// Offset 186
STR	ST1
TMRDOWN	T0	D21
TMRDOWN	T11	D22
COPY	0x1	"4 0x0 T0.Acc R0 1 0x0 T11.Acc R3 1 0x0 T0.Acc R2 1"

// Rung Drive_new#23
// Offset 201
STR	MC700
OR	T0.Done
OR	MC3
OR	X40
ORNE	MHR411	0
ORN	MC100
STRGE	MHR415	120
ANDGE	$Dome_encoder.iReg1	D101
ORSTR
STRGE	MHR415	120
AND	T11.Done
ORSTR
STRGE	$Dome_encoder.iReg1	D101
AND	T11.Done
ORSTR
JMP	Drive_new.S7

// Rung Drive_new#24
// Offset 232
SG	Drive_new.S5

// Rung Drive_new#25
// Offset 234
STR	ST1
TMRDOWN	T0	D23
TMRDOWN	T11	D24
COPY	0x1	"4 0x0 T0.Acc R0 1 0x0 T11.Acc R5 1 0x0 T0.Acc R4 1"

// Rung Drive_new#26
// Offset 249
STR	T0.Done
ORNE	MHR411	0
OR	MC3
OR	X40
ORN	MC100
JMP	Drive_new.S7

// Rung Drive_new#27
// Offset 258
STR	T11.Done
ORLE	$Dome_encoder.iReg1	D102
MWX	@IntSerModbusClient	0	0	1	6	2331	1	V101	0x0	0	0x1	Drive_new.S6	C208	DST511

// Rung Drive_new#28
// Offset 274
SG	Drive_new.S6

// Rung Drive_new#29
// Offset 276
STR	ST1
TMRDOWN	T0	D25
COPY	0x1	"4 0x0 T0.Acc R0 1 0x0 T0.Acc R6 1"

// Rung Drive_new#30
// Offset 287
STR	T0.Done
ORNE	MHR411	0
OR	MC3
OR	X40
ORN	MC100
STRGE	MHR415	120
ANDLE	$Dome_encoder.iReg1	0
ORSTR
STRGE	MHR415	120
STRN	X36
ORN	X32
ANDSTR
ORSTR
STRLE	$Dome_encoder.iReg1	0
STRN	X36
ORN	X32
ANDSTR
ORSTR
JMP	Drive_new.S7

// Rung Drive_new#31
// Offset 321
SG	Drive_new.S7

// Rung Drive_new#32
// Offset 323
STR	ST1
MWX	@IntSerModbusClient	0	0	1	6	2332	1	0	0x0	0	0x1	Drive_new.S11	C211	V1006
RST	MC100

// Rung Drive_new#33
// Offset 336
SG	Drive_new.S11

// Rung Drive_new#34
// Offset 338
STRN	MHR1024:1
ANDN	MHR1024:0
DUPBOOL
AND	ST2
JMP	Drive_new.S8
POPBOOL
DUPBOOL
STRE	R0	0
ORNE	MHR411	0
ANDSTR
ANDN	X40
ANDN	MC3
JMP	Drive_new.S9
SET	MC112
POPBOOL
ANDNE	R0	0
ANDE	MHR411	0
JMP	Drive_new.S0

// Rung Drive_new#35
// Offset 368
STR	X40
OR	MC3
JMP	Drive_new.S10
SET	MC111

// Rung Drive_new#36
// Offset 372
SG	Drive_new.S8

// Rung Drive_new#37
// Offset 374
STR	ST1
RST	Y9
RST	Y10
TMRDOWN	T9	10000

// Rung Drive_new#38
// Offset 379
STR	T9.Done
DUPBOOL
STRE	R0	0
ORNE	MHR411	0
ANDSTR
ANDN	X40
ANDN	MC3
JMP	Drive_new.S9
POPBOOL
ANDNE	R0	0
ANDE	MHR411	0
JMP	Drive_new.S0

// Rung Drive_new#39
// Offset 403
STR	X40
OR	MC3
JMP	Drive_new.S10
SET	MC111

// Rung Drive_new#40
// Offset 407
SG	Drive_new.S9

// Rung Drive_new#41
// Offset 409
STR	MC113
ANDE	MHR411	0
JMP	Drive_new.S0
RST	MC112
RST	MC113

// Rung Drive_new#42
// Offset 417
SG	Drive_new.S10

// Rung Drive_new#43
// Offset 419
STRN	MC700
ANDN	X40
ANDN	MC3
JMP	Drive_new.S0
RST	MC111
RST	MC100

// End of Code Block Drive_new
$PGMEND	Drive_new

#BEGIN ELEMENT_DOC
"X16","Door_locked_in","",""
"X18","Door_closed_in","",""
"X24","Ctl_lights_in","","Control room lights current sensor input"
"X25","Utl_room_in","","Utilities room lights current sensor input"
"X26","Spec_lights_in","","Spectrograph room lights current sensor input"
"X27","Mze_lights_in","","Mezzanine lights current sensor input"
"X28","Plat_Wlights_in","","Platform white light current sensor input"
"X29","Plat_Rlights_in","","Platform red light current sensor input"
"X32","LS_NW_in","",""
"X34","LS_SW_in","",""
"X36","LS_NE_in","",""
"X38","LS_SE_in","",""
"X40","Estop_status","","Shows if E-stop is active"
"X47","rain_sen_in","",""
"Y0","Ctl_lights_out","","Control room lights relay out"
"Y1","Utl_lights_out","","Utilities room lights relay out"
"Y2","Spec_lights_out","","Spectrograph room lights relay out"
"Y3","Mze_lights_out","","Mezzanine room lights relay out"
"Y4","Plat_Wlight_out","","Roll-off White light relay out"
"Y5","Plat_Rlight_out","","Roll-off Red light relay out"
"Y8","HVAC_flag","","Flag to stop telescope platform fans"
"Y9","Brake_start","",""
"Y10","brake_mantain","",""
"Y13","PLC_Estop_releas","","PLC reset e-stop output"
"Y14","PLC_Estop","","PLC e-stop output"
"C7","SMTP_log","","Sends information to dmlogger when smpt message is sent"
"C13","rain_time_done","",""
"C100","","","Success read"
"C101","","","Success read"
"C102","","","Success read"
"C103","","","Success read"
"C104","","","Success read"
"C105","","","Success read"
"C106","","","Success read"
"C107","","","Success read"
"C108","","","Success read"
"C109","","","Success read"
"C110","","","Success read"
"C200","","","Error read"
"C201","","","Error read"
"C202","","","Error read"
"C203","","","Error read"
"C204","","","Error read"
"C205","","","Error read"
"C206","","","Error read"
"C207","","","Error read"
"C208","","","Error read"
"C209","","","Error read"
"C210","","","Error read"
"C211","","","Error read"
"C212","","","Error read"
"C213","","","Error read"
"C214","","","Error read"
"C1000","Roof_logic_sel","","Roll off logic selector, while tests are done"
"V100","Drive_speed_a","",""
"V101","Drive_speed_b","",""
"D0","Overcurrent_lim","",""
"D1","Dome_move_tout","",""
"D2","curr_delay_val","",""
"D3","HB_err_seconds","",""
"D4","UTC","",""
"D20","Tout_open","",""
"D21","Tout_open_aprch","",""
"D22","Topen_apr","",""
"D23","Tout_close","",""
"D24","Tclose","",""
"D25","Tout_close_apr","",""
"D100","Open_count_lim_1","",""
"T0","Dome_tout","",""
"T1","Curr_delay","",""
"T7","Rain_time","",""
"T8","Rain_elapsd_time","",""
"T10","timer_500ms","",""
"T11","T_countdown","",""
"SS2","filename","",""
"SL0","DMLOG_new_read","","Modbus variables new reading for dmlogger output"
"SL1","DMLOG_MOD_OUT","","Modbus variables sent to DMLOGGER"
"SL2","Log_Filename","","DMlogger log filename"
"SL3","DMLOG_saved_read","","Modbus variables to be checked against at next cycle"
"SL4","SMTP_Error","",""
"UDT0","date","",""
"MC1","Door_locked","",""
"MC2","Door_closed","",""
"MC3","Local_enable","",""
"MC100","Dome_enable","","LVM software motor enable"
"MC102","Motor_dir","","LVM software motor direction"
"MC103","Dome_Tout_stat","","Roll-off timout status"
"MC104","Dome_Tout_rst","","Reset Roll-off timeout bit"
"MC105","NE_lim_mod","","North-east LS modbus output"
"MC106","SE_lim_mod","","South-east LS modbus output"
"MC107","NW_lim_mod","","North-west LS modbus output"
"MC108","SW_lim_mod","","South-west LS modbus output"
"MC109","Dome_closed","","Dome status closed"
"MC110","Dome_open","","Dome status open"
"MC111","Rolloff_lout","",""
"MC112","Rolloff_error","",""
"MC113","Drive_error_rst","",""
"MC200","Estop_stat_mbus","","E-stop status, read on the secondary electrical panel"
"MC201","Remote_estop","","Remote E-stop"
"MC202","Remote_estop_rel","","Remote E-stop release"
"MC235","CTL_room_tog","","Modbus control room lights toggle"
"MC236","UTL_room_tog","","Modbus utilities room lights toggle"
"MC237","Spec_room_tog","","Modbus Spectrograph room lights toggle"
"MC238","Mze_room_tog","","Modbus mezzanine room lights toggle"
"MC239","Plat_wlight_tog","","Modbus roll-off white light toggle"
"MC240","Plat_rlight_tog","","Modbus roll-off red light toggle"
"MC335","CTL_room_stat","","Modbus utilities room lights status"
"MC336","UTL_room_stat","","Modbus utilities room lights status"
"MC337","Spec_room_stat","","Modbus spectrograph room lights status"
"MC338","Mze_room_stat","","Modbus mezzanine room lights status"
"MC339","Plat_wlight_stat","","Modbus roll-off white light status"
"MC340","Plat_rlight_stat","","Modbus roll-off red light status"
"MC600","HB_input","",""
"MC601","HB_ACK","",""
"MC602","HB_err_out","",""
"MC700","Rain_mod","",""
"MC900","Eng_hw_mode","","Disables hardware safety features"
"MC901","Eng_sw_mode","","Disables software safety features"
"MHR150","Dome_enc_count","","Roll off encoder counts"
"MHR151","Dome_enc_scale","","Roll off position scaled to mm"
"MHR152","Dome_speed","","Roll off speed scaled to mm"
"MHR411","Status_1","",""
"MHR413","VDF_comm_freq","","VDF desired frequency output"
"MHR414","VDF_out_freq","","VDF output frequency"
"MHR415","Im","","VDF output current"
"MHR510","Rem_freq","","VDF remote freq variable"
"MHR600","O2_pct_utl_room","",""
"MHR601","O2_pct_spec_room","",""
"MHR602","ODH_EC_utl_room","",""
"MHR603","ODH_EC_spec_room","",""
"MHR604","ODH_SB_utl_room","",""
"MHR605","ODH_SB_spec_room","",""
"MHR700","Rain_el_time","",""
"MHR701","No_rain_cdown","","Countdown from 15 min with no rain"
"MHR1024","Status_2","","GS3 drive status 2"
"MHR1024:0","Status_2:0","","GS3 drive movement transitioning state"
"MHR1024:1","Status_2:1","","GS3 drive movement status"
"MHR1024:3","Status_2:3","","GS3 drive directiontransitioning state"
"MHR1024:4","Status_2:4","","GS3 drive direction"
"Drive.S0","Idle","",""
"Drive.S1","Motor_start","",""
"Drive.S2","Motor_moving","",""
"Drive.S3","Drive_disable","","Drive is disabled due to local mode or heartbeat"
"Rain.S0","Rain_idle","",""
"Rain.S1","Rain_timer","",""
"Heartbeat.S0","HB_idle","",""
"Heartbeat.S1","HB_ok_wait","",""
"Heartbeat.S3","HB_error","",""
"Heartbeat.S4","HB_wait_error","",""
"Drive_new.S0","Drive_idle","",""
"Drive_new.S1","Rem_brakes","",""
"Drive_new.S2","Start_movement","",""
"Drive_new.S3","Open_roof","",""
"Drive_new.S4","Open_aproach","",""
"Drive_new.S5","Close_roof","",""
"Drive_new.S6","Close_roof_apr","",""
"Drive_new.S7","Stop_movement","",""
"Drive_new.S8","Set_brakes","",""
"Drive_new.S9","Error","",""
"Drive_new.S10","Lockout","",""
"Drive_new.S11","Stop_move_select","",""
#END

